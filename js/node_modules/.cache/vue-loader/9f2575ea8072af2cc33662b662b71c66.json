{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/NodePicker.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/NodePicker.vue","mtime":1714946187071},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBSb290IGZyb20gJy4uL3N0b3JlL1Jvb3QnOwppbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvUm9vdCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05vZGVQaWNrZXInLAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoVGV4dDogJycsCiAgICAgIFJvb3Q6IFJvb3QsCiAgICAgIG5vZGVTdG9yZTogUm9vdC5ub2RlU3RvcmUsCiAgICAgIHBlblN0b3JlOiBSb290LnBlblN0b3JlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGtleWRvd24oZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAoUm9vdC5wZW5TdG9yZS5nZXRRdWVyeSgpICE9PSAnJykgewogICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zdWdnZXN0aW9uc1swXTsKICAgICAgICAgIFJvb3QucGVuU3RvcmUuY29tbWl0Tm9kZUNob2ljZShyZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5ibHVyKCk7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB0aGlzLmJsdXIoKTsKICAgICAgfQogICAgfSwKICAgIGZvY3VzKCkgewogICAgICB0aGlzLiRyZWZzWydpbnB1dCddLmZvY3VzKCk7CiAgICB9LAogICAgYmx1cigpIHsKICAgICAgUm9vdC5wZW4uc2V0SXNRdWVyeWluZyhmYWxzZSk7CiAgICAgIHRoaXMuJGVtaXQoJ2JsdXInKTsKICAgIH0sCiAgICBvbkNsaWNrKHN1Z2dlc3Rpb24sIGV2ZW50KSB7CiAgICAgIFJvb3QucGVuLmNvbW1pdE5vZGVDaG9pY2Uoc3VnZ2VzdGlvbik7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuYmx1cigpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Z2dlc3Rpb25zKCkgewogICAgICByZXR1cm4gQXJyYXkuZnJvbShSb290LnBlblN0b3JlLmdldE5vZGVDaG9pY2VzKCkpOwogICAgfSwKICAgIHF1ZXJ5OiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFJvb3QucGVuU3RvcmUuZ2V0UXVlcnkoKTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihxdWVyeSkgewogICAgICAgIFJvb3QucGVuU3RvcmUuc2V0UXVlcnkocXVlcnkpOwogICAgICB9CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["NodePicker.vue"],"names":[],"mappings":";AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NodePicker.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class='node-picker'>\n  <input class='input' ref=\"input\" @blur='blur' @keydown='keydown' v-model='query' />\n  <div class='divider'></div>\n  <div>\n    <div v-for='(suggestion, index) in suggestions' :key='index' class='suggestion' @mousedown='onClick(suggestion, $event)'>\n      {{ suggestion.text }}\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Root from '../store/Root';\nimport Store from '../store/Root';\n\nexport default {\n  name: 'NodePicker',\n  data: function() {\n    return {\n      searchText: '',\n      Root: Root,\n      nodeStore: Root.nodeStore,\n      penStore: Root.penStore,\n    };\n  },\n  methods: {\n    keydown(event) {\n      if (event.key === 'Enter' && this.suggestions.length > 0) {\n        if (Root.penStore.getQuery() !== '') {\n          const result = this.suggestions[0];\n          Root.penStore.commitNodeChoice(result);\n        }\n\n        this.blur();\n        event.preventDefault();\n      } else if (event.key === 'Escape') {\n        event.preventDefault();\n        this.blur();\n      }\n    },\n    focus() {\n      this.$refs['input'].focus();\n    },\n    blur() {\n      Root.pen.setIsQuerying(false);\n      this.$emit('blur');\n    },\n    onClick(suggestion, event) {\n      Root.pen.commitNodeChoice(suggestion);\n      event.preventDefault();\n      this.blur();\n    }\n  },\n  computed: {\n    suggestions() {\n      return Array.from(Root.penStore.getNodeChoices());\n    },\n    query: {\n      get: function() {\n        return Root.penStore.getQuery();\n      },\n      set: function(query) {\n        Root.penStore.setQuery(query);\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.node-picker {\n  background-color: white;\n  border-color: black;\n  border-width: 1px;\n  border-style: solid;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);\n  padding: 10px;\n  height: 25vh;\n  overflow-y: auto;\n}\n.suggestion {\n  text-transform: lowercase;\n}\n.input {\n  width: 100%;\n  outline: none;\n  border: none;\n}\n.suggestion:hover {\n  background-color: #a8d1ff;\n}\n.divider {\n  border-bottom: 1px solid rgba(0, 0, 0, .2);\n  margin-bottom: 10px;\n  margin-top: 10px;\n}\n</style>\n"]}]}