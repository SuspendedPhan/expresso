{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js??ref--14-2!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/eslint-loader/index.js??ref--13-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/tests/Tests.ts","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/tests/Tests.ts","mtime":1714946187074},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js","mtime":1714947267504},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/eslint-loader/index.js","mtime":1714947270651}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgY2hhaSBmcm9tICJjaGFpIjsKaW1wb3J0IHsgZGVzY3JpYmUsIEFzc2VydGlvbkVycm9yIH0gZnJvbSAiLi9UZXN0UnVubmVyIjsKaW1wb3J0ICogYXMgVGVzdFJ1bm5lciBmcm9tICIuL1Rlc3RSdW5uZXIiOwovLyBucG0gcnVuIG1kIC0tIC1vIEM6XFVzZXJzXFlha3RvcmlcRG9jdW1lbnRzXEdpdEh1YlxleHByZXNzb1xzcmNcY29tcG9uZW50c1x0ZXN0c1xkYXRhXHRocmVlbGV2ZWxzLmpzb24gQzpcVXNlcnNcWWFrdG9yaVxEb2N1bWVudHNcR2l0SHViXGV4cHJlc3NvXHNyY1xjb21wb25lbnRzXHRlc3RzXGRhdGFcdGhyZWVsZXZlbHMubWQKZnVuY3Rpb24gbG9nQW5kUmV0aHJvdyhlcnJvcikgewogIGNvbnN0IGN1c3RvbUVycm9yID0gT2JqZWN0LmFzc2lnbihuZXcgQXNzZXJ0aW9uRXJyb3IoKSwgewogICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgIGFjdHVhbDogZXJyb3IuYWN0dWFsLAogICAgZXhwZWN0ZWQ6IGVycm9yLmV4cGVjdGVkCiAgfSk7CiAgY29uc29sZS5lcnJvcihjdXN0b21FcnJvcik7CiAgdGhyb3cgY3VzdG9tRXJyb3I7Cn0KZnVuY3Rpb24gZXhwZWN0KGFjdHVhbCkgewogIHJldHVybiB7CiAgICB0bzogewogICAgICBlcXVhbDogZnVuY3Rpb24gKGV4cGVjdGVkKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNoYWkuYXNzZXJ0LnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBsb2dBbmRSZXRocm93KGVycm9yKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHsKICAgICAgICBlcXVhbDogZnVuY3Rpb24gKGV4cGVjdGVkKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjaGFpLmFzc2VydC5kZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBsb2dBbmRSZXRocm93KGVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGluY2x1ZGU6IGZ1bmN0aW9uIChleHBlY3RlZCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY2hhaS5hc3NlcnQuZGVlcE93bkluY2x1ZGUoYWN0dWFsLCBleHBlY3RlZCk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBsb2dBbmRSZXRocm93KGVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRocm93OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNoYWkuYXNzZXJ0LnRocm93cyhhY3R1YWwpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBsb2dBbmRSZXRocm93KGVycm9yKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5vdDogewogICAgICAgIGVxdWFsOiBmdW5jdGlvbiAoZXhwZWN0ZWQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNoYWkuYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgbG9nQW5kUmV0aHJvdyhlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKfQpUZXN0UnVubmVyLmNsZWFyU3RvcmUoKTsKZGVzY3JpYmUoIkhlbGxvV29ybGQudnVlIiwgKCkgPT4gewogIC8vIGl0KCJvcmdhbmlzbSIsICgpID0+IHsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgY29uc3Qgb3JnYW5pc21TdG9yZSA9IHJvb3Qub3JnYW5pc21TdG9yZTsKICAvLyAgIGNvbnN0IGNpcmNsZSA9IG9yZ2FuaXNtU3RvcmUucHV0KCJjaXJjbGUiKTsKICAvLyAgIGNvbnN0IGNpcmNsZTIgPSBvcmdhbmlzbVN0b3JlLmdldEZyb21OYW1lKCJjaXJjbGUiKTsKICAvLyAgIGV4cGVjdChjaXJjbGUpLnRvLmVxdWFsKGNpcmNsZTIpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoImF0dHJpYnV0ZSIsICgpID0+IHsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgY29uc3QgYXR0cmlidXRlU3RvcmUgPSByb290LmF0dHJpYnV0ZVN0b3JlOwogIC8vICAgY29uc3Qgb3JnYW5pc21TdG9yZSA9IHJvb3Qub3JnYW5pc21TdG9yZTsKICAvLyAgIGNvbnN0IGNpcmNsZSA9IG9yZ2FuaXNtU3RvcmUucHV0KCJjaXJjbGUiKTsKICAvLyAgIGNvbnN0IHJhZGl1cyA9IGF0dHJpYnV0ZVN0b3JlLnB1dEVkaXRhYmxlKGNpcmNsZSwgInJhZGl1cyIpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoIm5lc3RlZCBhZGQiLCAoKSA9PiB7CiAgLy8gICAvLyByZXR1cm47CiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKTsKICAvLyAgIGNvbnN0IGF0dHJpYnV0ZVN0b3JlID0gcm9vdC5hdHRyaWJ1dGVTdG9yZTsKICAvLyAgIGNvbnN0IG9yZ2FuaXNtU3RvcmUgPSByb290Lm9yZ2FuaXNtU3RvcmU7CiAgLy8gICBjb25zdCBub2RlU3RvcmUgPSByb290Lm5vZGVTdG9yZTsKICAvLyAgIGNvbnN0IG1ldGFmdW5TdG9yZSA9IHJvb3QubWV0YWZ1blN0b3JlOwogIC8vCiAgLy8gICAvLyBjaXJjbGUgLT4gcmFkaXVzIC0+IG51bWJlcgogIC8vICAgY29uc3QgY2lyY2xlID0gb3JnYW5pc21TdG9yZS5wdXQoImNpcmNsZSIpOwogIC8vICAgY29uc3QgcmFkaXVzID0gYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAicmFkaXVzIik7CiAgLy8gICBjb25zdCByYWRpdXNSb290ID0gYXR0cmlidXRlU3RvcmUuZ2V0Um9vdE5vZGUocmFkaXVzKTsKICAvLyAgIGNvbnN0IHJhZGl1c0NoaWxkID0gbm9kZVN0b3JlLnB1dENoaWxkKAogIC8vICAgICByYWRpdXNSb290LAogIC8vICAgICAwLAogIC8vICAgICBub2RlU3RvcmUuYWRkTnVtYmVyKDUpCiAgLy8gICApOwogIC8vCiAgLy8gICBleHBlY3Qobm9kZVN0b3JlLmdldFBhcmVudChyYWRpdXNDaGlsZCkpLnRvLmVxdWFsKHJhZGl1c1Jvb3QpOwogIC8vICAgZXhwZWN0KG5vZGVTdG9yZS5nZXRDaGlsZChyYWRpdXNSb290LCAwKSkudG8uZXF1YWwocmFkaXVzQ2hpbGQpOwogIC8vICAgZXhwZWN0KG5vZGVTdG9yZS5ub2Rlcy5sZW5ndGggPT09IDIpOwogIC8vCiAgLy8gICAvLyBjaXJjbGUgLT4gcmFkaXVzIC0+IHZhcmlhYmxlIC0+IGFkZCAtPiBudW1iZXIgfCBudW1iZXIKICAvLyAgIGNvbnN0IGFkZCA9IG5vZGVTdG9yZS5hZGRGdW4obWV0YWZ1blN0b3JlLmdldEZyb21OYW1lKCJBZGQiKSk7CiAgLy8gICBub2RlU3RvcmUucHV0Q2hpbGQocmFkaXVzUm9vdCwgMCwgYWRkKTsKICAvLyAgIGV4cGVjdCgoKSA9PiBub2RlU3RvcmUucHV0Q2hpbGQocmFkaXVzUm9vdCwgMSwgYWRkKSkudG8udGhyb3coKTsKICAvLwogIC8vICAgZXhwZWN0KG5vZGVTdG9yZS5nZXRDaGlsZChyYWRpdXNSb290LCAwKS5tZXRhbmFtZSkudG8uZXF1YWwoIkZ1bmN0aW9uIik7CiAgLy8gICBleHBlY3Qobm9kZVN0b3JlLm5vZGVzLmxlbmd0aCkudG8uZXF1YWwoNCk7CiAgLy8KICAvLyAgIGNvbnN0IGFkZDIgPSBub2RlU3RvcmUuYWRkRnVuKG1ldGFmdW5TdG9yZS5nZXRGcm9tTmFtZSgiQWRkIikpOwogIC8vICAgbm9kZVN0b3JlLnB1dENoaWxkKGFkZCwgMCwgYWRkMik7CiAgLy8gICByYWRpdXNSb290LmV2YWwoKTsKICAvLwogIC8vICAgZXhwZWN0KG5vZGVTdG9yZS5ub2Rlcy5sZW5ndGgpLnRvLmVxdWFsKDYpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoInJlYXNzaWduIHZhcmlhYmxlIiwgKCkgPT4gewogIC8vICAgY29uc3Qgcm9vdCA9IG5ldyBSb290KCk7CiAgLy8gICBjb25zdCBhdHRyaWJ1dGVTdG9yZSA9IHJvb3QuYXR0cmlidXRlU3RvcmU7CiAgLy8gICBjb25zdCBvcmdhbmlzbVN0b3JlID0gcm9vdC5vcmdhbmlzbVN0b3JlOwogIC8vICAgY29uc3Qgbm9kZVN0b3JlID0gcm9vdC5ub2RlU3RvcmU7CiAgLy8KICAvLyAgIGNvbnN0IGNpcmNsZSA9IG9yZ2FuaXNtU3RvcmUucHV0KCJjaXJjbGUiKTsKICAvLyAgIGNvbnN0IHJhZGl1cyA9IGF0dHJpYnV0ZVN0b3JlLmdldFJvb3ROb2RlKAogIC8vICAgICBhdHRyaWJ1dGVTdG9yZS5wdXRFZGl0YWJsZShjaXJjbGUsICJyYWRpdXMiKQogIC8vICAgKTsKICAvLyAgIGNvbnN0IHggPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZSgKICAvLyAgICAgYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAieCIpCiAgLy8gICApOwogIC8vICAgY29uc3QgeSA9IGF0dHJpYnV0ZVN0b3JlLmdldFJvb3ROb2RlKAogIC8vICAgICBhdHRyaWJ1dGVTdG9yZS5wdXRFZGl0YWJsZShjaXJjbGUsICJ5IikKICAvLyAgICk7CiAgLy8KICAvLyAgIGV4cGVjdChyYWRpdXMuZXZhbCgpKS50by5lcXVhbCgwKTsKICAvLyAgIGV4cGVjdCh4LmV2YWwoKSkudG8uZXF1YWwoMCk7CiAgLy8gICBleHBlY3QoeS5ldmFsKCkpLnRvLmVxdWFsKDApOwogIC8vCiAgLy8gICBub2RlU3RvcmUucHV0Q2hpbGQocmFkaXVzLCAwLCBub2RlU3RvcmUuYWRkTnVtYmVyKDUpKTsKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZCh4LCAwLCBub2RlU3RvcmUuYWRkTnVtYmVyKDcpKTsKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZCh5LCAwLCBub2RlU3RvcmUuYWRkTnVtYmVyKDkpKTsKICAvLwogIC8vICAgZXhwZWN0KHJhZGl1cy5ldmFsKCkpLnRvLmVxdWFsKDUpOwogIC8vICAgZXhwZWN0KHguZXZhbCgpKS50by5lcXVhbCg3KTsKICAvLyAgIGV4cGVjdCh5LmV2YWwoKSkudG8uZXF1YWwoOSk7CiAgLy8KICAvLyAgIC8vIHggPSByYWRpdXMKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZCh4LCAwLCBub2RlU3RvcmUuYWRkUmVmZXJlbmNlKHJhZGl1cykpOwogIC8vCiAgLy8gICBleHBlY3QocmFkaXVzLmV2YWwoKSkudG8uZXF1YWwoNSk7CiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDUpOwogIC8vICAgZXhwZWN0KHkuZXZhbCgpKS50by5lcXVhbCg5KTsKICAvLwogIC8vICAgLy8geCA9IHkKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZCh4LCAwLCBub2RlU3RvcmUuYWRkUmVmZXJlbmNlKHkpKTsKICAvLwogIC8vICAgZXhwZWN0KHJhZGl1cy5ldmFsKCkpLnRvLmVxdWFsKDUpOwogIC8vICAgZXhwZWN0KHguZXZhbCgpKS50by5lcXVhbCg5KTsKICAvLyAgIGV4cGVjdCh5LmV2YWwoKSkudG8uZXF1YWwoOSk7CiAgLy8KICAvLyAgIC8vIHkgPSAyCiAgLy8gICBub2RlU3RvcmUucHV0Q2hpbGQoeSwgMCwgbm9kZVN0b3JlLmFkZE51bWJlcigyKSk7CiAgLy8KICAvLyAgIGV4cGVjdChyYWRpdXMuZXZhbCgpKS50by5lcXVhbCg1KTsKICAvLyAgIGV4cGVjdCh4LmV2YWwoKSkudG8uZXF1YWwoMik7CiAgLy8gICBleHBlY3QoeS5ldmFsKCkpLnRvLmVxdWFsKDIpOwogIC8vCiAgLy8gICAvLyB4ID0gMwogIC8vICAgbm9kZVN0b3JlLnB1dENoaWxkKHgsIDAsIG5vZGVTdG9yZS5hZGROdW1iZXIoMykpOwogIC8vCiAgLy8gICBleHBlY3QocmFkaXVzLmV2YWwoKSkudG8uZXF1YWwoNSk7CiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDMpOwogIC8vICAgZXhwZWN0KHkuZXZhbCgpKS50by5lcXVhbCgyKTsKICAvLyB9KTsKICAvLwogIC8vIGl0KCJjb21wdXRlUmVuZGVyQ29tbWFuZHMiLCAoKSA9PiB7CiAgLy8gICByZXR1cm47CiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKTsKICAvLyAgIGNvbnN0IGF0dHJpYnV0ZVN0b3JlID0gcm9vdC5hdHRyaWJ1dGVTdG9yZTsKICAvLyAgIGNvbnN0IG9yZ2FuaXNtU3RvcmUgPSByb290Lm9yZ2FuaXNtU3RvcmU7CiAgLy8gICBjb25zdCBub2RlU3RvcmUgPSByb290Lm5vZGVTdG9yZTsKICAvLyAgIGNvbnN0IG1ldGFmdW5TdG9yZSA9IHJvb3QubWV0YWZ1blN0b3JlOwogIC8vCiAgLy8gICBjb25zdCBjaXJjbGUgPSBvcmdhbmlzbVN0b3JlLnNwYXduKCk7CiAgLy8gICBjb25zdCB4ID0gYXR0cmlidXRlU3RvcmUuZ2V0Um9vdE5vZGVGcm9tTmFtZShjaXJjbGUsICJ4Iik7CiAgLy8gICBjb25zdCBjbG9uZXMgPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZUZyb21OYW1lKGNpcmNsZSwgImNsb25lcyIpOwogIC8vICAgY29uc3QgY2xvbmVOdW1iZXIgPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZUZyb21OYW1lKAogIC8vICAgICBjaXJjbGUsCiAgLy8gICAgICJjbG9uZU51bWJlciIKICAvLyAgICk7CiAgLy8KICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZChjbG9uZXMsIDAsIG5vZGVTdG9yZS5hZGROdW1iZXIoMykpOwogIC8vCiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDApOyAvLyBhZGRQcm9wZXJ0eQogIC8vICAgZXhwZWN0KGNsb25lTnVtYmVyLmV2YWwoKSkudG8uZXF1YWwoMCk7IC8vIGFkZENvbXB1dGVkCiAgLy8gICBleHBlY3QoY2xvbmVzLmV2YWwoKSkudG8uZXF1YWwoMyk7IC8vIGFzc2lnblZhcmlhYmxlCiAgLy8KICAvLyAgIGNvbnN0IGFkZCA9IG5vZGVTdG9yZS5wdXRDaGlsZCgKICAvLyAgICAgeCwKICAvLyAgICAgMCwKICAvLyAgICAgbm9kZVN0b3JlLmFkZEZ1bihtZXRhZnVuU3RvcmUuZ2V0RnJvbU5hbWUoIkFkZCIpKQogIC8vICAgKTsKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZChhZGQsIDAsIG5vZGVTdG9yZS5hZGRSZWZlcmVuY2UoY2xvbmVOdW1iZXIpKTsKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZChhZGQsIDEsIG5vZGVTdG9yZS5hZGROdW1iZXIoMykpOwogIC8vCiAgLy8gICBjb25zdCBleHBlY3RlZCA9IFt7IHg6IDMgfSwgeyB4OiA0IH0sIHsgeDogNSB9XTsKICAvLyAgIGNvbnN0IGFjdHVhbCA9IHd1KHJvb3QuY29tcHV0ZVJlbmRlckNvbW1hbmRzKCkpCiAgLy8gICAgIC5tYXAoKHJvdykgPT4gKHsgeDogcm93LnggfSkpCiAgLy8gICAgIC50b0FycmF5KCk7CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkKTsKICAvLyB9KTsKICAvLwogIC8vIGl0KCJnZXROb2RlQ2hvaWNlcyIsICgpID0+IHsKICAvLyAgIHJldHVybjsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgY29uc3QgYXR0cmlidXRlU3RvcmUgPSByb290LmF0dHJpYnV0ZVN0b3JlOwogIC8vICAgY29uc3Qgb3JnYW5pc21TdG9yZSA9IHJvb3Qub3JnYW5pc21TdG9yZTsKICAvLyAgIGNvbnN0IG5vZGVTdG9yZSA9IHJvb3Qubm9kZVN0b3JlOwogIC8vICAgY29uc3QgcGVuU3RvcmUgPSByb290LnBlblN0b3JlOwogIC8vICAgY29uc3QgbWV0YWZ1blN0b3JlID0gcm9vdC5tZXRhZnVuU3RvcmU7CiAgLy8gICBtZXRhZnVuU3RvcmUubWV0YWZ1bnMgPSBbCiAgLy8gICAgIHsKICAvLyAgICAgICBuYW1lOiAiQWRkIiwKICAvLyAgICAgICBwYXJhbUNvdW50OiAyLAogIC8vICAgICAgIGV2YWw6IChhLCBiKSA9PiBhLmV2YWwoKSArIGIuZXZhbCgpLAogIC8vICAgICB9LAogIC8vICAgXTsKICAvLwogIC8vICAgcm9vdC5vcmdhbmlzbUNvbGxlY3Rpb24ucm9vdE9yZ2FuaXNtID0gb3JnYW5pc21TdG9yZS5wdXRGcm9tTWV0YVdpdGhvdXRBdHRyaWJ1dGVzKAogIC8vICAgICAicm9vdCIsCiAgLy8gICAgIHJvb3QubWV0YW9yZ2FuaXNtQ29sbGVjdGlvbi5nZXRGcm9tTmFtZSgiU3VwZXJPcmdhbmlzbSIpCiAgLy8gICApOwogIC8vICAgY29uc3QgY2lyY2xlID0gb3JnYW5pc21TdG9yZS5hZGRDaGlsZCgKICAvLyAgICAgb3JnYW5pc21TdG9yZS5nZXRSb290KCksCiAgLy8gICAgIG9yZ2FuaXNtU3RvcmUucHV0U3VwZXJPcmdhbmlzbVdpdGhvdXRBdHRyaWJ1dGVzKCJjaXJjbGUiKQogIC8vICAgKTsKICAvLyAgIGNvbnN0IHggPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZSgKICAvLyAgICAgYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAieCIpCiAgLy8gICApOwogIC8vICAgY29uc3QgeSA9IGF0dHJpYnV0ZVN0b3JlLmdldFJvb3ROb2RlKAogIC8vICAgICBhdHRyaWJ1dGVTdG9yZS5wdXRFZGl0YWJsZShjaXJjbGUsICJ5IikKICAvLyAgICk7CiAgLy8gICBjb25zdCBjbG9uZXMgPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZSgKICAvLyAgICAgYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAiY2xvbmVzIikKICAvLyAgICk7CiAgLy8gICBjb25zdCBjbG9uZU51bWJlciA9IGF0dHJpYnV0ZVN0b3JlLmdldFJvb3ROb2RlKAogIC8vICAgICBhdHRyaWJ1dGVTdG9yZS5wdXRFbWVyZ2VudChjaXJjbGUsICJjbG9uZU51bWJlciIpCiAgLy8gICApOwogIC8vCiAgLy8gICBsZXQgZXhwZWN0ZWQ7CiAgLy8gICBsZXQgYWN0dWFsOwogIC8vICAgbGV0IHN1Z2dlc3Rpb25zOwogIC8vCiAgLy8gICBwZW5TdG9yZS5zZXRQb2ludGVkTm9kZShub2RlU3RvcmUuZ2V0Q2hpbGQoeSwgMCkpOwogIC8vICAgcGVuU3RvcmUuc2V0UG9pbnRlZE5vZGUobm9kZVN0b3JlLmdldENoaWxkKHgsIDApKTsKICAvLwogIC8vICAgLy8gLS0tIG51bWJlciAtLS0KICAvLwogIC8vICAgcGVuU3RvcmUuc2V0SXNRdWVyeWluZyh0cnVlKTsKICAvLyAgIHBlblN0b3JlLnNldFF1ZXJ5KCI1MiIpOwogIC8vICAgc3VnZ2VzdGlvbnMgPSBwZW5TdG9yZS5nZXROb2RlQ2hvaWNlcygpOwogIC8vCiAgLy8gICBleHBlY3RlZCA9IFsiNTIiXTsKICAvLyAgIGFjdHVhbCA9IHN1Z2dlc3Rpb25zLm1hcCgocm93KSA9PiByb3cudGV4dCkudG9BcnJheSgpOwogIC8vICAgZXhwZWN0KGFjdHVhbCkudG8uZGVlcC5lcXVhbChleHBlY3RlZCk7CiAgLy8KICAvLyAgIHN1Z2dlc3Rpb25zID0gcGVuU3RvcmUuZ2V0Tm9kZUNob2ljZXMoKTsKICAvLyAgIHBlblN0b3JlLmNvbW1pdE5vZGVDaG9pY2Uoc3VnZ2VzdGlvbnMudGFrZSgxKS50b0FycmF5KClbMF0pOwogIC8vICAgZXhwZWN0KHguZXZhbCgpKS50by5lcXVhbCg1Mik7CiAgLy8KICAvLyAgIC8vIC0tLSBlbXB0eSBxdWVyeSAtLS0KICAvLyAgIC8vIHNob3VsZCBsaXN0IGFsbCwgYnV0IHNraXAgeAogIC8vCiAgLy8gICBwZW5TdG9yZS5zZXRJc1F1ZXJ5aW5nKHRydWUpOwogIC8vICAgcGVuU3RvcmUuc2V0UXVlcnkoIiIpOwogIC8vICAgc3VnZ2VzdGlvbnMgPSBwZW5TdG9yZS5nZXROb2RlQ2hvaWNlcygpOwogIC8vICAgZXhwZWN0ZWQgPSBbImNpcmNsZS55IiwgImNpcmNsZS5jbG9uZXMiLCAiY2lyY2xlLmNsb25lTnVtYmVyIiwgIkFkZCJdOwogIC8vICAgYWN0dWFsID0gc3VnZ2VzdGlvbnMubWFwKChyb3cpID0+IHJvdy50ZXh0KS50b0FycmF5KCk7CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkKTsKICAvLwogIC8vICAgLy8gLS0tIGNvbW1pdCBmdW5jdGlvbiAtLS0KICAvLwogIC8vICAgc3VnZ2VzdGlvbnMgPSBwZW5TdG9yZS5nZXROb2RlQ2hvaWNlcygpOwogIC8vICAgcGVuU3RvcmUuY29tbWl0Tm9kZUNob2ljZShzdWdnZXN0aW9ucy5kcm9wKDMpLnRvQXJyYXkoKVswXSk7CiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDApOwogIC8vCiAgLy8gICAvLyAtLS0gbm9uIGVtcHR5IHF1ZXJ5IC0tLQogIC8vCiAgLy8gICBwZW5TdG9yZS5zZXRJc1F1ZXJ5aW5nKHRydWUpOwogIC8vICAgcGVuU3RvcmUuc2V0UXVlcnkoImxvbiIpOwogIC8vICAgc3VnZ2VzdGlvbnMgPSBwZW5TdG9yZS5nZXROb2RlQ2hvaWNlcygpOwogIC8vICAgZXhwZWN0ZWQgPSBbImNpcmNsZS5jbG9uZXMiLCAiY2lyY2xlLmNsb25lTnVtYmVyIl07CiAgLy8gICBhY3R1YWwgPSBzdWdnZXN0aW9ucy5tYXAoKHJvdykgPT4gcm93LnRleHQpLnRvQXJyYXkoKTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWQpOwogIC8vCiAgLy8gICAvLyAtLS0gY29tbWl0IHJlZmVyZW5jZSAtLS0KICAvLyAgIC8vIC0tLSBuZXcgcG9pbnRlZCBub2RlIC0tLQogIC8vICAgLy8gLS0tIG5vIG1vcmUgcXVlcnlpbmcgLS0tCiAgLy8KICAvLyAgIHN1Z2dlc3Rpb25zID0gcGVuU3RvcmUuZ2V0Tm9kZUNob2ljZXMoKTsKICAvLyAgIGNvbnN0IG51bWJlck5vZGUgPSBub2RlU3RvcmUucHV0Q2hpbGQoY2xvbmVzLCAwLCBub2RlU3RvcmUuYWRkTnVtYmVyKDMpKTsKICAvLyAgIHBlblN0b3JlLmNvbW1pdE5vZGVDaG9pY2Uoc3VnZ2VzdGlvbnMudGFrZSgxKS50b0FycmF5KClbMF0pOwogIC8vICAgZXhwZWN0KHguZXZhbCgpKS50by5lcXVhbCgzKTsKICAvLyAgIC8vIGV4cGVjdChwZW5TdG9yZS5wb2ludGVkTm9kZSkudG8uZXF1YWwobm9kZVN0b3JlLmdldENoaWxkKHgsIDApKTsKICAvLyAgIGV4cGVjdChwZW5TdG9yZS5nZXRJc1F1ZXJ5aW5nKCkpLnRvLmVxdWFsKGZhbHNlKTsKICAvLyB9KTsKICAvLwogIC8vIGl0KCJpc1N1YnNlcXVlbmNlIiwgKCkgPT4gewogIC8vICAgbGV0IGFjdHVhbDsKICAvLwogIC8vICAgYWN0dWFsID0gRnVuY3Rpb25zLmlzU3Vic2VxdWVuY2UoImNuZSIsICJjbG9uZXMiKTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKHRydWUpOwogIC8vCiAgLy8gICBhY3R1YWwgPSBGdW5jdGlvbnMuaXNTdWJzZXF1ZW5jZSgiY25lcSIsICJjbG9uZXMiKTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKGZhbHNlKTsKICAvLwogIC8vICAgYWN0dWFsID0gRnVuY3Rpb25zLmlzU3Vic2VxdWVuY2UoImNsb25lcyIsICJjbG9uIik7CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5lcXVhbChmYWxzZSk7CiAgLy8KICAvLyAgIGFjdHVhbCA9IEZ1bmN0aW9ucy5pc1N1YnNlcXVlbmNlKCJjbG9uZXMiLCAiY2xvbmVzIik7CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5lcXVhbCh0cnVlKTsKICAvLwogIC8vICAgYWN0dWFsID0gRnVuY3Rpb25zLmlzU3Vic2VxdWVuY2UoIiIsICJjbG9uZXMiKTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKHRydWUpOwogIC8vCiAgLy8gICBhY3R1YWwgPSBGdW5jdGlvbnMuaXNTdWJzZXF1ZW5jZSgieCIsICIiKTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKGZhbHNlKTsKICAvLyB9KTsKICAvLwogIC8vIGl0KCJ0cmF2ZXJzZUxlZnQiLCAoKSA9PiB7CiAgLy8gICAvLyByZXR1cm47CiAgLy8gICBjb25zdCB0cmVlID0gewogIC8vICAgICBhOiB7CiAgLy8gICAgICAgYjogewogIC8vICAgICAgICAgYzoge30sCiAgLy8gICAgICAgICBkOiB7fSwKICAvLyAgICAgICB9LAogIC8vICAgICAgIGU6IHsKICAvLyAgICAgICAgIGY6IHt9LAogIC8vICAgICAgICAgZzogewogIC8vICAgICAgICAgICBpOiB7CiAgLy8gICAgICAgICAgICAgajoge30sCiAgLy8gICAgICAgICAgICAgazoge30sCiAgLy8gICAgICAgICAgIH0sCiAgLy8gICAgICAgICAgIGw6IHt9LAogIC8vICAgICAgICAgfSwKICAvLyAgICAgICAgIGg6IHt9LAogIC8vICAgICAgIH0sCiAgLy8gICAgIH0sCiAgLy8gICB9OwogIC8vICAgY29uc3QgY2hpbGRyZW5HZXR0ZXIgPSAobm9kZSkgPT4gewogIC8vICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20od3UudmFsdWVzKG5vZGUpKTsKICAvLyAgICAgY2hpbGRyZW4uc29ydCgpOwogIC8vICAgICByZXR1cm4gY2hpbGRyZW47CiAgLy8gICB9OwogIC8vICAgY29uc3QgcGFyZW50cyA9IG5ldyBNYXAoKTsKICAvLyAgIGNvbnN0IHNldFBhcmVudHMgPSAobm9kZSkgPT4gewogIC8vICAgICBjb25zdCBjaGlsZHJlbiA9IGNoaWxkcmVuR2V0dGVyKG5vZGUpOwogIC8vICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7CiAgLy8gICAgICAgcGFyZW50cy5zZXQoY2hpbGQsIG5vZGUpOwogIC8vICAgICAgIHNldFBhcmVudHMoY2hpbGQpOwogIC8vICAgICB9CiAgLy8gICB9OwogIC8vICAgc2V0UGFyZW50cyh0cmVlLmEpOwogIC8vCiAgLy8gICBleHBlY3QocGFyZW50cy5nZXQodHJlZS5hLmIpKS50by5lcXVhbCh0cmVlLmEpOwogIC8vICAgZXhwZWN0KHBhcmVudHMuZ2V0KHRyZWUuYS5lLmcuaS5qKSkudG8uZXF1YWwodHJlZS5hLmUuZy5pKTsKICAvLwogIC8vICAgY29uc3QgcGFyZW50R2V0dGVyID0gKG5vZGUpID0+IHBhcmVudHMuZ2V0KG5vZGUpOwogIC8vCiAgLy8gICBsZXQgdHJhdmVyc2U7CiAgLy8gICBsZXQgYWN0dWFsOwogIC8vCiAgLy8gICB0cmF2ZXJzZSA9IEZ1bmN0aW9ucy50cmF2ZXJzZUxlZnQodHJlZS5hLmUuZywgcGFyZW50R2V0dGVyLCBjaGlsZHJlbkdldHRlcik7CiAgLy8gICBhY3R1YWwgPSB0cmF2ZXJzZS5uZXh0KCkudmFsdWU7CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5lcXVhbCh0cmVlLmEuZS5mKTsKICAvLwogIC8vICAgdHJhdmVyc2UgPSBGdW5jdGlvbnMudHJhdmVyc2VMZWZ0KAogIC8vICAgICB0cmVlLmEuZS5nLmkuaywKICAvLyAgICAgcGFyZW50R2V0dGVyLAogIC8vICAgICBjaGlsZHJlbkdldHRlcgogIC8vICAgKTsKICAvLyAgIGFjdHVhbCA9IHRyYXZlcnNlLm5leHQoKS52YWx1ZTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKHRyZWUuYS5lLmcuaS5qKTsKICAvLwogIC8vICAgdHJhdmVyc2UgPSBGdW5jdGlvbnMudHJhdmVyc2VMZWZ0KHRyZWUuYS5iLmMsIHBhcmVudEdldHRlciwgY2hpbGRyZW5HZXR0ZXIpOwogIC8vICAgYWN0dWFsID0gdHJhdmVyc2UubmV4dCgpLnZhbHVlOwogIC8vICAgZXhwZWN0KGFjdHVhbCkudG8uZXF1YWwodHJlZS5hLmIpOwogIC8vCiAgLy8gICB0cmF2ZXJzZSA9IEZ1bmN0aW9ucy50cmF2ZXJzZUxlZnQodHJlZS5hLCBwYXJlbnRHZXR0ZXIsIGNoaWxkcmVuR2V0dGVyKTsKICAvLyAgIGV4cGVjdCh3dS5zb21lKCgpID0+IHRydWUsIHRyYXZlcnNlKSkudG8uZXF1YWwoZmFsc2UpOwogIC8vCiAgLy8gICAvLyAtLSByaWdodCAtLQogIC8vCiAgLy8gICB0cmF2ZXJzZSA9IEZ1bmN0aW9ucy50cmF2ZXJzZVJpZ2h0KAogIC8vICAgICB0cmVlLmEuZS5nLAogIC8vICAgICBwYXJlbnRHZXR0ZXIsCiAgLy8gICAgIGNoaWxkcmVuR2V0dGVyCiAgLy8gICApOwogIC8vICAgYWN0dWFsID0gdHJhdmVyc2UubmV4dCgpLnZhbHVlOwogIC8vICAgZXhwZWN0KGFjdHVhbCkudG8uZXF1YWwodHJlZS5hLmUuZy5pKTsKICAvLwogIC8vICAgdHJhdmVyc2UgPSBGdW5jdGlvbnMudHJhdmVyc2VSaWdodCgKICAvLyAgICAgdHJlZS5hLmUuZy5pLmssCiAgLy8gICAgIHBhcmVudEdldHRlciwKICAvLyAgICAgY2hpbGRyZW5HZXR0ZXIKICAvLyAgICk7CiAgLy8gICBhY3R1YWwgPSB0cmF2ZXJzZS5uZXh0KCkudmFsdWU7CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5lcXVhbCh0cmVlLmEuZS5nLmwpOwogIC8vCiAgLy8gICB0cmF2ZXJzZSA9IEZ1bmN0aW9ucy50cmF2ZXJzZVJpZ2h0KHRyZWUuYS5iLCBwYXJlbnRHZXR0ZXIsIGNoaWxkcmVuR2V0dGVyKTsKICAvLyAgIGFjdHVhbCA9IHRyYXZlcnNlLm5leHQoKS52YWx1ZTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmVxdWFsKHRyZWUuYS5iLmMpOwogIC8vCiAgLy8gICB0cmF2ZXJzZSA9IEZ1bmN0aW9ucy50cmF2ZXJzZVJpZ2h0KAogIC8vICAgICB0cmVlLmEuZS5oLAogIC8vICAgICBwYXJlbnRHZXR0ZXIsCiAgLy8gICAgIGNoaWxkcmVuR2V0dGVyCiAgLy8gICApOwogIC8vICAgZXhwZWN0KHd1LnNvbWUoKCkgPT4gdHJ1ZSwgdHJhdmVyc2UpKS50by5lcXVhbChmYWxzZSk7CiAgLy8gfSk7CiAgLy8KICAvLyBpdCgiYXNzaWduIG51bWJlciIsICgpID0+IHsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgY29uc3QgYXR0cmlidXRlU3RvcmUgPSByb290LmF0dHJpYnV0ZVN0b3JlOwogIC8vICAgY29uc3Qgb3JnYW5pc21TdG9yZSA9IHJvb3Qub3JnYW5pc21TdG9yZTsKICAvLyAgIGNvbnN0IG5vZGVTdG9yZSA9IHJvb3Qubm9kZVN0b3JlOwogIC8vICAgY29uc3QgcGVuU3RvcmUgPSByb290LnBlblN0b3JlOwogIC8vICAgY29uc3QgbWV0YWZ1blN0b3JlID0gcm9vdC5tZXRhZnVuU3RvcmU7CiAgLy8KICAvLyAgIGNvbnN0IGNpcmNsZSA9IG9yZ2FuaXNtU3RvcmUucHV0KCJjaXJjbGUiKTsKICAvLyAgIGNvbnN0IHggPSBhdHRyaWJ1dGVTdG9yZS5wdXRFZGl0YWJsZShjaXJjbGUsICJ4Iik7CiAgLy8gICBjb25zdCBjbG9uZU51bWJlciA9IGF0dHJpYnV0ZVN0b3JlLnB1dEVtZXJnZW50KGNpcmNsZSwgImNsb25lTnVtYmVyIik7CiAgLy8gICBhdHRyaWJ1dGVTdG9yZS5hc3NpZ25OdW1iZXIoeCwgNSk7CiAgLy8gICBhdHRyaWJ1dGVTdG9yZS5hc3NpZ25OdW1iZXIoY2xvbmVOdW1iZXIsIDEwKTsKICAvLyAgIGV4cGVjdChhdHRyaWJ1dGVTdG9yZS5nZXRFdmFsZWQoeCkpLnRvLmVxdWFsKDUpOwogIC8vICAgZXhwZWN0KGF0dHJpYnV0ZVN0b3JlLmdldEV2YWxlZChjbG9uZU51bWJlcikpLnRvLmVxdWFsKDEwKTsKICAvLyB9KTsKICAvLwogIC8vIGl0KCJzZXJpYWxpemUiLCAoKSA9PiB7CiAgLy8gICAvLyByZWZlcmVuY2VzCiAgLy8gICAvLyBmdW5jdGlvbnMKICAvLwogIC8vICAgLy8geCA9IGFkZCgyLCBhZGQoNSwgMykpCiAgLy8gICAvLyB5ID0geAogIC8vCiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKTsKICAvLyAgIGNvbnN0IGF0dHJpYnV0ZVN0b3JlID0gcm9vdC5hdHRyaWJ1dGVTdG9yZTsKICAvLyAgIGNvbnN0IG9yZ2FuaXNtU3RvcmUgPSByb290Lm9yZ2FuaXNtU3RvcmU7CiAgLy8gICBjb25zdCBub2RlU3RvcmUgPSByb290Lm5vZGVTdG9yZTsKICAvLyAgIGNvbnN0IHBlblN0b3JlID0gcm9vdC5wZW5TdG9yZTsKICAvLyAgIGNvbnN0IG1ldGFmdW5TdG9yZSA9IHJvb3QubWV0YWZ1blN0b3JlOwogIC8vCiAgLy8gICBjb25zdCBjaXJjbGUgPSBvcmdhbmlzbVN0b3JlLnB1dEZyb21NZXRhKAogIC8vICAgICAiY2lyY2xlIiwKICAvLyAgICAgcm9vdC5tZXRhb3JnYW5pc21Db2xsZWN0aW9uLmdldEZyb21OYW1lKCJDaXJjbGUiKQogIC8vICAgKTsKICAvLyAgIGNvbnN0IHggPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZSgKICAvLyAgICAgYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAieHgiKQogIC8vICAgKTsKICAvLyAgIGNvbnN0IHkgPSBhdHRyaWJ1dGVTdG9yZS5nZXRSb290Tm9kZSgKICAvLyAgICAgYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAieXkiKQogIC8vICAgKTsKICAvLyAgIGF0dHJpYnV0ZVN0b3JlLnB1dEVkaXRhYmxlKGNpcmNsZSwgInl5Iik7CiAgLy8KICAvLyAgIGNvbnN0IGFkZE5vZGUgPSBub2RlU3RvcmUuYWRkRnVuKG1ldGFmdW5TdG9yZS5nZXRGcm9tTmFtZSgiQWRkIikpOwogIC8vICAgY29uc3QgYWRkTm9kZTIgPSBub2RlU3RvcmUuYWRkRnVuKG1ldGFmdW5TdG9yZS5nZXRGcm9tTmFtZSgiQWRkIikpOwogIC8vICAgbm9kZVN0b3JlLnB1dENoaWxkKHgsIDAsIGFkZE5vZGUpOwogIC8vICAgbm9kZVN0b3JlLnB1dENoaWxkKGFkZE5vZGUsIDAsIG5vZGVTdG9yZS5hZGROdW1iZXIoMikpOwogIC8vICAgbm9kZVN0b3JlLnB1dENoaWxkKGFkZE5vZGUsIDEsIGFkZE5vZGUyKTsKICAvLyAgIG5vZGVTdG9yZS5wdXRDaGlsZChhZGROb2RlMiwgMCwgbm9kZVN0b3JlLmFkZE51bWJlcig1KSk7CiAgLy8gICBub2RlU3RvcmUucHV0Q2hpbGQoYWRkTm9kZTIsIDEsIG5vZGVTdG9yZS5hZGROdW1iZXIoMykpOwogIC8vICAgbm9kZVN0b3JlLnB1dENoaWxkKHksIDAsIG5vZGVTdG9yZS5hZGRSZWZlcmVuY2UoeCkpOwogIC8vCiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDEwKTsKICAvLyAgIGV4cGVjdCh5LmV2YWwoKSkudG8uZXF1YWwoMTApOwogIC8vCiAgLy8gICBjb25zdCB0ZXh0ID0gcm9vdC5nZXRTZXJpYWxpemVkKCk7CiAgLy8gICBjb25zdCBzdG9yZTIgPSByb290LmRlc2VyaWFsaXplKHRleHQpOwogIC8vCiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDEwKTsKICAvLyAgIGV4cGVjdCh5LmV2YWwoKSkudG8uZXF1YWwoMTApOwogIC8vCiAgLy8gICBub2RlU3RvcmUucHV0Q2hpbGQoeCwgMCwgbm9kZVN0b3JlLmFkZE51bWJlcigxKSk7CiAgLy8gICBleHBlY3QoeC5ldmFsKCkpLnRvLmVxdWFsKDEpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoInBsdWNrIiwgKCkgPT4gewogIC8vICAgbGV0IGFjdHVhbDsKICAvLyAgIGxldCBleHBlY3RlZDsKICAvLwogIC8vICAgYWN0dWFsID0gRnVuY3Rpb25zLnBsdWNrKAogIC8vICAgICB7CiAgLy8gICAgICAgYTogMiwKICAvLyAgICAgICBiOiAzLAogIC8vICAgICAgIGM6IDUsCiAgLy8gICAgIH0sCiAgLy8gICAgIFsiYSIsICJiIl0KICAvLyAgICk7CiAgLy8gICBleHBlY3RlZCA9IHsKICAvLyAgICAgYTogMiwKICAvLyAgICAgYjogMywKICAvLyAgIH07CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkKTsKICAvLwogIC8vICAgZXhwZWN0KCgpID0+IEZ1bmN0aW9ucy5wbHVjayh7fSwgWyJhIiwgImIiXSkpLnRvLnRocm93KCk7CiAgLy8KICAvLyAgIGFjdHVhbCA9IEZ1bmN0aW9ucy5wbHVjaygKICAvLyAgICAgewogIC8vICAgICAgIGE6IDIsCiAgLy8gICAgICAgYjogMywKICAvLyAgICAgICBjOiA1LAogIC8vICAgICB9LAogIC8vICAgICBbXQogIC8vICAgKTsKICAvLyAgIGV4cGVjdGVkID0ge307CiAgLy8gICBleHBlY3QoYWN0dWFsKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkKTsKICAvLwogIC8vICAgYWN0dWFsID0gRnVuY3Rpb25zLnBsdWNrKAogIC8vICAgICB7CiAgLy8gICAgICAgYTogMiwKICAvLyAgICAgICBiOiAzLAogIC8vICAgICAgIGM6IDUsCiAgLy8gICAgIH0sCiAgLy8gICAgIFsiYSIsICJiIiwgImMiXQogIC8vICAgKTsKICAvLyAgIGV4cGVjdGVkID0gewogIC8vICAgICBhOiAyLAogIC8vICAgICBiOiAzLAogIC8vICAgICBjOiA1LAogIC8vICAgfTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWQpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoImdldEF0dHJpYnV0ZXNGb3JPcmdhbmlzbSIsICgpID0+IHsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgY29uc3QgYXR0cmlidXRlU3RvcmUgPSByb290LmF0dHJpYnV0ZVN0b3JlOwogIC8vICAgY29uc3Qgb3JnYW5pc21TdG9yZSA9IHJvb3Qub3JnYW5pc21TdG9yZTsKICAvLyAgIGNvbnN0IG5vZGVTdG9yZSA9IHJvb3Qubm9kZVN0b3JlOwogIC8vICAgY29uc3QgcGVuU3RvcmUgPSByb290LnBlblN0b3JlOwogIC8vICAgY29uc3QgbWV0YWZ1blN0b3JlID0gcm9vdC5tZXRhZnVuU3RvcmU7CiAgLy8KICAvLyAgIGNvbnN0IGNpcmNsZSA9IG9yZ2FuaXNtU3RvcmUucHV0KCJjaXJjbGUiKTsKICAvLyAgIGNvbnN0IHggPSBhdHRyaWJ1dGVTdG9yZS5wdXRFZGl0YWJsZShjaXJjbGUsICJ4Iik7CiAgLy8gICBjb25zdCB5ID0gYXR0cmlidXRlU3RvcmUucHV0RWRpdGFibGUoY2lyY2xlLCAieSIpOwogIC8vICAgY29uc3QgY2xvbmVOdW1iZXIgPSBhdHRyaWJ1dGVTdG9yZS5wdXRFbWVyZ2VudChjaXJjbGUsICJjbG9uZU51bWJlciIpOwogIC8vCiAgLy8gICBjb25zdCBhY3R1YWwgPSBBcnJheS5mcm9tKGF0dHJpYnV0ZVN0b3JlLmdldEF0dHJpYnV0ZXNGb3JPcmdhbmlzbShjaXJjbGUpKTsKICAvLyAgIGNvbnN0IGV4cGVjdGVkID0gW3gsIHksIGNsb25lTnVtYmVyXTsKICAvLyAgIGV4cGVjdChhY3R1YWwpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWQpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoIm9yZ2FucyIsICgpID0+IHsKICAvLyAgIHJldHVybjsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgY29uc3QgYXR0cmlidXRlQ29sbGVjdGlvbiA9IHJvb3QuYXR0cmlidXRlQ29sbGVjdGlvbjsKICAvLyAgIGNvbnN0IG9yZ2FuaXNtQ29sbGVjdGlvbiA9IHJvb3Qub3JnYW5pc21Db2xsZWN0aW9uOwogIC8vICAgbGV0IGZpbmFsID0gewogIC8vICAgICAiU3VwZXJPcmdhbmlzbSByb290IjogewogIC8vICAgICAgICJlZGl0YXR0ciBncmF2aXR5IjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgImVkaXRhdHRyIGNsb25lcyI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICJlbWVyYXR0ciBjbG9uZU51bWJlciI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICJTdXBlck9yZ2FuaXNtIHRyZWUiOiB7CiAgLy8gICAgICAgICAiZWRpdGF0dHIgZ3Jvd3RoIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgfSwKICAvLyAgICAgICAiU3VwZXJPcmdhbmlzbSBvcmJpdCI6IHsKICAvLyAgICAgICAgICJlZGl0YXR0ciBvcmJpdFNpemUiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgICJTdXBlck9yZ2FuaXNtIG1vb24iOiB7CiAgLy8gICAgICAgICAgICJlZGl0YXR0ciBsdW1pbm9zaXR5IjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgICB9LAogIC8vICAgICAgICAgIlN1cGVyT3JnYW5pc20gZWFydGgiOiB7CiAgLy8gICAgICAgICAgICJlZGl0YXR0ciBsaWZlIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgICB9LAogIC8vICAgICAgIH0sCiAgLy8gICAgIH0sCiAgLy8gICB9OwogIC8vCiAgLy8gICBsZXQgc3RhcnQgPSB7CiAgLy8gICAgICJTdXBlck9yZ2FuaXNtIHJvb3QiOiB7CiAgLy8gICAgICAgImVkaXRhdHRyIGdyYXZpdHkiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAiZWRpdGF0dHIgY2xvbmVzIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgImVtZXJhdHRyIGNsb25lTnVtYmVyIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgIlN1cGVyT3JnYW5pc20gdHJlZSI6IHsKICAvLyAgICAgICAgICJlZGl0YXR0ciBncm93dGgiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICB9LAogIC8vICAgICAgICJTdXBlck9yZ2FuaXNtIG9yYml0IjogewogIC8vICAgICAgICAgImVkaXRhdHRyIG9yYml0U2l6ZSI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICAgIlN1cGVyT3JnYW5pc20gbW9vbiI6IHsKICAvLyAgICAgICAgICAgImVkaXRhdHRyIGx1bWlub3NpdHkiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgIH0sCiAgLy8gICAgICAgfSwKICAvLyAgICAgfSwKICAvLyAgIH07CiAgLy8KICAvLyAgIC8vIGV4cGVjdChuZXcgUm9vdCgpLmZyb21UcmVlKGZpbmFsKS50b1RyZWUoKSkudG8uZGVlcC5lcXVhbChmaW5hbCk7CiAgLy8KICAvLyAgIC8vIC0tLSBhZGQgb3JnYW4gLS0tCiAgLy8KICAvLyAgIGxldCBhY3R1YWxSb290ID0gbmV3IFJvb3QoKS5mcm9tVHJlZShzdGFydCk7CiAgLy8KICAvLyAgIGxldCBtZXRhb3JnYW5pc20gPSBhY3R1YWxSb290Lm1ldGFvcmdhbmlzbUNvbGxlY3Rpb24uZ2V0RnJvbU5hbWUoCiAgLy8gICAgICJTdXBlck9yZ2FuaXNtIgogIC8vICAgKTsKICAvLyAgIGxldCBlYXJ0aCA9IGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLnB1dEZyb21NZXRhV2l0aG91dEF0dHJpYnV0ZXMoCiAgLy8gICAgICJlYXJ0aCIsCiAgLy8gICAgIG1ldGFvcmdhbmlzbQogIC8vICAgKTsKICAvLyAgIGxldCBvcmJpdCA9IGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLmdldE9yZ2FuaXNtRnJvbVBhdGgoIm9yYml0Iik7CiAgLy8gICBhY3R1YWxSb290Lm9yZ2FuaXNtQ29sbGVjdGlvbi5hZGRDaGlsZChvcmJpdCwgZWFydGgpOwogIC8vICAgYWN0dWFsUm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uLnB1dEVkaXRhYmxlKGVhcnRoLCAibGlmZSIpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3QudG9UcmVlKCkpLnRvLmRlZXAuZXF1YWwoZmluYWwpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLm9yZ2FuaXNtcy5sZW5ndGgpLnRvLmVxdWFsKDUpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLm9yZ2Fucy5sZW5ndGgpLnRvLmVxdWFsKDQpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3QuYXR0cmlidXRlQ29sbGVjdGlvbi5hdHRyaWJ1dGVzLmxlbmd0aCkudG8uZXF1YWwoNyk7CiAgLy8gICBleHBlY3QoYWN0dWFsUm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uLmF0dHJpYnV0ZVBhcmVudHMubGVuZ3RoKS50by5lcXVhbCg3KTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290LmF0dHJpYnV0ZUNvbGxlY3Rpb24ucm9vdE5vZGVzLmxlbmd0aCkudG8uZXF1YWwoNyk7CiAgLy8gICBleHBlY3QoYWN0dWFsUm9vdC5ub2RlU3RvcmUubm9kZXMubGVuZ3RoKS50by5lcXVhbCgxNCk7CiAgLy8gICBleHBlY3QoYWN0dWFsUm9vdC5ub2RlU3RvcmUubm9kZVBhcmVudHMubGVuZ3RoKS50by5lcXVhbCg3KTsKICAvLwogIC8vICAgLy8gLS0tIHJlbW92ZSBvcmdhbiAtLS0KICAvLwogIC8vICAgYWN0dWFsUm9vdC5vcmdhbmlzbUNvbGxlY3Rpb24ucmVtb3ZlKGVhcnRoKTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290LnRvVHJlZSgpKS50by5kZWVwLmVxdWFsKHN0YXJ0KTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290Lm9yZ2FuaXNtQ29sbGVjdGlvbi5vcmdhbmlzbXMubGVuZ3RoKS50by5lcXVhbCg0KTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290Lm9yZ2FuaXNtQ29sbGVjdGlvbi5vcmdhbnMubGVuZ3RoKS50by5lcXVhbCgzKTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290LmF0dHJpYnV0ZUNvbGxlY3Rpb24uYXR0cmlidXRlcy5sZW5ndGgpLnRvLmVxdWFsKDYpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3QuYXR0cmlidXRlQ29sbGVjdGlvbi5hdHRyaWJ1dGVQYXJlbnRzLmxlbmd0aCkudG8uZXF1YWwoNik7CiAgLy8gICBleHBlY3QoYWN0dWFsUm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uLnJvb3ROb2Rlcy5sZW5ndGgpLnRvLmVxdWFsKDYpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3Qubm9kZVN0b3JlLm5vZGVzLmxlbmd0aCkudG8uZXF1YWwoMTIpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3Qubm9kZVN0b3JlLm5vZGVQYXJlbnRzLmxlbmd0aCkudG8uZXF1YWwoNik7CiAgLy8KICAvLyAgIC8vIC0tLSByZW1vdmUgbm9uIGxlYWYgb3JnYW4gLS0tCiAgLy8KICAvLyAgIGxldCBleHBlY3RlZCA9IHsKICAvLyAgICAgIlN1cGVyT3JnYW5pc20gcm9vdCI6IHsKICAvLyAgICAgICAiZWRpdGF0dHIgZ3Jhdml0eSI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICJlZGl0YXR0ciBjbG9uZXMiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAiZW1lcmF0dHIgY2xvbmVOdW1iZXIiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAiU3VwZXJPcmdhbmlzbSB0cmVlIjogewogIC8vICAgICAgICAgImVkaXRhdHRyIGdyb3d0aCI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgIH0sCiAgLy8gICAgIH0sCiAgLy8gICB9OwogIC8vCiAgLy8gICBhY3R1YWxSb290ID0gbmV3IFJvb3QoKS5mcm9tVHJlZShmaW5hbCk7CiAgLy8gICBvcmJpdCA9IGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLmdldE9yZ2FuaXNtRnJvbVBhdGgoIm9yYml0Iik7CiAgLy8gICBsZXQgb3JiaXRSb290ID0gYWN0dWFsUm9vdC5ub2RlU3RvcmUuZ2V0RnJvbVBhdGgoWyJvcmJpdCJdLCAib3JiaXRTaXplIik7CiAgLy8gICBsZXQgYWRkMSA9IGFjdHVhbFJvb3Qubm9kZVN0b3JlLnB1dENoaWxkKAogIC8vICAgICBvcmJpdFJvb3QsCiAgLy8gICAgIDAsCiAgLy8gICAgIGFjdHVhbFJvb3Qubm9kZVN0b3JlLmFkZEZ1bihhY3R1YWxSb290Lm1ldGFmdW5TdG9yZS5nZXRGcm9tTmFtZSgiQWRkIikpCiAgLy8gICApOwogIC8vICAgbGV0IGFkZDIgPSBhY3R1YWxSb290Lm5vZGVTdG9yZS5wdXRDaGlsZCgKICAvLyAgICAgYWRkMSwKICAvLyAgICAgMCwKICAvLyAgICAgYWN0dWFsUm9vdC5ub2RlU3RvcmUuYWRkRnVuKGFjdHVhbFJvb3QubWV0YWZ1blN0b3JlLmdldEZyb21OYW1lKCJBZGQiKSkKICAvLyAgICk7CiAgLy8KICAvLyAgIGV4cGVjdChhY3R1YWxSb290Lm5vZGVTdG9yZS5ub2Rlcy5sZW5ndGgpLnRvLmVxdWFsKDE4KTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290Lm5vZGVTdG9yZS5ub2RlUGFyZW50cy5sZW5ndGgpLnRvLmVxdWFsKDExKTsKICAvLwogIC8vICAgYWN0dWFsUm9vdC5vcmdhbmlzbUNvbGxlY3Rpb24ucmVtb3ZlKG9yYml0KTsKICAvLwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3QudG9UcmVlKCkpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWQpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLm9yZ2FuaXNtcy5sZW5ndGgpLnRvLmVxdWFsKDIpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3Qub3JnYW5pc21Db2xsZWN0aW9uLm9yZ2Fucy5sZW5ndGgpLnRvLmVxdWFsKDEpOwogIC8vICAgZXhwZWN0KGFjdHVhbFJvb3QuYXR0cmlidXRlQ29sbGVjdGlvbi5hdHRyaWJ1dGVzLmxlbmd0aCkudG8uZXF1YWwoNCk7CiAgLy8gICBleHBlY3QoYWN0dWFsUm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uLmF0dHJpYnV0ZVBhcmVudHMubGVuZ3RoKS50by5lcXVhbCg0KTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290LmF0dHJpYnV0ZUNvbGxlY3Rpb24ucm9vdE5vZGVzLmxlbmd0aCkudG8uZXF1YWwoNCk7CiAgLy8gICBleHBlY3QoYWN0dWFsUm9vdC5ub2RlU3RvcmUubm9kZXMubGVuZ3RoKS50by5lcXVhbCg4KTsKICAvLyAgIGV4cGVjdChhY3R1YWxSb290Lm5vZGVTdG9yZS5ub2RlUGFyZW50cy5sZW5ndGgpLnRvLmVxdWFsKDQpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoInBlbiBvcmdhbnMiLCAoKSA9PiB7CiAgLy8gICBsZXQgZmluYWwgPSB7CiAgLy8gICAgICJTdXBlck9yZ2FuaXNtIHJvb3QiOiB7CiAgLy8gICAgICAgImVkaXRhdHRyIGdyYXZpdHkiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAiZWRpdGF0dHIgY2xvbmVzIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgImVtZXJhdHRyIGNsb25lTnVtYmVyIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgIlN1cGVyT3JnYW5pc20gdHJlZSI6IHsKICAvLyAgICAgICAgICJlZGl0YXR0ciBncm93dGgiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgICJlZGl0YXR0ciBoYXIiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICB9LAogIC8vICAgICAgICJTdXBlck9yZ2FuaXNtIG9yYml0IjogewogIC8vICAgICAgICAgImVkaXRhdHRyIG9yYml0U2l6ZSI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICAgIlN1cGVyT3JnYW5pc20gbW9vbiI6IHsKICAvLyAgICAgICAgICAgImVkaXRhdHRyIGx1bWlub3NpdHkiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgIH0sCiAgLy8gICAgICAgICAiU3VwZXJPcmdhbmlzbSBlYXJ0aCI6IHsKICAvLyAgICAgICAgICAgImVkaXRhdHRyIGxpZmUiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgIH0sCiAgLy8gICAgICAgfSwKICAvLyAgICAgfSwKICAvLyAgIH07CiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKS5mcm9tVHJlZShmaW5hbCk7CiAgLy8gICBjb25zdCBhdHRyaWJ1dGVDb2xsZWN0aW9uID0gcm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uOwogIC8vICAgY29uc3Qgb3JnYW5pc21Db2xsZWN0aW9uID0gcm9vdC5vcmdhbmlzbUNvbGxlY3Rpb247CiAgLy8gICBjb25zdCBub2RlQ29sbGVjdGlvbiA9IHJvb3Qubm9kZVN0b3JlOwogIC8vICAgY29uc3QgcGVuID0gcm9vdC5wZW5TdG9yZTsKICAvLyAgIHJvb3QubWV0YWZ1blN0b3JlLm1ldGFmdW5zID0gW107CiAgLy8KICAvLyAgIHBlbi5zZXRQb2ludGVkTm9kZSgKICAvLyAgICAgbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoWyJvcmJpdCIsICJlYXJ0aCJdLCAibGlmZSIsIFswXSkKICAvLyAgICk7CiAgLy8gICBwZW4uc2V0SXNRdWVyeWluZyh0cnVlKTsKICAvLyAgIHBlbi5zZXRRdWVyeSgiIik7CiAgLy8gICBsZXQgc3VnZ2VzdGlvbnMgPSBwZW4uZ2V0Tm9kZUNob2ljZXMoKTsKICAvLyAgIGxldCBhY3R1YWwgPSB3dShzdWdnZXN0aW9ucykKICAvLyAgICAgLnBsdWNrKCJ0ZXh0IikKICAvLyAgICAgLnRvQXJyYXkoKTsKICAvLyAgIGxldCBleHBlY3RlZCA9IFsKICAvLyAgICAgIm9yYml0Lm9yYml0U2l6ZSIsCiAgLy8gICAgICJyb290LmdyYXZpdHkiLAogIC8vICAgICAicm9vdC5jbG9uZXMiLAogIC8vICAgICAicm9vdC5jbG9uZU51bWJlciIsCiAgLy8gICBdOwogIC8vICAgZXhwZWN0KGFjdHVhbCkudG8uZGVlcC5lcXVhbChleHBlY3RlZCk7CiAgLy8KICAvLyAgIC8vIC0tLSBkb24ndCBnZXQgdGhlIG9yYml0IG9uZXMsIHN0aWxsIGdldCBteSBvbmVzIC0tLQogIC8vCiAgLy8gICBwZW4uc2V0UG9pbnRlZE5vZGUobm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoWyJ0cmVlIl0sICJncm93dGgiLCBbMF0pKTsKICAvLyAgIHBlbi5zZXRJc1F1ZXJ5aW5nKHRydWUpOwogIC8vICAgcGVuLnNldFF1ZXJ5KCIiKTsKICAvLyAgIHN1Z2dlc3Rpb25zID0gcGVuLmdldE5vZGVDaG9pY2VzKCk7CiAgLy8gICBhY3R1YWwgPSB3dShzdWdnZXN0aW9ucykKICAvLyAgICAgLnBsdWNrKCJ0ZXh0IikKICAvLyAgICAgLnRvQXJyYXkoKTsKICAvLyAgIGV4cGVjdGVkID0gWyJ0cmVlLmhhciIsICJyb290LmdyYXZpdHkiLCAicm9vdC5jbG9uZXMiLCAicm9vdC5jbG9uZU51bWJlciJdOwogIC8vICAgZXhwZWN0KGFjdHVhbCkudG8uZGVlcC5lcXVhbChleHBlY3RlZCk7CiAgLy8gfSk7CiAgLy8KICAvLyBpdCgib3JnYW5zIGNvbXB1dGUiLCAoKSA9PiB7CiAgLy8gICByZXR1cm47CiAgLy8gICBsZXQgZmluYWwgPSB7CiAgLy8gICAgICJTdXBlck9yZ2FuaXNtIHJvb3QiOiB7CiAgLy8gICAgICAgIlN1cGVyT3JnYW5pc20gZ3JpZDEiOiB7CiAgLy8gICAgICAgICAiZWRpdGF0dHIgY2xvbmVzIjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgICAiZWRpdGF0dHIgZ3JpZHgiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgICJlbWVyYXR0ciBjbG9uZU51bWJlciI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICAgIlN1cGVyT3JnYW5pc20gZ3JpZDIiOiB7CiAgLy8gICAgICAgICAgICJlZGl0YXR0ciBjbG9uZXMiOiB7ICIwIE51bWJlciI6IDAgfSwKICAvLyAgICAgICAgICAgImVkaXRhdHRyIGdyaWR5IjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgICAgICJlbWVyYXR0ciBjbG9uZU51bWJlciI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICAgICAiUmVjdGFuZ2xlIHNxdWFyZSI6IHsKICAvLyAgICAgICAgICAgICAiZWRpdGF0dHIgeCI6IHsgIjAgTnVtYmVyIjogMCB9LAogIC8vICAgICAgICAgICAgICJlZGl0YXR0ciB5IjogeyAiMCBOdW1iZXIiOiAwIH0sCiAgLy8gICAgICAgICAgIH0sCiAgLy8gICAgICAgICB9LAogIC8vICAgICAgIH0sCiAgLy8gICAgIH0sCiAgLy8gICB9OwogIC8vCiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKS5mcm9tVHJlZShmaW5hbCk7CiAgLy8gICBjb25zdCBhdHRyaWJ1dGVDb2xsZWN0aW9uID0gcm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uOwogIC8vICAgY29uc3Qgb3JnYW5pc21Db2xsZWN0aW9uID0gcm9vdC5vcmdhbmlzbUNvbGxlY3Rpb247CiAgLy8gICBjb25zdCBub2RlQ29sbGVjdGlvbiA9IHJvb3Qubm9kZVN0b3JlOwogIC8vCiAgLy8gICBvcmdhbmlzbUNvbGxlY3Rpb24uaW5pdFJvb3RPcmdhbmlzbSgpOwogIC8vICAgY29uc3QgeCA9IG5vZGVDb2xsZWN0aW9uLmdldEZyb21QYXRoKFsiZ3JpZDEiLCAiZ3JpZDIiLCAic3F1YXJlIl0sICJ4Iik7CiAgLy8gICBjb25zdCB5ID0gbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoWyJncmlkMSIsICJncmlkMiIsICJzcXVhcmUiXSwgInkiKTsKICAvLyAgIGNvbnN0IGdyaWR4ID0gbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoWyJncmlkMSJdLCAiZ3JpZHgiKTsKICAvLyAgIGNvbnN0IGdyaWR5ID0gbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoWyJncmlkMSIsICJncmlkMiJdLCAiZ3JpZHkiKTsKICAvLyAgIGNvbnN0IGdyaWQxY2xvbmVzID0gbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoWyJncmlkMSJdLCAiY2xvbmVzIik7CiAgLy8gICBjb25zdCBncmlkMmNsb25lcyA9IG5vZGVDb2xsZWN0aW9uLmdldEZyb21QYXRoKAogIC8vICAgICBbImdyaWQxIiwgImdyaWQyIl0sCiAgLy8gICAgICJjbG9uZXMiCiAgLy8gICApOwogIC8vICAgbm9kZUNvbGxlY3Rpb24ucHV0Q2hpbGQoeCwgMCwgbm9kZUNvbGxlY3Rpb24uYWRkUmVmZXJlbmNlKGdyaWR4KSk7CiAgLy8gICBub2RlQ29sbGVjdGlvbi5wdXRDaGlsZCh5LCAwLCBub2RlQ29sbGVjdGlvbi5hZGRSZWZlcmVuY2UoZ3JpZHkpKTsKICAvLyAgIG5vZGVDb2xsZWN0aW9uLnB1dENoaWxkKGdyaWQxY2xvbmVzLCAwLCBub2RlQ29sbGVjdGlvbi5hZGROdW1iZXIoMykpOwogIC8vICAgbm9kZUNvbGxlY3Rpb24ucHV0Q2hpbGQoZ3JpZDJjbG9uZXMsIDAsIG5vZGVDb2xsZWN0aW9uLmFkZE51bWJlcigzKSk7CiAgLy8gICBjb25zdCBhY3R1YWwgPSB3dShyb290LmNvbXB1dGVSZW5kZXJDb21tYW5kcygpKS50b0FycmF5KCk7CiAgLy8gICBjb25zdCBleHBlY3RlZCA9IFsKICAvLyAgICAgeyBzaGFwZTogUmVuZGVyU2hhcGUuUmVjdGFuZ2xlLCB4OiAtMSwgeTogLTEgfSwKICAvLyAgICAgeyBzaGFwZTogUmVuZGVyU2hhcGUuUmVjdGFuZ2xlLCB4OiAtMSwgeTogMCB9LAogIC8vICAgICB7IHNoYXBlOiBSZW5kZXJTaGFwZS5SZWN0YW5nbGUsIHg6IC0xLCB5OiAxIH0sCiAgLy8gICAgIHsgc2hhcGU6IFJlbmRlclNoYXBlLlJlY3RhbmdsZSwgeDogMCwgeTogLTEgfSwKICAvLyAgICAgeyBzaGFwZTogUmVuZGVyU2hhcGUuUmVjdGFuZ2xlLCB4OiAwLCB5OiAwIH0sCiAgLy8gICAgIHsgc2hhcGU6IFJlbmRlclNoYXBlLlJlY3RhbmdsZSwgeDogMCwgeTogMSB9LAogIC8vICAgICB7IHNoYXBlOiBSZW5kZXJTaGFwZS5SZWN0YW5nbGUsIHg6IDEsIHk6IC0xIH0sCiAgLy8gICAgIHsgc2hhcGU6IFJlbmRlclNoYXBlLlJlY3RhbmdsZSwgeDogMSwgeTogMCB9LAogIC8vICAgICB7IHNoYXBlOiBSZW5kZXJTaGFwZS5SZWN0YW5nbGUsIHg6IDEsIHk6IDEgfSwKICAvLyAgIF07CiAgLy8KICAvLyAgIGV4cGVjdChhY3R1YWwubGVuZ3RoKS50by5lcXVhbChleHBlY3RlZC5sZW5ndGgpOwogIC8vICAgZm9yIChjb25zdCBhdCBvZiBhY3R1YWwpIHsKICAvLyAgICAgZXhwZWN0KGV4cGVjdGVkKS50by5kZWVwLmluY2x1ZGUoYXQpOwogIC8vICAgfQogIC8vIH0pOwogIC8vCiAgLy8gaXQoImluc2VydCBub2RlLCBmcm9tIHRyZWUiLCAoKSA9PiB7CiAgLy8gICBsZXQgdHJlZSA9IHsKICAvLyAgICAgIjAgRnVuY3Rpb24gQWRkIjogewogIC8vICAgICAgICIwIE51bWJlciI6IDMsCiAgLy8gICAgICAgIjEgRnVuY3Rpb24gTXVsdGlwbHkiOiB7CiAgLy8gICAgICAgICAiMCBOdW1iZXIiOiA1LAogIC8vICAgICAgICAgIjEgTnVtYmVyIjogMiwKICAvLyAgICAgICB9LAogIC8vICAgICB9LAogIC8vICAgfTsKICAvLwogIC8vICAgY29uc3Qgcm9vdCA9IG5ldyBSb290KCk7CiAgLy8gICBjb25zdCBub2RlQ29sbGVjdGlvbiA9IHJvb3Qubm9kZVN0b3JlOwogIC8vCiAgLy8gICB7CiAgLy8gICAgIGNvbnN0IHJvb3ROb2RlID0gbm9kZUNvbGxlY3Rpb24uZnJvbVRyZWUodHJlZSk7CiAgLy8gICAgIGV4cGVjdChyb290Tm9kZS5ldmFsKCkpLnRvLmVxdWFsKDEzKTsKICAvLyAgICAgY29uc3QgbXVsdGlwbHlOb2RlID0gbm9kZUNvbGxlY3Rpb24uZ2V0Q2hpbGQocm9vdE5vZGUsIDEpOwogIC8vICAgICBjb25zdCBpbnNlcnROb2RlID0gbm9kZUNvbGxlY3Rpb24uYWRkRnVuKAogIC8vICAgICAgIHJvb3QubWV0YWZ1blN0b3JlLmdldEZyb21OYW1lKCJEaXZpZGUiKQogIC8vICAgICApOwogIC8vICAgICBub2RlQ29sbGVjdGlvbi5pbnNlcnROb2RlQXNQYXJlbnQobXVsdGlwbHlOb2RlLCBpbnNlcnROb2RlKTsKICAvLwogIC8vICAgICBsZXQgZXhwZWN0ZWQgPSB7CiAgLy8gICAgICAgIjAgRnVuY3Rpb24gQWRkIjogewogIC8vICAgICAgICAgIjAgTnVtYmVyIjogMywKICAvLyAgICAgICAgICIxIEZ1bmN0aW9uIERpdmlkZSI6IHsKICAvLyAgICAgICAgICAgIjAgRnVuY3Rpb24gTXVsdGlwbHkiOiB7CiAgLy8gICAgICAgICAgICAgIjAgTnVtYmVyIjogNSwKICAvLyAgICAgICAgICAgICAiMSBOdW1iZXIiOiAyLAogIC8vICAgICAgICAgICB9LAogIC8vICAgICAgICAgICAiMSBOdW1iZXIiOiAwLAogIC8vICAgICAgICAgfSwKICAvLyAgICAgICB9LAogIC8vICAgICB9OwogIC8vCiAgLy8gICAgIGV4cGVjdChub2RlQ29sbGVjdGlvbi50b1RyZWUyKHJvb3ROb2RlKSkudG8uZGVlcC5lcXVhbChleHBlY3RlZCk7CiAgLy8gICB9CiAgLy8gfSk7CiAgLy8KICAvLyAvLyBpdCgiZ2hvc3QgZWRpdHMiLCAoKSA9PiB7CiAgLy8gLy8gICBsZXQgdHJlZSA9IHsKICAvLyAvLyAgICAgIlN1cGVyT3JnYW5pc20gcm9vdCI6IHsKICAvLyAvLyAgICAgICAiZWRpdGF0dHIgZ3Jhdml0eSI6IHsKICAvLyAvLyAgICAgICAgICIwIEZ1bmN0aW9uIEFkZCI6IHsKICAvLyAvLyAgICAgICAgICAgIjAgTnVtYmVyIjogMywKICAvLyAvLyAgICAgICAgICAgIjEgRnVuY3Rpb24gTXVsdGlwbHkiOiB7CiAgLy8gLy8gICAgICAgICAgICAgIjAgTnVtYmVyIjogNSwKICAvLyAvLyAgICAgICAgICAgICAiMSBOdW1iZXIiOiAyLAogIC8vIC8vICAgICAgICAgICB9LAogIC8vIC8vICAgICAgICAgfSwKICAvLyAvLyAgICAgICB9LAogIC8vIC8vICAgICB9LAogIC8vIC8vICAgfTsKICAvLwogIC8vIC8vICAgY29uc3Qgcm9vdCA9IG5ldyBSb290KCkuZnJvbVRyZWUodHJlZSk7CiAgLy8gLy8gICBjb25zdCBwZW4gPSByb290LnBlbjsKICAvLyAvLyAgIGNvbnN0IG5vZGVDb2xsZWN0aW9uID0gcm9vdC5ub2RlQ29sbGVjdGlvbjsKICAvLyAvLyAgIGV4cGVjdChyb290LnRvVHJlZSgpKS50by5kZWVwLmVxdWFsKHRyZWUpOwogIC8vCiAgLy8gLy8gICB7CiAgLy8gLy8gICAgIGNvbnN0IHJvb3ROb2RlID0gbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoW10sICJncmF2aXR5IiwgW10pOwogIC8vIC8vICAgICBjb25zdCBhZGROb2RlID0gbm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoW10sICJncmF2aXR5IiwgWzBdKTsKICAvLyAvLyAgICAgcGVuLnNldFBlblBvc2l0aW9uKHsKICAvLyAvLyAgICAgICBwb3NpdGlvblR5cGU6ICJOb2RlIiwKICAvLyAvLyAgICAgICByZWZlcmVuY2VOb2RlSWQ6IGFkZE5vZGUuaWQsCiAgLy8gLy8gICAgICAgcmVsYXRpb246IFBlblBvc2l0aW9uUmVsYXRpb24uQmVmb3JlLAogIC8vIC8vICAgICB9KTsKICAvLyAvLyAgICAgcGVuLnNldFF1ZXJ5KCJMZXJwIik7CiAgLy8gLy8gICAgIHBlbi5zZXRJc1F1ZXJ5aW5nKHRydWUpOwogIC8vIC8vICAgICBjb25zdCBnaG9zdEVkaXQgPSBwZW4uZ2V0Tm9kZUNob2ljZXMoKS5uZXh0KCkudmFsdWU7CiAgLy8gLy8gICAgIHBlbi5jb21taXROb2RlQ2hvaWNlKGdob3N0RWRpdCk7CiAgLy8KICAvLyAvLyAgICAgY29uc3QgZXhwZWN0ZWQgPSB7CiAgLy8gLy8gICAgICAgIjAgVmFyaWFibGUiOiB7CiAgLy8gLy8gICAgICAgICAiMCBGdW5jdGlvbiBMZXJwIjogewogIC8vIC8vICAgICAgICAgICAiMCBGdW5jdGlvbiBBZGQiOiB7CiAgLy8gLy8gICAgICAgICAgICAgIjAgTnVtYmVyIjogMywKICAvLyAvLyAgICAgICAgICAgICAiMSBGdW5jdGlvbiBNdWx0aXBseSI6IHsKICAvLyAvLyAgICAgICAgICAgICAgICIwIE51bWJlciI6IDUsCiAgLy8gLy8gICAgICAgICAgICAgICAiMSBOdW1iZXIiOiAyLAogIC8vIC8vICAgICAgICAgICAgIH0sCiAgLy8gLy8gICAgICAgICAgIH0sCiAgLy8gLy8gICAgICAgICAgICIxIE51bWJlciI6IDAsCiAgLy8gLy8gICAgICAgICAgICIyIE51bWJlciI6IDAsCiAgLy8gLy8gICAgICAgICB9LAogIC8vIC8vICAgICAgIH0sCiAgLy8gLy8gICAgIH07CiAgLy8gLy8gICAgIGV4cGVjdChub2RlQ29sbGVjdGlvbi50b1RyZWUyKHJvb3ROb2RlKSkudG8uZGVlcC5lcXVhbChleHBlY3RlZCk7CiAgLy8gLy8gICB9CiAgLy8KICAvLyAvLyAgIHsKICAvLyAvLyAgICAgcm9vdC5mcm9tVHJlZSh0cmVlKTsKICAvLyAvLyAgICAgY29uc3Qgcm9vdE5vZGUgPSBub2RlQ29sbGVjdGlvbi5nZXRGcm9tUGF0aChbXSwgImdyYXZpdHkiLCBbXSk7CiAgLy8gLy8gICAgIGNvbnN0IGFkZE5vZGUgPSBub2RlQ29sbGVjdGlvbi5nZXRGcm9tUGF0aChbXSwgImdyYXZpdHkiLCBbMF0pOwogIC8vIC8vICAgICBwZW4uc2V0UGVuUG9zaXRpb24oewogIC8vIC8vICAgICAgIHBvc2l0aW9uVHlwZTogIk5vZGUiLAogIC8vIC8vICAgICAgIHJlZmVyZW5jZU5vZGVJZDogYWRkTm9kZS5pZCwKICAvLyAvLyAgICAgICByZWxhdGlvbjogUGVuUG9zaXRpb25SZWxhdGlvbi5PbiwKICAvLyAvLyAgICAgfSk7CiAgLy8gLy8gICAgIHBlbi5zZXRRdWVyeSgiTGVycCIpOwogIC8vIC8vICAgICBwZW4uc2V0SXNRdWVyeWluZyh0cnVlKTsKICAvLyAvLyAgICAgY29uc3QgZ2hvc3RFZGl0ID0gcGVuLmdldE5vZGVDaG9pY2VzKCkubmV4dCgpLnZhbHVlOwogIC8vIC8vICAgICBwZW4uY29tbWl0Tm9kZUNob2ljZShnaG9zdEVkaXQpOwogIC8vCiAgLy8gLy8gICAgIGNvbnN0IGV4cGVjdGVkID0gewogIC8vIC8vICAgICAgICIwIFZhcmlhYmxlIjogewogIC8vIC8vICAgICAgICAgIjAgRnVuY3Rpb24gTGVycCI6IHsKICAvLyAvLyAgICAgICAgICAgIjAgTnVtYmVyIjogMywKICAvLyAvLyAgICAgICAgICAgIjEgRnVuY3Rpb24gTXVsdGlwbHkiOiB7CiAgLy8gLy8gICAgICAgICAgICAgIjAgTnVtYmVyIjogNSwKICAvLyAvLyAgICAgICAgICAgICAiMSBOdW1iZXIiOiAyLAogIC8vIC8vICAgICAgICAgICB9LAogIC8vIC8vICAgICAgICAgICAiMiBOdW1iZXIiOiAwLAogIC8vIC8vICAgICAgICAgfSwKICAvLyAvLyAgICAgICB9LAogIC8vIC8vICAgICB9OwogIC8vIC8vICAgICBleHBlY3Qobm9kZUNvbGxlY3Rpb24udG9UcmVlMihyb290Tm9kZSkpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWQpOwogIC8vIC8vICAgfQogIC8vIC8vIH0pOwogIC8vCiAgLy8gaXQoInNpbXBsZSBpbnRlZ3JhdGlvbiIsICgpID0+IHsKICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpOwogIC8vICAgcm9vdC5vcmdhbmlzbUNvbGxlY3Rpb24uaW5pdFJvb3RPcmdhbmlzbSgpOwogIC8vICAgY29uc3QgYXR0cmlidXRlID0gcm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uLnB1dEVkaXRhYmxlKAogIC8vICAgICByb290Lm9yZ2FuaXNtQ29sbGVjdGlvbi5yb290T3JnYW5pc20sCiAgLy8gICAgICJ4IgogIC8vICAgKTsKICAvLyAgIHJvb3QuYXR0cmlidXRlQ29sbGVjdGlvbi5nZXRSb290Tm9kZShhdHRyaWJ1dGUpOwogIC8vIH0pOwogIC8vCiAgLy8gaXQoIm5vZGUgZHJvcC9hZGQgYXJndW1lbnQiLCAoKSA9PiB7CiAgLy8gICByZXR1cm47CiAgLy8gICBsZXQgdHJlZSA9IHsKICAvLyAgICAgIlN1cGVyT3JnYW5pc20gcm9vdCI6IHsKICAvLyAgICAgICAiZWRpdGF0dHIgZ3Jhdml0eSI6IHsKICAvLyAgICAgICAgICIwIEZ1bmN0aW9uIExlcnAiOiB7CiAgLy8gICAgICAgICAgICIwIE51bWJlciI6IDUsCiAgLy8gICAgICAgICAgICIxIE51bWJlciI6IDIsCiAgLy8gICAgICAgICAgICIyIE51bWJlciI6IDMsCiAgLy8gICAgICAgICB9LAogIC8vICAgICAgIH0sCiAgLy8gICAgIH0sCiAgLy8gICB9OwogIC8vCiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKS5mcm9tVHJlZSh0cmVlKTsKICAvLyAgIGNvbnN0IHBlbiA9IHJvb3QucGVuOwogIC8vICAgY29uc3Qgbm9kZUNvbGxlY3Rpb24gPSByb290Lm5vZGVDb2xsZWN0aW9uOwogIC8vICAgY29uc3QgbGVycE5vZGUgPSBub2RlQ29sbGVjdGlvbi5nZXRGcm9tUGF0aChbXSwgImdyYXZpdHkiLCBbMF0pOwogIC8vICAgY29uc3Qgbm9kZTAgPSBub2RlQ29sbGVjdGlvbi5nZXRGcm9tUGF0aChbXSwgImdyYXZpdHkiLCBbMCwgMF0pOwogIC8vICAgY29uc3Qgbm9kZTEgPSBub2RlQ29sbGVjdGlvbi5nZXRGcm9tUGF0aChbXSwgImdyYXZpdHkiLCBbMCwgMV0pOwogIC8vICAgY29uc3Qgbm9kZTIgPSBub2RlQ29sbGVjdGlvbi5nZXRGcm9tUGF0aChbXSwgImdyYXZpdHkiLCBbMCwgMl0pOwogIC8vICAgLy8gZXhwZWN0KHJvb3QudG9UcmVlKCkpLnRvLmRlZXAuZXF1YWwodHJlZSk7CiAgLy8gICBleHBlY3Qobm9kZTIuZXZhbCgpKS50by5lcXVhbCgzKTsKICAvLwogIC8vICAgewogIC8vICAgICBwZW4uc2V0UG9pbnRlZE5vZGUobGVycE5vZGUpOwogIC8vICAgICBwZW4uc2V0SXNRdWVyeWluZyh0cnVlKTsKICAvLyAgICAgcGVuLnNldFF1ZXJ5KCJBZGQiKTsKICAvLyAgICAgY29uc3QgZWRpdCA9IHBlbi5nZXROb2RlQ2hvaWNlcygpLm5leHQoKS52YWx1ZTsKICAvLyAgICAgZXhwZWN0KGVkaXQpLnRvLm5vdC5lcXVhbCh1bmRlZmluZWQpOwogIC8vICAgICBwZW4uY29tbWl0Tm9kZUNob2ljZShlZGl0KTsKICAvLwogIC8vICAgICBjb25zdCBleHBlY3RlZCA9IHsKICAvLyAgICAgICAiU3VwZXJPcmdhbmlzbSByb290IjogewogIC8vICAgICAgICAgImVkaXRhdHRyIGdyYXZpdHkiOiB7CiAgLy8gICAgICAgICAgICIwIEZ1bmN0aW9uIEFkZCI6IHsKICAvLyAgICAgICAgICAgICAiMCBOdW1iZXIiOiA1LAogIC8vICAgICAgICAgICAgICIxIE51bWJlciI6IDIsCiAgLy8gICAgICAgICAgIH0sCiAgLy8gICAgICAgICB9LAogIC8vICAgICAgIH0sCiAgLy8gICAgIH07CiAgLy8gICAgIC8vIGV4cGVjdChyb290LnRvVHJlZSgpKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkKTsKICAvLyAgICAgZXhwZWN0KG5vZGVDb2xsZWN0aW9uLm5vZGVzLmdldFVuaXF1ZSgiaWQiLCBub2RlMi5pZCwgZmFsc2UpKS50by5lcXVhbCgKICAvLyAgICAgICB1bmRlZmluZWQKICAvLyAgICAgKTsKICAvLyAgIH0KICAvLwogIC8vICAgewogIC8vICAgICBwZW4uc2V0UG9pbnRlZE5vZGUobm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoW10sICJncmF2aXR5IiwgWzBdKSk7CiAgLy8gICAgIGNvbnN0IGV4cGVjdGVkID0gewogIC8vICAgICAgICJTdXBlck9yZ2FuaXNtIHJvb3QiOiB7CiAgLy8gICAgICAgICAiZWRpdGF0dHIgZ3Jhdml0eSI6IHsKICAvLyAgICAgICAgICAgIjAgTnVtYmVyIjogMywKICAvLyAgICAgICAgIH0sCiAgLy8gICAgICAgfSwKICAvLyAgICAgfTsKICAvLyAgICAgcGVuLnNldElzUXVlcnlpbmcodHJ1ZSk7CiAgLy8gICAgIHBlbi5zZXRRdWVyeSgiMyIpOwogIC8vICAgICBjb25zdCBlZGl0ID0gcGVuLmdldE5vZGVDaG9pY2VzKCkubmV4dCgpLnZhbHVlOwogIC8vICAgICBwZW4uY29tbWl0Tm9kZUNob2ljZShlZGl0KTsKICAvLwogIC8vICAgICAvLyBleHBlY3Qocm9vdC50b1RyZWUoKSkudG8uZGVlcC5lcXVhbChleHBlY3RlZCk7CiAgLy8gICAgIGV4cGVjdChub2RlQ29sbGVjdGlvbi5ub2Rlcy5nZXRVbmlxdWUoImlkIiwgbm9kZTEuaWQsIGZhbHNlKSkudG8uZXF1YWwoCiAgLy8gICAgICAgdW5kZWZpbmVkCiAgLy8gICAgICk7CiAgLy8gICAgIGV4cGVjdChub2RlQ29sbGVjdGlvbi5ub2Rlcy5nZXRVbmlxdWUoImlkIiwgbm9kZTAuaWQsIGZhbHNlKSkudG8uZXF1YWwoCiAgLy8gICAgICAgdW5kZWZpbmVkCiAgLy8gICAgICk7CiAgLy8gICB9CiAgLy8gfSk7CiAgLy8KICAvLyBpdCgidmVjdG9yIiwgKCkgPT4gewogIC8vICAgY29uc3Qgcm9vdCA9IG5ldyBSb290KCk7CiAgLy8gICBjb25zdCBwZW4gPSByb290LnBlbjsKICAvLyAgIGNvbnN0IG5vZGVDb2xsZWN0aW9uID0gcm9vdC5ub2RlQ29sbGVjdGlvbjsKICAvLyAgIGNvbnN0IG9yZ2FuaXNtQ29sbGVjdGlvbiA9IHJvb3Qub3JnYW5pc21Db2xsZWN0aW9uOwogIC8vICAgY29uc3QgYXR0cmlidXRlQ29sbGVjdGlvbiA9IHJvb3QuYXR0cmlidXRlQ29sbGVjdGlvbjsKICAvLyAgIGNvbnN0IGNpcmNsZSA9IG9yZ2FuaXNtQ29sbGVjdGlvbi5wdXRGcm9tTWV0YW5hbWUoImNpcmNsZSIsICJDaXJjbGUiKTsKICAvLyAgIGF0dHJpYnV0ZUNvbGxlY3Rpb24ucmVtb3ZlKAogIC8vICAgICBhdHRyaWJ1dGVDb2xsZWN0aW9uLmdldEF0dHJpYnV0ZUZyb21OYW1lKGNpcmNsZSwgInJhZGl1cyIpCiAgLy8gICApOwogIC8vICAgYXR0cmlidXRlQ29sbGVjdGlvbi5yZW1vdmUoCiAgLy8gICAgIGF0dHJpYnV0ZUNvbGxlY3Rpb24uZ2V0QXR0cmlidXRlRnJvbU5hbWUoY2lyY2xlLCAiY2xvbmVzIikKICAvLyAgICk7CiAgLy8gICBhdHRyaWJ1dGVDb2xsZWN0aW9uLnJlbW92ZSgKICAvLyAgICAgYXR0cmlidXRlQ29sbGVjdGlvbi5nZXRBdHRyaWJ1dGVGcm9tTmFtZShjaXJjbGUsICJjbG9uZU51bWJlciIpCiAgLy8gICApOwogIC8vICAgLy8gYXR0cmlidXRlQ29sbGVjdGlvbi5yZW1vdmUoYXR0cmlidXRlQ29sbGVjdGlvbi5nZXRBdHRyaWJ1dGVGcm9tTmFtZShjaXJjbGUsICd0aW1lMDEnKSk7CiAgLy8gICBvcmdhbmlzbUNvbGxlY3Rpb24ucm9vdE9yZ2FuaXNtID0gY2lyY2xlOwogIC8vICAgLy8gb3JnYW5pc21Db2xsZWN0aW9uLmFkZENoaWxkKG9yZ2FuaXNtQ29sbGVjdGlvbi5nZXRSb290KCksIGNpcmNsZSk7CiAgLy8KICAvLyAgIGNvbnN0IGNvbW1hbmRzID0gQXJyYXkuZnJvbShyb290LmNvbXB1dGVSZW5kZXJDb21tYW5kcygpKTsKICAvLyAgIGV4cGVjdChjb21tYW5kc1swXS54KS50by5lcXVhbCgwKTsKICAvLyAgIGV4cGVjdChjb21tYW5kc1swXS55KS50by5lcXVhbCgwKTsKICAvLyB9KTsKICAvLwogIC8vIGl0KCJ2ZWN0b3IyIiwgKCkgPT4gewogIC8vICAgY29uc3QgdHJlZSA9IHsKICAvLyAgICAgIlN1cGVyT3JnYW5pc20gcm9vdCI6IHsKICAvLyAgICAgICAiZWRpdGF0dHIgeHkgVmVjdG9yIjoge30sCiAgLy8gICAgICAgImVkaXRhdHRyIHJhZGl1cyBOdW1iZXIiOiB7fSwKICAvLyAgICAgfSwKICAvLyAgIH07CiAgLy8gICBjb25zdCByb290ID0gbmV3IFJvb3QoKS5mcm9tVHJlZSh0cmVlKTsKICAvLyAgIGNvbnN0IHBlbiA9IHJvb3QucGVuOwogIC8vICAgY29uc3Qgbm9kZUNvbGxlY3Rpb24gPSByb290Lm5vZGVDb2xsZWN0aW9uOwogIC8vICAgY29uc3Qgb3JnYW5pc21Db2xsZWN0aW9uID0gcm9vdC5vcmdhbmlzbUNvbGxlY3Rpb247CiAgLy8gICBjb25zdCBhdHRyaWJ1dGVDb2xsZWN0aW9uID0gcm9vdC5hdHRyaWJ1dGVDb2xsZWN0aW9uOwogIC8vICAgZXhwZWN0KG5vZGVDb2xsZWN0aW9uLmdldEZyb21QYXRoKFtdLCAieHkiLCBbXSkuZXZhbCgpLngpLnRvLmVxdWFsKDApOwogIC8vCiAgLy8gICBwZW4uc2V0UG9pbnRlZE5vZGUobm9kZUNvbGxlY3Rpb24uZ2V0RnJvbVBhdGgoW10sICJ4eSIsIFswXSkpOwogIC8vICAgcGVuLnNldElzUXVlcnlpbmcodHJ1ZSk7CiAgLy8gICBwZW4uc2V0UXVlcnkoInJhZGl1cyIpOwogIC8vICAgZXhwZWN0KHBlbi5nZXROb2RlQ2hvaWNlcygpLm5leHQoKS5kb25lKS50by5lcXVhbCh0cnVlKTsKICAvLwogIC8vICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLwogIC8vICAgcGVuLnNldFF1ZXJ5KCJBZGQiKTsKICAvLyAgIHBlbi5jb21taXRGaXJzdE5vZGVDaG9pY2UoKTsKICAvLyAgIGNvbnN0IGV4ID0gewogIC8vICAgICAiU3VwZXJPcmdhbmlzbSByb290IjogewogIC8vICAgICAgICJlZGl0YXR0ciB4eSBWZWN0b3IiOiB7CiAgLy8gICAgICAgICAiMCBGdW5jdGlvbiBBZGQiOiB7CiAgLy8gICAgICAgICAgICIwIFZlY3RvciI6IHsKICAvLyAgICAgICAgICAgICAiMCBOdW1iZXIiOiAwLAogIC8vICAgICAgICAgICAgICIxIE51bWJlciI6IDAsCiAgLy8gICAgICAgICAgIH0sCiAgLy8gICAgICAgICAgICIxIFZlY3RvciI6IHsKICAvLyAgICAgICAgICAgICAiMCBOdW1iZXIiOiAwLAogIC8vICAgICAgICAgICAgICIxIE51bWJlciI6IDAsCiAgLy8gICAgICAgICAgIH0sCiAgLy8gICAgICAgICB9LAogIC8vICAgICAgIH0sCiAgLy8gICAgICAgImVkaXRhdHRyIHJhZGl1cyBOdW1iZXIiOiB7CiAgLy8gICAgICAgICAiMCBOdW1iZXIiOiAwLAogIC8vICAgICAgIH0sCiAgLy8gICAgIH0sCiAgLy8gICB9OwogIC8vCiAgLy8gICBleHBlY3Qocm9vdC50b1RyZWUoKSkudG8uZGVlcC5lcXVhbChleCk7CiAgLy8KICAvLyAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgLy8gfSk7CiAgLy8KICAvLyBpdCgiY29kZSBtaXJyb3IiLCAoKSA9PiB7CiAgLy8gICBsZXQgdHJlZSA9IHsKICAvLyAgICAgIlN1cGVyT3JnYW5pc20gcm9vdCI6IHsKICAvLyAgICAgICAiZWRpdGF0dHIgZ3Jhdml0eSI6IHsKICAvLyAgICAgICAgICIwIEZ1bmN0aW9uIEFkZCI6IHsKICAvLyAgICAgICAgICAgIjAgTnVtYmVyIjogMywKICAvLyAgICAgICAgICAgIjEgRnVuY3Rpb24gTXVsdGlwbHkiOiB7CiAgLy8gICAgICAgICAgICAgIjAgTnVtYmVyIjogNTIsCiAgLy8gICAgICAgICAgICAgIjEgTnVtYmVyIjogMiwKICAvLyAgICAgICAgICAgfSwKICAvLyAgICAgICAgIH0sCiAgLy8gICAgICAgfSwKICAvLyAgICAgfSwKICAvLyAgIH07CiAgLy8KICAvLyAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdCgpLmZyb21UcmVlKHRyZWUpOwogIC8vICAgY29uc3QgcGVuID0gcm9vdC5wZW47CiAgLy8gICBjb25zdCBub2RlQ29sbGVjdGlvbiA9IHJvb3Qubm9kZUNvbGxlY3Rpb247CiAgLy8gICAvLyBleHBlY3Qocm9vdC50b1RyZWUoKSkudG8uZGVlcC5lcXVhbCh0cmVlKTsKICAvLwogIC8vICAgY29uc3Qgb3JnYW5pc20gPSByb290Lm9yZ2FuaXNtQ29sbGVjdGlvbi5nZXRSb290KCk7CiAgLy8gICBjb25zdCBhdHRyaWJ1dGUgPSByb290LmF0dHJpYnV0ZUNvbGxlY3Rpb24uZ2V0QXR0cmlidXRlRnJvbU5hbWUoCiAgLy8gICAgIG9yZ2FuaXNtLAogIC8vICAgICAiZ3Jhdml0eSIKICAvLyAgICk7CiAgLy8KICAvLyAgIGV4cGVjdChwZW4uZ2V0VGV4dEZvckF0dHJpYnV0ZShhdHRyaWJ1dGUpKS50by5lcXVhbCgiQWRkKDMsTXVsdGlwbHkoNTIsMikpIik7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAwLCBlbmRJbmRleDogMCB9KTsKICAvLyAgIGV4cGVjdChwZW4uZ2V0U2VsZWN0aW9uKCkpLnRvLmRlZXAuZXF1YWwoeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAwLCBlbmRJbmRleDogMCB9KTsKICAvLwogIC8vICAgcGVuLnNldFNlbGVjdGlvbih7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDEsIGVuZEluZGV4OiAxIH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDAsIGVuZEluZGV4OiAzIH0pOwogIC8vCiAgLy8gICBwZW4uc2V0U2VsZWN0aW9uKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogMiwgZW5kSW5kZXg6IDIgfSk7CiAgLy8gICBleHBlY3QocGVuLmdldFNlbGVjdGlvbigpKS50by5kZWVwLmVxdWFsKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogMCwgZW5kSW5kZXg6IDMgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAyLCBlbmRJbmRleDogMiB9KTsKICAvLyAgIGV4cGVjdChwZW4uZ2V0U2VsZWN0aW9uKCkpLnRvLmRlZXAuZXF1YWwoeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAwLCBlbmRJbmRleDogMyB9KTsKICAvLwogIC8vICAgcGVuLnNldFNlbGVjdGlvbih7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDMsIGVuZEluZGV4OiAzIH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDQsIGVuZEluZGV4OiA0IH0pOwogIC8vCiAgLy8gICBwZW4uc2V0U2VsZWN0aW9uKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogNCwgZW5kSW5kZXg6IDQgfSk7CiAgLy8gICBleHBlY3QocGVuLmdldFNlbGVjdGlvbigpKS50by5kZWVwLmVxdWFsKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogNCwgZW5kSW5kZXg6IDQgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiA1LCBlbmRJbmRleDogNSB9KTsKICAvLyAgIGV4cGVjdChwZW4uZ2V0U2VsZWN0aW9uKCkpLnRvLmRlZXAuZXF1YWwoeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiA0LCBlbmRJbmRleDogNSB9KTsKICAvLwogIC8vICAgcGVuLnNldFNlbGVjdGlvbih7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDUsIGVuZEluZGV4OiA1IH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDYsIGVuZEluZGV4OiA2IH0pOwogIC8vCiAgLy8gICBwZW4uc2V0U2VsZWN0aW9uKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogNiwgZW5kSW5kZXg6IDYgfSk7CiAgLy8gICBleHBlY3QocGVuLmdldFNlbGVjdGlvbigpKS50by5kZWVwLmVxdWFsKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogNiwgZW5kSW5kZXg6IDYgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiA3LCBlbmRJbmRleDogNyB9KTsKICAvLyAgIGV4cGVjdChwZW4uZ2V0U2VsZWN0aW9uKCkpLnRvLmRlZXAuZXF1YWwoeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiA2LCBlbmRJbmRleDogMTQgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAxNCwgZW5kSW5kZXg6IDE0IH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDE1LCBlbmRJbmRleDogMTUgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAxNiwgZW5kSW5kZXg6IDE2IH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDE1LCBlbmRJbmRleDogMTcgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAxOSwgZW5kSW5kZXg6IDE5IH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDE4LCBlbmRJbmRleDogMTkgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAyMCwgZW5kSW5kZXg6IDIwIH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDE4LCBlbmRJbmRleDogMTkgfSk7CiAgLy8KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAyMSwgZW5kSW5kZXg6IDIxIH0pOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbCh7IGF0dHJpYnV0ZUlkOiBhdHRyaWJ1dGUuaWQsIHN0YXJ0SW5kZXg6IDE4LCBlbmRJbmRleDogMTkgfSk7CiAgLy8KICAvLyAgIC8vIGFkZCgzLG11bHRpcGx5KDUyLDIpKQogIC8vCiAgLy8gICBwZW4uc2V0U2VsZWN0aW9uKG51bGwpOwogIC8vICAgZXhwZWN0KHBlbi5nZXRTZWxlY3Rpb24oKSkudG8uZGVlcC5lcXVhbChudWxsKTsKICAvLwogIC8vICAgLy8gdGVzdCBtb3ZlIGxlZnQKICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiA0LCBlbmRJbmRleDogNCB9KTsKICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24oeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAzLCBlbmRJbmRleDogMyB9KTsKICAvLyAgIGV4cGVjdChwZW4uZ2V0U2VsZWN0aW9uKCkpLnRvLmRlZXAuZXF1YWwoeyBhdHRyaWJ1dGVJZDogYXR0cmlidXRlLmlkLCBzdGFydEluZGV4OiAwLCBlbmRJbmRleDogMyB9KTsKICAvLwogIC8vICAgLy8gdGVzdCBzZWxlY3QgcGFyZW4gZnJvbSBubyBzZWxlY3Rpb24KICAvLyAgIHBlbi5zZXRTZWxlY3Rpb24obnVsbCk7CiAgLy8gICBwZW4uc2V0U2VsZWN0aW9uKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogMywgZW5kSW5kZXg6IDMgfSk7CiAgLy8gICBleHBlY3QocGVuLmdldFNlbGVjdGlvbigpKS50by5kZWVwLmVxdWFsKHsgYXR0cmlidXRlSWQ6IGF0dHJpYnV0ZS5pZCwgc3RhcnRJbmRleDogNCwgZW5kSW5kZXg6IDQgfSk7CiAgLy8gfSk7Cn0pOw=="},{"version":3,"names":["chai","describe","AssertionError","TestRunner","logAndRethrow","error","customError","Object","assign","message","actual","expected","console","expect","to","equal","assert","strictEqual","deep","deepStrictEqual","include","deepOwnInclude","throw","throws","not","notStrictEqual","clearStore"],"sources":["/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/eslint-loader/index.js??ref--13-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/tests/Tests.ts"],"sourcesContent":["import * as chai from \"chai\";\nimport Functions from \"../../code/Functions\";\nimport { RenderShape, Root } from \"../../store/Root\";\nimport wu from \"wu\";\nimport { describe, it, AssertionError } from \"./TestRunner\";\nimport * as TestRunner from \"./TestRunner\";\nimport threelevels from \"./data/threelevels.json\";\nimport { PenPositionRelation } from \"@/store/Pen\";\n\n// npm run md -- -o C:\\Users\\Yaktori\\Documents\\GitHub\\expresso\\src\\components\\tests\\data\\threelevels.json C:\\Users\\Yaktori\\Documents\\GitHub\\expresso\\src\\components\\tests\\data\\threelevels.md\n\nfunction logAndRethrow(error) {\n  const customError = Object.assign(new AssertionError(), {\n    message: error.message,\n    actual: error.actual,\n    expected: error.expected,\n  });\n  console.error(customError);\n  throw customError;\n}\n\nfunction expect(actual) {\n  return {\n    to: {\n      equal: function(expected) {\n        try {\n          chai.assert.strictEqual(actual, expected);\n        } catch (error) {\n          logAndRethrow(error);\n        }\n      },\n      deep: {\n        equal: function(expected) {\n          try {\n            chai.assert.deepStrictEqual(actual, expected);\n          } catch (error) {\n            logAndRethrow(error);\n          }\n        },\n        include: function(expected) {\n          try {\n            chai.assert.deepOwnInclude(actual, expected);\n          } catch (error) {\n            logAndRethrow(error);\n          }\n        },\n      },\n      throw: function() {\n        try {\n          chai.assert.throws(actual);\n        } catch (error) {\n          logAndRethrow(error);\n        }\n      },\n      not: {\n        equal: function(expected) {\n          try {\n            chai.assert.notStrictEqual(actual, expected);\n          } catch (error) {\n            logAndRethrow(error);\n          }\n        },\n      },\n    },\n  };\n}\n\nTestRunner.clearStore();\n\ndescribe(\"HelloWorld.vue\", () => {\n  // it(\"organism\", () => {\n  //   const root = new Root();\n  //   const organismStore = root.organismStore;\n  //   const circle = organismStore.put(\"circle\");\n  //   const circle2 = organismStore.getFromName(\"circle\");\n  //   expect(circle).to.equal(circle2);\n  // });\n  //\n  // it(\"attribute\", () => {\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const circle = organismStore.put(\"circle\");\n  //   const radius = attributeStore.putEditable(circle, \"radius\");\n  // });\n  //\n  // it(\"nested add\", () => {\n  //   // return;\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //   const metafunStore = root.metafunStore;\n  //\n  //   // circle -> radius -> number\n  //   const circle = organismStore.put(\"circle\");\n  //   const radius = attributeStore.putEditable(circle, \"radius\");\n  //   const radiusRoot = attributeStore.getRootNode(radius);\n  //   const radiusChild = nodeStore.putChild(\n  //     radiusRoot,\n  //     0,\n  //     nodeStore.addNumber(5)\n  //   );\n  //\n  //   expect(nodeStore.getParent(radiusChild)).to.equal(radiusRoot);\n  //   expect(nodeStore.getChild(radiusRoot, 0)).to.equal(radiusChild);\n  //   expect(nodeStore.nodes.length === 2);\n  //\n  //   // circle -> radius -> variable -> add -> number | number\n  //   const add = nodeStore.addFun(metafunStore.getFromName(\"Add\"));\n  //   nodeStore.putChild(radiusRoot, 0, add);\n  //   expect(() => nodeStore.putChild(radiusRoot, 1, add)).to.throw();\n  //\n  //   expect(nodeStore.getChild(radiusRoot, 0).metaname).to.equal(\"Function\");\n  //   expect(nodeStore.nodes.length).to.equal(4);\n  //\n  //   const add2 = nodeStore.addFun(metafunStore.getFromName(\"Add\"));\n  //   nodeStore.putChild(add, 0, add2);\n  //   radiusRoot.eval();\n  //\n  //   expect(nodeStore.nodes.length).to.equal(6);\n  // });\n  //\n  // it(\"reassign variable\", () => {\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //\n  //   const circle = organismStore.put(\"circle\");\n  //   const radius = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"radius\")\n  //   );\n  //   const x = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"x\")\n  //   );\n  //   const y = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"y\")\n  //   );\n  //\n  //   expect(radius.eval()).to.equal(0);\n  //   expect(x.eval()).to.equal(0);\n  //   expect(y.eval()).to.equal(0);\n  //\n  //   nodeStore.putChild(radius, 0, nodeStore.addNumber(5));\n  //   nodeStore.putChild(x, 0, nodeStore.addNumber(7));\n  //   nodeStore.putChild(y, 0, nodeStore.addNumber(9));\n  //\n  //   expect(radius.eval()).to.equal(5);\n  //   expect(x.eval()).to.equal(7);\n  //   expect(y.eval()).to.equal(9);\n  //\n  //   // x = radius\n  //   nodeStore.putChild(x, 0, nodeStore.addReference(radius));\n  //\n  //   expect(radius.eval()).to.equal(5);\n  //   expect(x.eval()).to.equal(5);\n  //   expect(y.eval()).to.equal(9);\n  //\n  //   // x = y\n  //   nodeStore.putChild(x, 0, nodeStore.addReference(y));\n  //\n  //   expect(radius.eval()).to.equal(5);\n  //   expect(x.eval()).to.equal(9);\n  //   expect(y.eval()).to.equal(9);\n  //\n  //   // y = 2\n  //   nodeStore.putChild(y, 0, nodeStore.addNumber(2));\n  //\n  //   expect(radius.eval()).to.equal(5);\n  //   expect(x.eval()).to.equal(2);\n  //   expect(y.eval()).to.equal(2);\n  //\n  //   // x = 3\n  //   nodeStore.putChild(x, 0, nodeStore.addNumber(3));\n  //\n  //   expect(radius.eval()).to.equal(5);\n  //   expect(x.eval()).to.equal(3);\n  //   expect(y.eval()).to.equal(2);\n  // });\n  //\n  // it(\"computeRenderCommands\", () => {\n  //   return;\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //   const metafunStore = root.metafunStore;\n  //\n  //   const circle = organismStore.spawn();\n  //   const x = attributeStore.getRootNodeFromName(circle, \"x\");\n  //   const clones = attributeStore.getRootNodeFromName(circle, \"clones\");\n  //   const cloneNumber = attributeStore.getRootNodeFromName(\n  //     circle,\n  //     \"cloneNumber\"\n  //   );\n  //\n  //   nodeStore.putChild(clones, 0, nodeStore.addNumber(3));\n  //\n  //   expect(x.eval()).to.equal(0); // addProperty\n  //   expect(cloneNumber.eval()).to.equal(0); // addComputed\n  //   expect(clones.eval()).to.equal(3); // assignVariable\n  //\n  //   const add = nodeStore.putChild(\n  //     x,\n  //     0,\n  //     nodeStore.addFun(metafunStore.getFromName(\"Add\"))\n  //   );\n  //   nodeStore.putChild(add, 0, nodeStore.addReference(cloneNumber));\n  //   nodeStore.putChild(add, 1, nodeStore.addNumber(3));\n  //\n  //   const expected = [{ x: 3 }, { x: 4 }, { x: 5 }];\n  //   const actual = wu(root.computeRenderCommands())\n  //     .map((row) => ({ x: row.x }))\n  //     .toArray();\n  //   expect(actual).to.deep.equal(expected);\n  // });\n  //\n  // it(\"getNodeChoices\", () => {\n  //   return;\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //   const penStore = root.penStore;\n  //   const metafunStore = root.metafunStore;\n  //   metafunStore.metafuns = [\n  //     {\n  //       name: \"Add\",\n  //       paramCount: 2,\n  //       eval: (a, b) => a.eval() + b.eval(),\n  //     },\n  //   ];\n  //\n  //   root.organismCollection.rootOrganism = organismStore.putFromMetaWithoutAttributes(\n  //     \"root\",\n  //     root.metaorganismCollection.getFromName(\"SuperOrganism\")\n  //   );\n  //   const circle = organismStore.addChild(\n  //     organismStore.getRoot(),\n  //     organismStore.putSuperOrganismWithoutAttributes(\"circle\")\n  //   );\n  //   const x = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"x\")\n  //   );\n  //   const y = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"y\")\n  //   );\n  //   const clones = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"clones\")\n  //   );\n  //   const cloneNumber = attributeStore.getRootNode(\n  //     attributeStore.putEmergent(circle, \"cloneNumber\")\n  //   );\n  //\n  //   let expected;\n  //   let actual;\n  //   let suggestions;\n  //\n  //   penStore.setPointedNode(nodeStore.getChild(y, 0));\n  //   penStore.setPointedNode(nodeStore.getChild(x, 0));\n  //\n  //   // --- number ---\n  //\n  //   penStore.setIsQuerying(true);\n  //   penStore.setQuery(\"52\");\n  //   suggestions = penStore.getNodeChoices();\n  //\n  //   expected = [\"52\"];\n  //   actual = suggestions.map((row) => row.text).toArray();\n  //   expect(actual).to.deep.equal(expected);\n  //\n  //   suggestions = penStore.getNodeChoices();\n  //   penStore.commitNodeChoice(suggestions.take(1).toArray()[0]);\n  //   expect(x.eval()).to.equal(52);\n  //\n  //   // --- empty query ---\n  //   // should list all, but skip x\n  //\n  //   penStore.setIsQuerying(true);\n  //   penStore.setQuery(\"\");\n  //   suggestions = penStore.getNodeChoices();\n  //   expected = [\"circle.y\", \"circle.clones\", \"circle.cloneNumber\", \"Add\"];\n  //   actual = suggestions.map((row) => row.text).toArray();\n  //   expect(actual).to.deep.equal(expected);\n  //\n  //   // --- commit function ---\n  //\n  //   suggestions = penStore.getNodeChoices();\n  //   penStore.commitNodeChoice(suggestions.drop(3).toArray()[0]);\n  //   expect(x.eval()).to.equal(0);\n  //\n  //   // --- non empty query ---\n  //\n  //   penStore.setIsQuerying(true);\n  //   penStore.setQuery(\"lon\");\n  //   suggestions = penStore.getNodeChoices();\n  //   expected = [\"circle.clones\", \"circle.cloneNumber\"];\n  //   actual = suggestions.map((row) => row.text).toArray();\n  //   expect(actual).to.deep.equal(expected);\n  //\n  //   // --- commit reference ---\n  //   // --- new pointed node ---\n  //   // --- no more querying ---\n  //\n  //   suggestions = penStore.getNodeChoices();\n  //   const numberNode = nodeStore.putChild(clones, 0, nodeStore.addNumber(3));\n  //   penStore.commitNodeChoice(suggestions.take(1).toArray()[0]);\n  //   expect(x.eval()).to.equal(3);\n  //   // expect(penStore.pointedNode).to.equal(nodeStore.getChild(x, 0));\n  //   expect(penStore.getIsQuerying()).to.equal(false);\n  // });\n  //\n  // it(\"isSubsequence\", () => {\n  //   let actual;\n  //\n  //   actual = Functions.isSubsequence(\"cne\", \"clones\");\n  //   expect(actual).to.equal(true);\n  //\n  //   actual = Functions.isSubsequence(\"cneq\", \"clones\");\n  //   expect(actual).to.equal(false);\n  //\n  //   actual = Functions.isSubsequence(\"clones\", \"clon\");\n  //   expect(actual).to.equal(false);\n  //\n  //   actual = Functions.isSubsequence(\"clones\", \"clones\");\n  //   expect(actual).to.equal(true);\n  //\n  //   actual = Functions.isSubsequence(\"\", \"clones\");\n  //   expect(actual).to.equal(true);\n  //\n  //   actual = Functions.isSubsequence(\"x\", \"\");\n  //   expect(actual).to.equal(false);\n  // });\n  //\n  // it(\"traverseLeft\", () => {\n  //   // return;\n  //   const tree = {\n  //     a: {\n  //       b: {\n  //         c: {},\n  //         d: {},\n  //       },\n  //       e: {\n  //         f: {},\n  //         g: {\n  //           i: {\n  //             j: {},\n  //             k: {},\n  //           },\n  //           l: {},\n  //         },\n  //         h: {},\n  //       },\n  //     },\n  //   };\n  //   const childrenGetter = (node) => {\n  //     const children = Array.from(wu.values(node));\n  //     children.sort();\n  //     return children;\n  //   };\n  //   const parents = new Map();\n  //   const setParents = (node) => {\n  //     const children = childrenGetter(node);\n  //     for (const child of children) {\n  //       parents.set(child, node);\n  //       setParents(child);\n  //     }\n  //   };\n  //   setParents(tree.a);\n  //\n  //   expect(parents.get(tree.a.b)).to.equal(tree.a);\n  //   expect(parents.get(tree.a.e.g.i.j)).to.equal(tree.a.e.g.i);\n  //\n  //   const parentGetter = (node) => parents.get(node);\n  //\n  //   let traverse;\n  //   let actual;\n  //\n  //   traverse = Functions.traverseLeft(tree.a.e.g, parentGetter, childrenGetter);\n  //   actual = traverse.next().value;\n  //   expect(actual).to.equal(tree.a.e.f);\n  //\n  //   traverse = Functions.traverseLeft(\n  //     tree.a.e.g.i.k,\n  //     parentGetter,\n  //     childrenGetter\n  //   );\n  //   actual = traverse.next().value;\n  //   expect(actual).to.equal(tree.a.e.g.i.j);\n  //\n  //   traverse = Functions.traverseLeft(tree.a.b.c, parentGetter, childrenGetter);\n  //   actual = traverse.next().value;\n  //   expect(actual).to.equal(tree.a.b);\n  //\n  //   traverse = Functions.traverseLeft(tree.a, parentGetter, childrenGetter);\n  //   expect(wu.some(() => true, traverse)).to.equal(false);\n  //\n  //   // -- right --\n  //\n  //   traverse = Functions.traverseRight(\n  //     tree.a.e.g,\n  //     parentGetter,\n  //     childrenGetter\n  //   );\n  //   actual = traverse.next().value;\n  //   expect(actual).to.equal(tree.a.e.g.i);\n  //\n  //   traverse = Functions.traverseRight(\n  //     tree.a.e.g.i.k,\n  //     parentGetter,\n  //     childrenGetter\n  //   );\n  //   actual = traverse.next().value;\n  //   expect(actual).to.equal(tree.a.e.g.l);\n  //\n  //   traverse = Functions.traverseRight(tree.a.b, parentGetter, childrenGetter);\n  //   actual = traverse.next().value;\n  //   expect(actual).to.equal(tree.a.b.c);\n  //\n  //   traverse = Functions.traverseRight(\n  //     tree.a.e.h,\n  //     parentGetter,\n  //     childrenGetter\n  //   );\n  //   expect(wu.some(() => true, traverse)).to.equal(false);\n  // });\n  //\n  // it(\"assign number\", () => {\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //   const penStore = root.penStore;\n  //   const metafunStore = root.metafunStore;\n  //\n  //   const circle = organismStore.put(\"circle\");\n  //   const x = attributeStore.putEditable(circle, \"x\");\n  //   const cloneNumber = attributeStore.putEmergent(circle, \"cloneNumber\");\n  //   attributeStore.assignNumber(x, 5);\n  //   attributeStore.assignNumber(cloneNumber, 10);\n  //   expect(attributeStore.getEvaled(x)).to.equal(5);\n  //   expect(attributeStore.getEvaled(cloneNumber)).to.equal(10);\n  // });\n  //\n  // it(\"serialize\", () => {\n  //   // references\n  //   // functions\n  //\n  //   // x = add(2, add(5, 3))\n  //   // y = x\n  //\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //   const penStore = root.penStore;\n  //   const metafunStore = root.metafunStore;\n  //\n  //   const circle = organismStore.putFromMeta(\n  //     \"circle\",\n  //     root.metaorganismCollection.getFromName(\"Circle\")\n  //   );\n  //   const x = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"xx\")\n  //   );\n  //   const y = attributeStore.getRootNode(\n  //     attributeStore.putEditable(circle, \"yy\")\n  //   );\n  //   attributeStore.putEditable(circle, \"yy\");\n  //\n  //   const addNode = nodeStore.addFun(metafunStore.getFromName(\"Add\"));\n  //   const addNode2 = nodeStore.addFun(metafunStore.getFromName(\"Add\"));\n  //   nodeStore.putChild(x, 0, addNode);\n  //   nodeStore.putChild(addNode, 0, nodeStore.addNumber(2));\n  //   nodeStore.putChild(addNode, 1, addNode2);\n  //   nodeStore.putChild(addNode2, 0, nodeStore.addNumber(5));\n  //   nodeStore.putChild(addNode2, 1, nodeStore.addNumber(3));\n  //   nodeStore.putChild(y, 0, nodeStore.addReference(x));\n  //\n  //   expect(x.eval()).to.equal(10);\n  //   expect(y.eval()).to.equal(10);\n  //\n  //   const text = root.getSerialized();\n  //   const store2 = root.deserialize(text);\n  //\n  //   expect(x.eval()).to.equal(10);\n  //   expect(y.eval()).to.equal(10);\n  //\n  //   nodeStore.putChild(x, 0, nodeStore.addNumber(1));\n  //   expect(x.eval()).to.equal(1);\n  // });\n  //\n  // it(\"pluck\", () => {\n  //   let actual;\n  //   let expected;\n  //\n  //   actual = Functions.pluck(\n  //     {\n  //       a: 2,\n  //       b: 3,\n  //       c: 5,\n  //     },\n  //     [\"a\", \"b\"]\n  //   );\n  //   expected = {\n  //     a: 2,\n  //     b: 3,\n  //   };\n  //   expect(actual).to.deep.equal(expected);\n  //\n  //   expect(() => Functions.pluck({}, [\"a\", \"b\"])).to.throw();\n  //\n  //   actual = Functions.pluck(\n  //     {\n  //       a: 2,\n  //       b: 3,\n  //       c: 5,\n  //     },\n  //     []\n  //   );\n  //   expected = {};\n  //   expect(actual).to.deep.equal(expected);\n  //\n  //   actual = Functions.pluck(\n  //     {\n  //       a: 2,\n  //       b: 3,\n  //       c: 5,\n  //     },\n  //     [\"a\", \"b\", \"c\"]\n  //   );\n  //   expected = {\n  //     a: 2,\n  //     b: 3,\n  //     c: 5,\n  //   };\n  //   expect(actual).to.deep.equal(expected);\n  // });\n  //\n  // it(\"getAttributesForOrganism\", () => {\n  //   const root = new Root();\n  //   const attributeStore = root.attributeStore;\n  //   const organismStore = root.organismStore;\n  //   const nodeStore = root.nodeStore;\n  //   const penStore = root.penStore;\n  //   const metafunStore = root.metafunStore;\n  //\n  //   const circle = organismStore.put(\"circle\");\n  //   const x = attributeStore.putEditable(circle, \"x\");\n  //   const y = attributeStore.putEditable(circle, \"y\");\n  //   const cloneNumber = attributeStore.putEmergent(circle, \"cloneNumber\");\n  //\n  //   const actual = Array.from(attributeStore.getAttributesForOrganism(circle));\n  //   const expected = [x, y, cloneNumber];\n  //   expect(actual).to.deep.equal(expected);\n  // });\n  //\n  // it(\"organs\", () => {\n  //   return;\n  //   const root = new Root();\n  //   const attributeCollection = root.attributeCollection;\n  //   const organismCollection = root.organismCollection;\n  //   let final = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr gravity\": { \"0 Number\": 0 },\n  //       \"editattr clones\": { \"0 Number\": 0 },\n  //       \"emerattr cloneNumber\": { \"0 Number\": 0 },\n  //       \"SuperOrganism tree\": {\n  //         \"editattr growth\": { \"0 Number\": 0 },\n  //       },\n  //       \"SuperOrganism orbit\": {\n  //         \"editattr orbitSize\": { \"0 Number\": 0 },\n  //         \"SuperOrganism moon\": {\n  //           \"editattr luminosity\": { \"0 Number\": 0 },\n  //         },\n  //         \"SuperOrganism earth\": {\n  //           \"editattr life\": { \"0 Number\": 0 },\n  //         },\n  //       },\n  //     },\n  //   };\n  //\n  //   let start = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr gravity\": { \"0 Number\": 0 },\n  //       \"editattr clones\": { \"0 Number\": 0 },\n  //       \"emerattr cloneNumber\": { \"0 Number\": 0 },\n  //       \"SuperOrganism tree\": {\n  //         \"editattr growth\": { \"0 Number\": 0 },\n  //       },\n  //       \"SuperOrganism orbit\": {\n  //         \"editattr orbitSize\": { \"0 Number\": 0 },\n  //         \"SuperOrganism moon\": {\n  //           \"editattr luminosity\": { \"0 Number\": 0 },\n  //         },\n  //       },\n  //     },\n  //   };\n  //\n  //   // expect(new Root().fromTree(final).toTree()).to.deep.equal(final);\n  //\n  //   // --- add organ ---\n  //\n  //   let actualRoot = new Root().fromTree(start);\n  //\n  //   let metaorganism = actualRoot.metaorganismCollection.getFromName(\n  //     \"SuperOrganism\"\n  //   );\n  //   let earth = actualRoot.organismCollection.putFromMetaWithoutAttributes(\n  //     \"earth\",\n  //     metaorganism\n  //   );\n  //   let orbit = actualRoot.organismCollection.getOrganismFromPath(\"orbit\");\n  //   actualRoot.organismCollection.addChild(orbit, earth);\n  //   actualRoot.attributeCollection.putEditable(earth, \"life\");\n  //   expect(actualRoot.toTree()).to.deep.equal(final);\n  //   expect(actualRoot.organismCollection.organisms.length).to.equal(5);\n  //   expect(actualRoot.organismCollection.organs.length).to.equal(4);\n  //   expect(actualRoot.attributeCollection.attributes.length).to.equal(7);\n  //   expect(actualRoot.attributeCollection.attributeParents.length).to.equal(7);\n  //   expect(actualRoot.attributeCollection.rootNodes.length).to.equal(7);\n  //   expect(actualRoot.nodeStore.nodes.length).to.equal(14);\n  //   expect(actualRoot.nodeStore.nodeParents.length).to.equal(7);\n  //\n  //   // --- remove organ ---\n  //\n  //   actualRoot.organismCollection.remove(earth);\n  //   expect(actualRoot.toTree()).to.deep.equal(start);\n  //   expect(actualRoot.organismCollection.organisms.length).to.equal(4);\n  //   expect(actualRoot.organismCollection.organs.length).to.equal(3);\n  //   expect(actualRoot.attributeCollection.attributes.length).to.equal(6);\n  //   expect(actualRoot.attributeCollection.attributeParents.length).to.equal(6);\n  //   expect(actualRoot.attributeCollection.rootNodes.length).to.equal(6);\n  //   expect(actualRoot.nodeStore.nodes.length).to.equal(12);\n  //   expect(actualRoot.nodeStore.nodeParents.length).to.equal(6);\n  //\n  //   // --- remove non leaf organ ---\n  //\n  //   let expected = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr gravity\": { \"0 Number\": 0 },\n  //       \"editattr clones\": { \"0 Number\": 0 },\n  //       \"emerattr cloneNumber\": { \"0 Number\": 0 },\n  //       \"SuperOrganism tree\": {\n  //         \"editattr growth\": { \"0 Number\": 0 },\n  //       },\n  //     },\n  //   };\n  //\n  //   actualRoot = new Root().fromTree(final);\n  //   orbit = actualRoot.organismCollection.getOrganismFromPath(\"orbit\");\n  //   let orbitRoot = actualRoot.nodeStore.getFromPath([\"orbit\"], \"orbitSize\");\n  //   let add1 = actualRoot.nodeStore.putChild(\n  //     orbitRoot,\n  //     0,\n  //     actualRoot.nodeStore.addFun(actualRoot.metafunStore.getFromName(\"Add\"))\n  //   );\n  //   let add2 = actualRoot.nodeStore.putChild(\n  //     add1,\n  //     0,\n  //     actualRoot.nodeStore.addFun(actualRoot.metafunStore.getFromName(\"Add\"))\n  //   );\n  //\n  //   expect(actualRoot.nodeStore.nodes.length).to.equal(18);\n  //   expect(actualRoot.nodeStore.nodeParents.length).to.equal(11);\n  //\n  //   actualRoot.organismCollection.remove(orbit);\n  //\n  //   expect(actualRoot.toTree()).to.deep.equal(expected);\n  //   expect(actualRoot.organismCollection.organisms.length).to.equal(2);\n  //   expect(actualRoot.organismCollection.organs.length).to.equal(1);\n  //   expect(actualRoot.attributeCollection.attributes.length).to.equal(4);\n  //   expect(actualRoot.attributeCollection.attributeParents.length).to.equal(4);\n  //   expect(actualRoot.attributeCollection.rootNodes.length).to.equal(4);\n  //   expect(actualRoot.nodeStore.nodes.length).to.equal(8);\n  //   expect(actualRoot.nodeStore.nodeParents.length).to.equal(4);\n  // });\n  //\n  // it(\"pen organs\", () => {\n  //   let final = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr gravity\": { \"0 Number\": 0 },\n  //       \"editattr clones\": { \"0 Number\": 0 },\n  //       \"emerattr cloneNumber\": { \"0 Number\": 0 },\n  //       \"SuperOrganism tree\": {\n  //         \"editattr growth\": { \"0 Number\": 0 },\n  //         \"editattr har\": { \"0 Number\": 0 },\n  //       },\n  //       \"SuperOrganism orbit\": {\n  //         \"editattr orbitSize\": { \"0 Number\": 0 },\n  //         \"SuperOrganism moon\": {\n  //           \"editattr luminosity\": { \"0 Number\": 0 },\n  //         },\n  //         \"SuperOrganism earth\": {\n  //           \"editattr life\": { \"0 Number\": 0 },\n  //         },\n  //       },\n  //     },\n  //   };\n  //   const root = new Root().fromTree(final);\n  //   const attributeCollection = root.attributeCollection;\n  //   const organismCollection = root.organismCollection;\n  //   const nodeCollection = root.nodeStore;\n  //   const pen = root.penStore;\n  //   root.metafunStore.metafuns = [];\n  //\n  //   pen.setPointedNode(\n  //     nodeCollection.getFromPath([\"orbit\", \"earth\"], \"life\", [0])\n  //   );\n  //   pen.setIsQuerying(true);\n  //   pen.setQuery(\"\");\n  //   let suggestions = pen.getNodeChoices();\n  //   let actual = wu(suggestions)\n  //     .pluck(\"text\")\n  //     .toArray();\n  //   let expected = [\n  //     \"orbit.orbitSize\",\n  //     \"root.gravity\",\n  //     \"root.clones\",\n  //     \"root.cloneNumber\",\n  //   ];\n  //   expect(actual).to.deep.equal(expected);\n  //\n  //   // --- don't get the orbit ones, still get my ones ---\n  //\n  //   pen.setPointedNode(nodeCollection.getFromPath([\"tree\"], \"growth\", [0]));\n  //   pen.setIsQuerying(true);\n  //   pen.setQuery(\"\");\n  //   suggestions = pen.getNodeChoices();\n  //   actual = wu(suggestions)\n  //     .pluck(\"text\")\n  //     .toArray();\n  //   expected = [\"tree.har\", \"root.gravity\", \"root.clones\", \"root.cloneNumber\"];\n  //   expect(actual).to.deep.equal(expected);\n  // });\n  //\n  // it(\"organs compute\", () => {\n  //   return;\n  //   let final = {\n  //     \"SuperOrganism root\": {\n  //       \"SuperOrganism grid1\": {\n  //         \"editattr clones\": { \"0 Number\": 0 },\n  //         \"editattr gridx\": { \"0 Number\": 0 },\n  //         \"emerattr cloneNumber\": { \"0 Number\": 0 },\n  //         \"SuperOrganism grid2\": {\n  //           \"editattr clones\": { \"0 Number\": 0 },\n  //           \"editattr gridy\": { \"0 Number\": 0 },\n  //           \"emerattr cloneNumber\": { \"0 Number\": 0 },\n  //           \"Rectangle square\": {\n  //             \"editattr x\": { \"0 Number\": 0 },\n  //             \"editattr y\": { \"0 Number\": 0 },\n  //           },\n  //         },\n  //       },\n  //     },\n  //   };\n  //\n  //   const root = new Root().fromTree(final);\n  //   const attributeCollection = root.attributeCollection;\n  //   const organismCollection = root.organismCollection;\n  //   const nodeCollection = root.nodeStore;\n  //\n  //   organismCollection.initRootOrganism();\n  //   const x = nodeCollection.getFromPath([\"grid1\", \"grid2\", \"square\"], \"x\");\n  //   const y = nodeCollection.getFromPath([\"grid1\", \"grid2\", \"square\"], \"y\");\n  //   const gridx = nodeCollection.getFromPath([\"grid1\"], \"gridx\");\n  //   const gridy = nodeCollection.getFromPath([\"grid1\", \"grid2\"], \"gridy\");\n  //   const grid1clones = nodeCollection.getFromPath([\"grid1\"], \"clones\");\n  //   const grid2clones = nodeCollection.getFromPath(\n  //     [\"grid1\", \"grid2\"],\n  //     \"clones\"\n  //   );\n  //   nodeCollection.putChild(x, 0, nodeCollection.addReference(gridx));\n  //   nodeCollection.putChild(y, 0, nodeCollection.addReference(gridy));\n  //   nodeCollection.putChild(grid1clones, 0, nodeCollection.addNumber(3));\n  //   nodeCollection.putChild(grid2clones, 0, nodeCollection.addNumber(3));\n  //   const actual = wu(root.computeRenderCommands()).toArray();\n  //   const expected = [\n  //     { shape: RenderShape.Rectangle, x: -1, y: -1 },\n  //     { shape: RenderShape.Rectangle, x: -1, y: 0 },\n  //     { shape: RenderShape.Rectangle, x: -1, y: 1 },\n  //     { shape: RenderShape.Rectangle, x: 0, y: -1 },\n  //     { shape: RenderShape.Rectangle, x: 0, y: 0 },\n  //     { shape: RenderShape.Rectangle, x: 0, y: 1 },\n  //     { shape: RenderShape.Rectangle, x: 1, y: -1 },\n  //     { shape: RenderShape.Rectangle, x: 1, y: 0 },\n  //     { shape: RenderShape.Rectangle, x: 1, y: 1 },\n  //   ];\n  //\n  //   expect(actual.length).to.equal(expected.length);\n  //   for (const at of actual) {\n  //     expect(expected).to.deep.include(at);\n  //   }\n  // });\n  //\n  // it(\"insert node, from tree\", () => {\n  //   let tree = {\n  //     \"0 Function Add\": {\n  //       \"0 Number\": 3,\n  //       \"1 Function Multiply\": {\n  //         \"0 Number\": 5,\n  //         \"1 Number\": 2,\n  //       },\n  //     },\n  //   };\n  //\n  //   const root = new Root();\n  //   const nodeCollection = root.nodeStore;\n  //\n  //   {\n  //     const rootNode = nodeCollection.fromTree(tree);\n  //     expect(rootNode.eval()).to.equal(13);\n  //     const multiplyNode = nodeCollection.getChild(rootNode, 1);\n  //     const insertNode = nodeCollection.addFun(\n  //       root.metafunStore.getFromName(\"Divide\")\n  //     );\n  //     nodeCollection.insertNodeAsParent(multiplyNode, insertNode);\n  //\n  //     let expected = {\n  //       \"0 Function Add\": {\n  //         \"0 Number\": 3,\n  //         \"1 Function Divide\": {\n  //           \"0 Function Multiply\": {\n  //             \"0 Number\": 5,\n  //             \"1 Number\": 2,\n  //           },\n  //           \"1 Number\": 0,\n  //         },\n  //       },\n  //     };\n  //\n  //     expect(nodeCollection.toTree2(rootNode)).to.deep.equal(expected);\n  //   }\n  // });\n  //\n  // // it(\"ghost edits\", () => {\n  // //   let tree = {\n  // //     \"SuperOrganism root\": {\n  // //       \"editattr gravity\": {\n  // //         \"0 Function Add\": {\n  // //           \"0 Number\": 3,\n  // //           \"1 Function Multiply\": {\n  // //             \"0 Number\": 5,\n  // //             \"1 Number\": 2,\n  // //           },\n  // //         },\n  // //       },\n  // //     },\n  // //   };\n  //\n  // //   const root = new Root().fromTree(tree);\n  // //   const pen = root.pen;\n  // //   const nodeCollection = root.nodeCollection;\n  // //   expect(root.toTree()).to.deep.equal(tree);\n  //\n  // //   {\n  // //     const rootNode = nodeCollection.getFromPath([], \"gravity\", []);\n  // //     const addNode = nodeCollection.getFromPath([], \"gravity\", [0]);\n  // //     pen.setPenPosition({\n  // //       positionType: \"Node\",\n  // //       referenceNodeId: addNode.id,\n  // //       relation: PenPositionRelation.Before,\n  // //     });\n  // //     pen.setQuery(\"Lerp\");\n  // //     pen.setIsQuerying(true);\n  // //     const ghostEdit = pen.getNodeChoices().next().value;\n  // //     pen.commitNodeChoice(ghostEdit);\n  //\n  // //     const expected = {\n  // //       \"0 Variable\": {\n  // //         \"0 Function Lerp\": {\n  // //           \"0 Function Add\": {\n  // //             \"0 Number\": 3,\n  // //             \"1 Function Multiply\": {\n  // //               \"0 Number\": 5,\n  // //               \"1 Number\": 2,\n  // //             },\n  // //           },\n  // //           \"1 Number\": 0,\n  // //           \"2 Number\": 0,\n  // //         },\n  // //       },\n  // //     };\n  // //     expect(nodeCollection.toTree2(rootNode)).to.deep.equal(expected);\n  // //   }\n  //\n  // //   {\n  // //     root.fromTree(tree);\n  // //     const rootNode = nodeCollection.getFromPath([], \"gravity\", []);\n  // //     const addNode = nodeCollection.getFromPath([], \"gravity\", [0]);\n  // //     pen.setPenPosition({\n  // //       positionType: \"Node\",\n  // //       referenceNodeId: addNode.id,\n  // //       relation: PenPositionRelation.On,\n  // //     });\n  // //     pen.setQuery(\"Lerp\");\n  // //     pen.setIsQuerying(true);\n  // //     const ghostEdit = pen.getNodeChoices().next().value;\n  // //     pen.commitNodeChoice(ghostEdit);\n  //\n  // //     const expected = {\n  // //       \"0 Variable\": {\n  // //         \"0 Function Lerp\": {\n  // //           \"0 Number\": 3,\n  // //           \"1 Function Multiply\": {\n  // //             \"0 Number\": 5,\n  // //             \"1 Number\": 2,\n  // //           },\n  // //           \"2 Number\": 0,\n  // //         },\n  // //       },\n  // //     };\n  // //     expect(nodeCollection.toTree2(rootNode)).to.deep.equal(expected);\n  // //   }\n  // // });\n  //\n  // it(\"simple integration\", () => {\n  //   const root = new Root();\n  //   root.organismCollection.initRootOrganism();\n  //   const attribute = root.attributeCollection.putEditable(\n  //     root.organismCollection.rootOrganism,\n  //     \"x\"\n  //   );\n  //   root.attributeCollection.getRootNode(attribute);\n  // });\n  //\n  // it(\"node drop/add argument\", () => {\n  //   return;\n  //   let tree = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr gravity\": {\n  //         \"0 Function Lerp\": {\n  //           \"0 Number\": 5,\n  //           \"1 Number\": 2,\n  //           \"2 Number\": 3,\n  //         },\n  //       },\n  //     },\n  //   };\n  //\n  //   const root = new Root().fromTree(tree);\n  //   const pen = root.pen;\n  //   const nodeCollection = root.nodeCollection;\n  //   const lerpNode = nodeCollection.getFromPath([], \"gravity\", [0]);\n  //   const node0 = nodeCollection.getFromPath([], \"gravity\", [0, 0]);\n  //   const node1 = nodeCollection.getFromPath([], \"gravity\", [0, 1]);\n  //   const node2 = nodeCollection.getFromPath([], \"gravity\", [0, 2]);\n  //   // expect(root.toTree()).to.deep.equal(tree);\n  //   expect(node2.eval()).to.equal(3);\n  //\n  //   {\n  //     pen.setPointedNode(lerpNode);\n  //     pen.setIsQuerying(true);\n  //     pen.setQuery(\"Add\");\n  //     const edit = pen.getNodeChoices().next().value;\n  //     expect(edit).to.not.equal(undefined);\n  //     pen.commitNodeChoice(edit);\n  //\n  //     const expected = {\n  //       \"SuperOrganism root\": {\n  //         \"editattr gravity\": {\n  //           \"0 Function Add\": {\n  //             \"0 Number\": 5,\n  //             \"1 Number\": 2,\n  //           },\n  //         },\n  //       },\n  //     };\n  //     // expect(root.toTree()).to.deep.equal(expected);\n  //     expect(nodeCollection.nodes.getUnique(\"id\", node2.id, false)).to.equal(\n  //       undefined\n  //     );\n  //   }\n  //\n  //   {\n  //     pen.setPointedNode(nodeCollection.getFromPath([], \"gravity\", [0]));\n  //     const expected = {\n  //       \"SuperOrganism root\": {\n  //         \"editattr gravity\": {\n  //           \"0 Number\": 3,\n  //         },\n  //       },\n  //     };\n  //     pen.setIsQuerying(true);\n  //     pen.setQuery(\"3\");\n  //     const edit = pen.getNodeChoices().next().value;\n  //     pen.commitNodeChoice(edit);\n  //\n  //     // expect(root.toTree()).to.deep.equal(expected);\n  //     expect(nodeCollection.nodes.getUnique(\"id\", node1.id, false)).to.equal(\n  //       undefined\n  //     );\n  //     expect(nodeCollection.nodes.getUnique(\"id\", node0.id, false)).to.equal(\n  //       undefined\n  //     );\n  //   }\n  // });\n  //\n  // it(\"vector\", () => {\n  //   const root = new Root();\n  //   const pen = root.pen;\n  //   const nodeCollection = root.nodeCollection;\n  //   const organismCollection = root.organismCollection;\n  //   const attributeCollection = root.attributeCollection;\n  //   const circle = organismCollection.putFromMetaname(\"circle\", \"Circle\");\n  //   attributeCollection.remove(\n  //     attributeCollection.getAttributeFromName(circle, \"radius\")\n  //   );\n  //   attributeCollection.remove(\n  //     attributeCollection.getAttributeFromName(circle, \"clones\")\n  //   );\n  //   attributeCollection.remove(\n  //     attributeCollection.getAttributeFromName(circle, \"cloneNumber\")\n  //   );\n  //   // attributeCollection.remove(attributeCollection.getAttributeFromName(circle, 'time01'));\n  //   organismCollection.rootOrganism = circle;\n  //   // organismCollection.addChild(organismCollection.getRoot(), circle);\n  //\n  //   const commands = Array.from(root.computeRenderCommands());\n  //   expect(commands[0].x).to.equal(0);\n  //   expect(commands[0].y).to.equal(0);\n  // });\n  //\n  // it(\"vector2\", () => {\n  //   const tree = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr xy Vector\": {},\n  //       \"editattr radius Number\": {},\n  //     },\n  //   };\n  //   const root = new Root().fromTree(tree);\n  //   const pen = root.pen;\n  //   const nodeCollection = root.nodeCollection;\n  //   const organismCollection = root.organismCollection;\n  //   const attributeCollection = root.attributeCollection;\n  //   expect(nodeCollection.getFromPath([], \"xy\", []).eval().x).to.equal(0);\n  //\n  //   pen.setPointedNode(nodeCollection.getFromPath([], \"xy\", [0]));\n  //   pen.setIsQuerying(true);\n  //   pen.setQuery(\"radius\");\n  //   expect(pen.getNodeChoices().next().done).to.equal(true);\n  //\n  //   // --------------------------------------------------------\n  //\n  //   pen.setQuery(\"Add\");\n  //   pen.commitFirstNodeChoice();\n  //   const ex = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr xy Vector\": {\n  //         \"0 Function Add\": {\n  //           \"0 Vector\": {\n  //             \"0 Number\": 0,\n  //             \"1 Number\": 0,\n  //           },\n  //           \"1 Vector\": {\n  //             \"0 Number\": 0,\n  //             \"1 Number\": 0,\n  //           },\n  //         },\n  //       },\n  //       \"editattr radius Number\": {\n  //         \"0 Number\": 0,\n  //       },\n  //     },\n  //   };\n  //\n  //   expect(root.toTree()).to.deep.equal(ex);\n  //\n  //   // --------------------------------------------------------\n  // });\n  //\n  // it(\"code mirror\", () => {\n  //   let tree = {\n  //     \"SuperOrganism root\": {\n  //       \"editattr gravity\": {\n  //         \"0 Function Add\": {\n  //           \"0 Number\": 3,\n  //           \"1 Function Multiply\": {\n  //             \"0 Number\": 52,\n  //             \"1 Number\": 2,\n  //           },\n  //         },\n  //       },\n  //     },\n  //   };\n  //\n  //   const root = new Root().fromTree(tree);\n  //   const pen = root.pen;\n  //   const nodeCollection = root.nodeCollection;\n  //   // expect(root.toTree()).to.deep.equal(tree);\n  //\n  //   const organism = root.organismCollection.getRoot();\n  //   const attribute = root.attributeCollection.getAttributeFromName(\n  //     organism,\n  //     \"gravity\"\n  //   );\n  //\n  //   expect(pen.getTextForAttribute(attribute)).to.equal(\"Add(3,Multiply(52,2))\");\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 0, endIndex: 0 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 0, endIndex: 0 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 1, endIndex: 1 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 0, endIndex: 3 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 2, endIndex: 2 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 0, endIndex: 3 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 2, endIndex: 2 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 0, endIndex: 3 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 3, endIndex: 3 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 4, endIndex: 4 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 4, endIndex: 4 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 4, endIndex: 4 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 5, endIndex: 5 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 4, endIndex: 5 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 5, endIndex: 5 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 6, endIndex: 6 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 6, endIndex: 6 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 6, endIndex: 6 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 7, endIndex: 7 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 6, endIndex: 14 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 14, endIndex: 14 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 15, endIndex: 15 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 16, endIndex: 16 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 15, endIndex: 17 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 19, endIndex: 19 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 18, endIndex: 19 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 20, endIndex: 20 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 18, endIndex: 19 });\n  //\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 21, endIndex: 21 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 18, endIndex: 19 });\n  //\n  //   // add(3,multiply(52,2))\n  //\n  //   pen.setSelection(null);\n  //   expect(pen.getSelection()).to.deep.equal(null);\n  //\n  //   // test move left\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 4, endIndex: 4 });\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 3, endIndex: 3 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 0, endIndex: 3 });\n  //\n  //   // test select paren from no selection\n  //   pen.setSelection(null);\n  //   pen.setSelection({ attributeId: attribute.id, startIndex: 3, endIndex: 3 });\n  //   expect(pen.getSelection()).to.deep.equal({ attributeId: attribute.id, startIndex: 4, endIndex: 4 });\n  // });\n});\n"],"mappings":"AAAA,OAAO,KAAKA,IAAI,MAAM,MAAM;AAI5B,SAASC,QAAQ,EAAMC,cAAc,QAAQ,cAAc;AAC3D,OAAO,KAAKC,UAAU,MAAM,cAAc;AAI1C;AAEA,SAASC,aAAaA,CAACC,KAAK;EAC1B,MAAMC,WAAW,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAIN,cAAc,EAAE,EAAE;IACtDO,OAAO,EAAEJ,KAAK,CAACI,OAAO;IACtBC,MAAM,EAAEL,KAAK,CAACK,MAAM;IACpBC,QAAQ,EAAEN,KAAK,CAACM;GACjB,CAAC;EACFC,OAAO,CAACP,KAAK,CAACC,WAAW,CAAC;EAC1B,MAAMA,WAAW;AACnB;AAEA,SAASO,MAAMA,CAACH,MAAM;EACpB,OAAO;IACLI,EAAE,EAAE;MACFC,KAAK,EAAE,SAAAA,CAASJ,QAAQ;QACtB,IAAI;UACFX,IAAI,CAACgB,MAAM,CAACC,WAAW,CAACP,MAAM,EAAEC,QAAQ,CAAC;SAC1C,CAAC,OAAON,KAAK,EAAE;UACdD,aAAa,CAACC,KAAK,CAAC;;MAExB,CAAC;MACDa,IAAI,EAAE;QACJH,KAAK,EAAE,SAAAA,CAASJ,QAAQ;UACtB,IAAI;YACFX,IAAI,CAACgB,MAAM,CAACG,eAAe,CAACT,MAAM,EAAEC,QAAQ,CAAC;WAC9C,CAAC,OAAON,KAAK,EAAE;YACdD,aAAa,CAACC,KAAK,CAAC;;QAExB,CAAC;QACDe,OAAO,EAAE,SAAAA,CAAST,QAAQ;UACxB,IAAI;YACFX,IAAI,CAACgB,MAAM,CAACK,cAAc,CAACX,MAAM,EAAEC,QAAQ,CAAC;WAC7C,CAAC,OAAON,KAAK,EAAE;YACdD,aAAa,CAACC,KAAK,CAAC;;QAExB;OACD;MACDiB,KAAK,EAAE,SAAAA,CAAA;QACL,IAAI;UACFtB,IAAI,CAACgB,MAAM,CAACO,MAAM,CAACb,MAAM,CAAC;SAC3B,CAAC,OAAOL,KAAK,EAAE;UACdD,aAAa,CAACC,KAAK,CAAC;;MAExB,CAAC;MACDmB,GAAG,EAAE;QACHT,KAAK,EAAE,SAAAA,CAASJ,QAAQ;UACtB,IAAI;YACFX,IAAI,CAACgB,MAAM,CAACS,cAAc,CAACf,MAAM,EAAEC,QAAQ,CAAC;WAC7C,CAAC,OAAON,KAAK,EAAE;YACdD,aAAa,CAACC,KAAK,CAAC;;QAExB;;;GAGL;AACH;AAEAF,UAAU,CAACuB,UAAU,EAAE;AAEvBzB,QAAQ,CAAC,gBAAgB,EAAE,MAAK;EAC9B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAAA,CACD,CAAC","ignoreList":[]}]}