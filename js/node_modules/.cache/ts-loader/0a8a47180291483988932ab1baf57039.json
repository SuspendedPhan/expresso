{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js??ref--14-2!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WasmAttribute.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WasmAttribute.vue","mtime":1714946187072},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js","mtime":1714947267504},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFdhc21BdHRyaWJ1dGVfMTsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IENvbXBvbmVudCBmcm9tICJ2dWUtY2xhc3MtY29tcG9uZW50IjsKaW1wb3J0IHsgUHJvcCwgUHJvdmlkZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBXYXNtTm9kZSBmcm9tICJAL2NvbXBvbmVudHMvV2FzbU5vZGUudnVlIjsKaW1wb3J0IHsgRWxlbWVudExheW91dCB9IGZyb20gIkAvY29kZS9FbGVtZW50TGF5b3V0IjsKaW1wb3J0IFRyZWVMYXlvdXQgZnJvbSAiQC9jb21wb25lbnRzL1RyZWVMYXlvdXQudnVlIjsKaW1wb3J0IFN0b3JlIGZyb20gIkAvbW9kZWxzL1N0b3JlIjsKbGV0IFdhc21BdHRyaWJ1dGUgPSBXYXNtQXR0cmlidXRlXzEgPSBjbGFzcyBXYXNtQXR0cmlidXRlIGV4dGVuZHMgVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLm5vZGVMYXlvdXQgPSBuZXcgRWxlbWVudExheW91dCgoKSA9PiB0aGlzLmdldFJvb3ROb2RlKCksIG5vZGUgPT4gU3RvcmUuZ2V0Q2hpbGRyZW4obm9kZSksIFdhc21BdHRyaWJ1dGVfMS5nZXRLZXksIGhvcml6b250YWxNYXJnaW4sIHZlcnRpY2FsTWFyZ2luKTsKICAgIHRoaXMubmFtZSA9IG51bGw7CiAgICB0aGlzLnJvb3ROb2RlID0gbnVsbDsKICAgIHRoaXMucm9vdE5vZGVJZCA9IG51bGw7CiAgfQogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICB0aGlzLm5hbWUgPSB0aGlzLmF0dHJpYnV0ZS5nZXROYW1lKCk7CiAgICBpZiAodGhpcy5hdHRyaWJ1dGUuY29uc3RydWN0b3IubmFtZSA9PT0gJ0VkaXRhYmxlQXR0cmlidXRlJykgewogICAgICB0aGlzLnJvb3ROb2RlID0gdGhpcy5hdHRyaWJ1dGUuZ2V0Um9vdE5vZGUoKTsKICAgICAgd2luZG93Lndhc21Nb2R1bGUuRW1iaW5kVXRpbC5zZXRTaWduYWxMaXN0ZW5lcih0aGlzLmF0dHJpYnV0ZS5nZXRPbkNoYW5nZWRTaWduYWwoKSwgKCkgPT4gdGhpcy5vblJvb3ROb2RlQ2hhbmdlZCgpKTsKICAgIH0KICB9CiAgZ2V0Um9vdE5vZGUoKSB7CiAgICByZXR1cm4gdGhpcy5yb290Tm9kZTsKICB9CiAgb25Sb290Tm9kZUNoYW5nZWQoKSB7CiAgICBjb25zdCByb290Tm9kZSA9IHRoaXMuYXR0cmlidXRlLmdldFJvb3ROb2RlKCk7CiAgICB0aGlzLnJvb3ROb2RlID0gcm9vdE5vZGU7CiAgICB0aGlzLnJvb3ROb2RlSWQgPSByb290Tm9kZS5nZXRJZCgpOwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLm5vZGVMYXlvdXQucmVjYWxjdWxhdGUoKTsKICAgIH0pOwogIH0KICBzdGF0aWMgZ2V0S2V5KG5vZGUpIHsKICAgIHJldHVybiBub2RlLmdldElkKCk7CiAgfQp9OwpfX2RlY29yYXRlKFtQcm9wKCldLCBXYXNtQXR0cmlidXRlLnByb3RvdHlwZSwgImF0dHJpYnV0ZSIsIHZvaWQgMCk7Cl9fZGVjb3JhdGUoW1Byb3ZpZGUoKV0sIFdhc21BdHRyaWJ1dGUucHJvdG90eXBlLCAibm9kZUxheW91dCIsIHZvaWQgMCk7Cldhc21BdHRyaWJ1dGUgPSBXYXNtQXR0cmlidXRlXzEgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFRyZWVMYXlvdXQsCiAgICBXYXNtTm9kZQogIH0KfSldLCBXYXNtQXR0cmlidXRlKTsKZXhwb3J0IGRlZmF1bHQgV2FzbUF0dHJpYnV0ZTs="},{"version":3,"names":["Component","Prop","Provide","Vue","WasmNode","ElementLayout","TreeLayout","Store","WasmAttribute","WasmAttribute_1","constructor","nodeLayout","getRootNode","node","getChildren","getKey","horizontalMargin","verticalMargin","name","rootNode","rootNodeId","mounted","attribute","getName","window","wasmModule","EmbindUtil","setSignalListener","getOnChangedSignal","onRootNodeChanged","getId","$nextTick","recalculate","__decorate","components"],"sources":["/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WasmAttribute.vue?vue&type=script&lang=ts"],"sourcesContent":["\n\nimport Component from \"vue-class-component\";\nimport {Prop, Provide, Watch} from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport WasmNode from \"@/components/WasmNode.vue\";\nimport {ElementLayout} from \"@/code/ElementLayout\";\nimport TreeLayout from \"@/components/TreeLayout.vue\";\nimport Store from \"@/models/Store\";\n\n@Component({\n  components: {TreeLayout, WasmNode}\n})\nexport default class WasmAttribute extends Vue {\n  @Prop() attribute;\n\n  @Provide() nodeLayout = new ElementLayout(() => this.getRootNode(), node => Store.getChildren(node), WasmAttribute.getKey, horizontalMargin, verticalMargin);\n\n  name = null;\n  rootNode = null;\n  rootNodeId = null;\n\n  async mounted() {\n    this.name = this.attribute.getName();\n    if (this.attribute.constructor.name === 'EditableAttribute') {\n      this.rootNode = this.attribute.getRootNode();\n      (window as any).wasmModule.EmbindUtil.setSignalListener(this.attribute.getOnChangedSignal(), () => this.onRootNodeChanged());\n    }\n  }\n\n  private getRootNode() {\n    return this.rootNode;\n  }\n\n  private onRootNodeChanged() {\n    const rootNode = this.attribute.getRootNode();\n    this.rootNode = rootNode;\n    this.rootNodeId = rootNode.getId();\n    this.$nextTick(() => {\n      this.nodeLayout.recalculate();\n    });\n  }\n\n  static getKey(node) {\n    return node.getId();\n  }\n}\n\n"],"mappings":";;AAEA,OAAOA,SAAS,MAAM,qBAAqB;AAC3C,SAAQC,IAAI,EAAEC,OAAO,QAAc,wBAAwB;AAC3D,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,SAAQC,aAAa,QAAO,sBAAsB;AAClD,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,KAAK,MAAM,gBAAgB;AAKlC,IAAqBC,aAAa,GAAAC,eAAA,GAAlC,MAAqBD,aAAc,SAAQL,GAAG;EAA9CO,YAAA;;IAGa,KAAAC,UAAU,GAAG,IAAIN,aAAa,CAAC,MAAM,IAAI,CAACO,WAAW,EAAE,EAAEC,IAAI,IAAIN,KAAK,CAACO,WAAW,CAACD,IAAI,CAAC,EAAEJ,eAAa,CAACM,MAAM,EAAEC,gBAAgB,EAAEC,cAAc,CAAC;IAE5J,KAAAC,IAAI,GAAG,IAAI;IACX,KAAAC,QAAQ,GAAG,IAAI;IACf,KAAAC,UAAU,GAAG,IAAI;EA0BnB;EAxBE,MAAMC,OAAOA,CAAA;IACX,IAAI,CAACH,IAAI,GAAG,IAAI,CAACI,SAAS,CAACC,OAAO,EAAE;IACpC,IAAI,IAAI,CAACD,SAAS,CAACZ,WAAW,CAACQ,IAAI,KAAK,mBAAmB,EAAE;MAC3D,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACG,SAAS,CAACV,WAAW,EAAE;MAC3CY,MAAc,CAACC,UAAU,CAACC,UAAU,CAACC,iBAAiB,CAAC,IAAI,CAACL,SAAS,CAACM,kBAAkB,EAAE,EAAE,MAAM,IAAI,CAACC,iBAAiB,EAAE,CAAC;;EAEhI;EAEQjB,WAAWA,CAAA;IACjB,OAAO,IAAI,CAACO,QAAQ;EACtB;EAEQU,iBAAiBA,CAAA;IACvB,MAAMV,QAAQ,GAAG,IAAI,CAACG,SAAS,CAACV,WAAW,EAAE;IAC7C,IAAI,CAACO,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,UAAU,GAAGD,QAAQ,CAACW,KAAK,EAAE;IAClC,IAAI,CAACC,SAAS,CAAC,MAAK;MAClB,IAAI,CAACpB,UAAU,CAACqB,WAAW,EAAE;IAC/B,CAAC,CAAC;EACJ;EAEA,OAAOjB,MAAMA,CAACF,IAAI;IAChB,OAAOA,IAAI,CAACiB,KAAK,EAAE;EACrB;CACD;AAhCSG,UAAA,EAAPhC,IAAI,EAAE,C,+CAAW;AAEPgC,UAAA,EAAV/B,OAAO,EAAE,C,gDAAmJ;AAH1IM,aAAa,GAAAC,eAAA,GAAAwB,UAAA,EAHjCjC,SAAS,CAAC;EACTkC,UAAU,EAAE;IAAC5B,UAAU;IAAEF;EAAQ;CAClC,CAAC,C,EACmBI,aAAa,CAiCjC;eAjCoBA,aAAa","ignoreList":[]}]}