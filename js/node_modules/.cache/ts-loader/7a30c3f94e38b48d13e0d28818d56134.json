{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js??ref--14-2!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/TreeLayout.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/TreeLayout.vue","mtime":1714946187072},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js","mtime":1714947267504},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlc2l6ZVNlbnNvciBmcm9tICJjc3MtZWxlbWVudC1xdWVyaWVzL3NyYy9SZXNpemVTZW5zb3IiOwppbXBvcnQgeyBuZXh0VGljaywgb25Nb3VudGVkLCByZWYgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVHJlZUxheW91dCcsCiAgcHJvcHM6IHsKICAgIGVsZW1lbnRMYXlvdXQ6IHt9CiAgfSwKICBzZXR1cChwcm9wcykgewogICAgY29uc3QgZWxlbWVudExheW91dCA9IHByb3BzLmVsZW1lbnRMYXlvdXQ7CiAgICBjb25zdCBjYW52YXMgPSByZWYobnVsbCk7CiAgICBsZXQgbGluZXMgPSBbXTsKICAgIGNvbnN0IHRyZWVMYXlvdXRTdHlsZSA9IHJlZigiIik7CiAgICBlbGVtZW50TGF5b3V0Lm9uQ2FsY3VsYXRlZC5zdWJzY3JpYmUob3V0cHV0ID0+IHsKICAgICAgdHJlZUxheW91dFN0eWxlLnZhbHVlID0gYGxlZnQ6IDBweDsgd2lkdGg6ICR7b3V0cHV0LnRvdGFsV2lkdGh9cHg7IGhlaWdodDogJHtvdXRwdXQudG90YWxIZWlnaHR9cHhgOwogICAgICBsaW5lcyA9IG91dHB1dC5saW5lczsKICAgICAgZHJhd0xpbmVzKGNhbnZhcy52YWx1ZSwgb3V0cHV0LmxpbmVzKTsKICAgIH0pOwogICAgY29uc3QgdHJlZUxheW91dCA9IHJlZihudWxsKTsKICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gcmVmKDApOwogICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gcmVmKDApOwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgbmV4dFRpY2soKCkgPT4gewogICAgICAgIGVsZW1lbnRMYXlvdXQucmVjYWxjdWxhdGUoKTsKICAgICAgfSk7CiAgICAgIG5ldyBSZXNpemVTZW5zb3IodHJlZUxheW91dC52YWx1ZSwgKCkgPT4gewogICAgICAgIGNhbnZhc1dpZHRoLnZhbHVlID0gdHJlZUxheW91dC52YWx1ZS5jbGllbnRXaWR0aDsKICAgICAgICBjYW52YXNIZWlnaHQudmFsdWUgPSB0cmVlTGF5b3V0LnZhbHVlLmNsaWVudEhlaWdodDsKICAgICAgICBuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBkcmF3TGluZXMoY2FudmFzLnZhbHVlLCBsaW5lcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICB0cmVlTGF5b3V0LAogICAgICBjYW52YXMsCiAgICAgIGNhbnZhc1dpZHRoLAogICAgICBjYW52YXNIZWlnaHQsCiAgICAgIHRyZWVMYXlvdXRTdHlsZQogICAgfTsKICB9Cn07CmZ1bmN0aW9uIGRyYXdMaW5lcyhjYW52YXNFbGVtZW50LCBsaW5lcykgewogIGNvbnN0IGNvbnRleHQgPSBjYW52YXNFbGVtZW50LmdldENvbnRleHQoIjJkIik7CiAgY29udGV4dC5zdHJva2VTdHlsZSA9ICJncmF5IjsKICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHsKICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICBjb250ZXh0Lm1vdmVUbyhsaW5lLnN0YXJ0WCwgbGluZS5zdGFydFkpOwogICAgY29udGV4dC5saW5lVG8obGluZS5lbmRYLCBsaW5lLmVuZFkpOwogICAgY29udGV4dC5zdHJva2UoKTsKICB9Cn0="},{"version":3,"names":["ResizeSensor","nextTick","onMounted","ref","name","props","elementLayout","setup","canvas","lines","treeLayoutStyle","onCalculated","subscribe","output","value","totalWidth","totalHeight","drawLines","treeLayout","canvasWidth","canvasHeight","recalculate","clientWidth","clientHeight","canvasElement","context","getContext","strokeStyle","line","beginPath","moveTo","startX","startY","lineTo","endX","endY","stroke"],"sources":["/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/TreeLayout.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport ResizeSensor from \"css-element-queries/src/ResizeSensor\";\nimport {nextTick, onMounted, ref} from \"@vue/composition-api\";\n\nexport default {\n  name: 'TreeLayout',\n  props: {\n    elementLayout: {}\n  },\n  setup(props) {\n    const elementLayout = props.elementLayout;\n    const canvas = ref<any>(null);\n\n    let lines = [];\n    const treeLayoutStyle = ref(\"\");\n    elementLayout.onCalculated.subscribe(output => {\n      treeLayoutStyle.value = `left: 0px; width: ${output.totalWidth}px; height: ${output.totalHeight}px`;\n      lines = output.lines;\n      drawLines(canvas.value, output.lines);\n    });\n\n    const treeLayout = ref<any>(null);\n    const canvasWidth = ref(0);\n    const canvasHeight = ref(0);\n\n    onMounted(() => {\n      nextTick(() => {\n        elementLayout.recalculate();\n      });\n\n      new ResizeSensor(treeLayout.value, () => {\n        canvasWidth.value = treeLayout.value.clientWidth;\n        canvasHeight.value = treeLayout.value.clientHeight;\n        nextTick(() => {\n          drawLines(canvas.value, lines);\n        });\n      });\n    });\n\n    return {\n      treeLayout,\n      canvas,\n      canvasWidth,\n      canvasHeight,\n      treeLayoutStyle\n    }\n  }\n}\n\nfunction drawLines(canvasElement, lines) {\n  const context = canvasElement.getContext(\"2d\");\n  context.strokeStyle = \"gray\";\n  for (const line of lines) {\n    context.beginPath();\n    context.moveTo(line.startX, line.startY);\n    context.lineTo(line.endX, line.endY);\n    context.stroke();\n  }\n}\n\n"],"mappings":"AACA,OAAOA,YAAY,MAAM,sCAAsC;AAC/D,SAAQC,QAAQ,EAAEC,SAAS,EAAEC,GAAG,QAAO,sBAAsB;AAE7D,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,aAAa,EAAE;GAChB;EACDC,KAAKA,CAACF,KAAK;IACT,MAAMC,aAAa,GAAGD,KAAK,CAACC,aAAa;IACzC,MAAME,MAAM,GAAGL,GAAG,CAAM,IAAI,CAAC;IAE7B,IAAIM,KAAK,GAAG,EAAE;IACd,MAAMC,eAAe,GAAGP,GAAG,CAAC,EAAE,CAAC;IAC/BG,aAAa,CAACK,YAAY,CAACC,SAAS,CAACC,MAAM,IAAG;MAC5CH,eAAe,CAACI,KAAK,GAAG,qBAAqBD,MAAM,CAACE,UAAU,eAAeF,MAAM,CAACG,WAAW,IAAI;MACnGP,KAAK,GAAGI,MAAM,CAACJ,KAAK;MACpBQ,SAAS,CAACT,MAAM,CAACM,KAAK,EAAED,MAAM,CAACJ,KAAK,CAAC;IACvC,CAAC,CAAC;IAEF,MAAMS,UAAU,GAAGf,GAAG,CAAM,IAAI,CAAC;IACjC,MAAMgB,WAAW,GAAGhB,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMiB,YAAY,GAAGjB,GAAG,CAAC,CAAC,CAAC;IAE3BD,SAAS,CAAC,MAAK;MACbD,QAAQ,CAAC,MAAK;QACZK,aAAa,CAACe,WAAW,EAAE;MAC7B,CAAC,CAAC;MAEF,IAAIrB,YAAY,CAACkB,UAAU,CAACJ,KAAK,EAAE,MAAK;QACtCK,WAAW,CAACL,KAAK,GAAGI,UAAU,CAACJ,KAAK,CAACQ,WAAW;QAChDF,YAAY,CAACN,KAAK,GAAGI,UAAU,CAACJ,KAAK,CAACS,YAAY;QAClDtB,QAAQ,CAAC,MAAK;UACZgB,SAAS,CAACT,MAAM,CAACM,KAAK,EAAEL,KAAK,CAAC;QAChC,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,OAAO;MACLS,UAAU;MACVV,MAAM;MACNW,WAAW;MACXC,YAAY;MACZV;KACD;EACH;CACD;AAED,SAASO,SAASA,CAACO,aAAa,EAAEf,KAAK;EACrC,MAAMgB,OAAO,GAAGD,aAAa,CAACE,UAAU,CAAC,IAAI,CAAC;EAC9CD,OAAO,CAACE,WAAW,GAAG,MAAM;EAC5B,KAAK,MAAMC,IAAI,IAAInB,KAAK,EAAE;IACxBgB,OAAO,CAACI,SAAS,EAAE;IACnBJ,OAAO,CAACK,MAAM,CAACF,IAAI,CAACG,MAAM,EAAEH,IAAI,CAACI,MAAM,CAAC;IACxCP,OAAO,CAACQ,MAAM,CAACL,IAAI,CAACM,IAAI,EAAEN,IAAI,CAACO,IAAI,CAAC;IACpCV,OAAO,CAACW,MAAM,EAAE;;AAEpB","ignoreList":[]}]}