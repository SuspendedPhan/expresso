{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js??ref--14-2!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/ProjectFunction.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/ProjectFunction.vue","mtime":1714946187071},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js","mtime":1714947267504},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFdhc21Ob2RlIGZyb20gIkAvY29tcG9uZW50cy9XYXNtTm9kZS52dWUiOwppbXBvcnQgeyBpbmplY3QsIG5leHRUaWNrLCBwcm92aWRlLCByZWYgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7CmltcG9ydCB7IEVsZW1lbnRMYXlvdXQgfSBmcm9tICJAL2NvZGUvRWxlbWVudExheW91dCI7CmltcG9ydCBTdG9yZSBmcm9tICJAL21vZGVscy9TdG9yZSI7CmltcG9ydCBUcmVlTGF5b3V0IGZyb20gIkAvY29tcG9uZW50cy9UcmVlTGF5b3V0LnZ1ZSI7CmltcG9ydCBQcm9qZWN0RnVuY3Rpb25QYXJhbWV0ZXIgZnJvbSAiQC9jb21wb25lbnRzL1Byb2plY3RGdW5jdGlvblBhcmFtZXRlci52dWUiOwppbXBvcnQgRnVuY3Rpb25zIGZyb20gIkAvY29kZS9GdW5jdGlvbnMiOwppbXBvcnQgQWRkRm9ybSBmcm9tICJAL2NvbXBvbmVudHMvQWRkRm9ybS52dWUiOwppbXBvcnQgV29yZENvbGxlY3Rpb24gZnJvbSAiQC9zdG9yZS9Xb3JkQ29sbGVjdGlvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJvamVjdEZ1bmN0aW9uJywKICBjb21wb25lbnRzOiB7CiAgICBBZGRGb3JtLAogICAgUHJvamVjdEZ1bmN0aW9uUGFyYW1ldGVyLAogICAgVHJlZUxheW91dCwKICAgIFdhc21Ob2RlCiAgfSwKICBwcm9wczogewogICAgZnVuOiB7fQogIH0sCiAgc2V0dXAocHJvcHMpIHsKICAgIGNvbnN0IGVtTW9kdWxlID0gaW5qZWN0KCdnZXRFbU1vZHVsZScpKCk7CiAgICBjb25zdCBlbGVtZW50TGF5b3V0ID0gbmV3IEVsZW1lbnRMYXlvdXQoKCkgPT4gcHJvcHMuZnVuLmdldFJvb3ROb2RlKCksIG5vZGUgPT4gU3RvcmUuZ2V0Q2hpbGRyZW4obm9kZSksIG5vZGUgPT4gbm9kZS5nZXRJZCgpLCBob3Jpem9udGFsTWFyZ2luLCB2ZXJ0aWNhbE1hcmdpbik7CiAgICBjb25zdCBnZXRQYXJhbWV0ZXJzID0gKCkgPT4gRnVuY3Rpb25zLnZlY3RvclRvQXJyYXkocHJvcHMuZnVuLmdldFBhcmFtZXRlcnMoKSk7CiAgICBjb25zdCBwYXJhbWV0ZXJzID0gcmVmKGdldFBhcmFtZXRlcnMoKSk7CiAgICBjb25zdCBub2RlID0gcmVmKHByb3BzLmZ1bi5nZXRSb290Tm9kZSgpKTsKICAgIGNvbnN0IG5vZGVJZCA9IHJlZihub2RlLnZhbHVlLmdldElkKCkpOwogICAgZW1Nb2R1bGUuRW1iaW5kVXRpbC5zZXRTaWduYWxMaXN0ZW5lcihwcm9wcy5mdW4uZ2V0T25DaGFuZ2VkU2lnbmFsKCksICgpID0+IHsKICAgICAgcGFyYW1ldGVycy52YWx1ZSA9IGdldFBhcmFtZXRlcnMoKTsKICAgICAgbm9kZS52YWx1ZSA9IHByb3BzLmZ1bi5nZXRSb290Tm9kZSgpOwogICAgICBub2RlSWQudmFsdWUgPSBub2RlLnZhbHVlLmdldElkKCk7CiAgICAgIG5leHRUaWNrKCgpID0+IHsKICAgICAgICBlbGVtZW50TGF5b3V0LnJlY2FsY3VsYXRlKCk7CiAgICAgIH0pOwogICAgfSk7CiAgICBwcm92aWRlKCdub2RlTGF5b3V0JywgZWxlbWVudExheW91dCk7CiAgICBmdW5jdGlvbiBhZGRQYXJhbWV0ZXIobmFtZSkgewogICAgICBjb25zdCBwYXJhbWV0ZXJOYW1lID0gV29yZENvbGxlY3Rpb24udG9SYW5kb21Xb3JkSWZFbXB0eShuYW1lKTsKICAgICAgY29uc3QgcGFyYW1ldGVyID0gZW1Nb2R1bGUuRnVuY3Rpb25QYXJhbWV0ZXIubWFrZVVuaXF1ZShwYXJhbWV0ZXJOYW1lKTsKICAgICAgcHJvcHMuZnVuLmFkZFBhcmFtZXRlcihwYXJhbWV0ZXIpOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgZWxlbWVudExheW91dCwKICAgICAgcGFyYW1ldGVycywKICAgICAgYWRkUGFyYW1ldGVyLAogICAgICBub2RlLAogICAgICBub2RlSWQKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["WasmNode","inject","nextTick","provide","ref","ElementLayout","Store","TreeLayout","ProjectFunctionParameter","Functions","AddForm","WordCollection","name","components","props","fun","setup","emModule","elementLayout","getRootNode","node","getChildren","getId","horizontalMargin","verticalMargin","getParameters","vectorToArray","parameters","nodeId","value","EmbindUtil","setSignalListener","getOnChangedSignal","recalculate","addParameter","parameterName","toRandomWordIfEmpty","parameter","FunctionParameter","makeUnique"],"sources":["/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/ProjectFunction.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport WasmNode from \"@/components/WasmNode.vue\"\nimport {inject, nextTick, provide, ref} from \"@vue/composition-api\";\nimport {ElementLayout} from \"@/code/ElementLayout\";\nimport Store from \"@/models/Store\";\nimport TreeLayout from \"@/components/TreeLayout.vue\";\nimport ProjectFunctionParameter from \"@/components/ProjectFunctionParameter.vue\";\nimport Functions from \"@/code/Functions\";\nimport AddForm from \"@/components/AddForm.vue\";\nimport WordCollection from \"@/store/WordCollection\";\n\nexport default {\n  name: 'ProjectFunction',\n  components: {AddForm, ProjectFunctionParameter, TreeLayout, WasmNode},\n  props: {\n    fun: {}\n  },\n  setup(props) {\n    const emModule = inject<any>('getEmModule')();\n    const elementLayout = new ElementLayout(() => props.fun.getRootNode(), node => Store.getChildren(node), (node) => node.getId(), horizontalMargin, verticalMargin);\n\n    const getParameters = () => Functions.vectorToArray(props.fun.getParameters());\n    const parameters = ref(getParameters());\n    const node = ref(props.fun.getRootNode());\n    const nodeId = ref(node.value.getId());\n    emModule.EmbindUtil.setSignalListener(props.fun.getOnChangedSignal(), () => {\n      parameters.value = getParameters();\n      node.value = props.fun.getRootNode();\n      nodeId.value = node.value.getId();\n      nextTick(() => {\n        elementLayout.recalculate();\n      });\n    });\n\n    provide('nodeLayout', elementLayout);\n\n    function addParameter(name) {\n      const parameterName = WordCollection.toRandomWordIfEmpty(name);\n      const parameter = emModule.FunctionParameter.makeUnique(parameterName);\n      props.fun.addParameter(parameter);\n    }\n\n    return {\n      elementLayout,\n      parameters,\n      addParameter,\n      node,\n      nodeId\n    };\n  }\n}\n"],"mappings":"AACA,OAAOA,QAAQ,MAAM,2BAA2B;AAChD,SAAQC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,QAAO,sBAAsB;AACnE,SAAQC,aAAa,QAAO,sBAAsB;AAClD,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,wBAAwB,MAAM,2CAA2C;AAChF,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,cAAc,MAAM,wBAAwB;AAEnD,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE;IAACH,OAAO;IAAEF,wBAAwB;IAAED,UAAU;IAAEP;EAAQ,CAAC;EACrEc,KAAK,EAAE;IACLC,GAAG,EAAE;GACN;EACDC,KAAKA,CAACF,KAAK;IACT,MAAMG,QAAQ,GAAGhB,MAAM,CAAM,aAAa,CAAC,EAAE;IAC7C,MAAMiB,aAAa,GAAG,IAAIb,aAAa,CAAC,MAAMS,KAAK,CAACC,GAAG,CAACI,WAAW,EAAE,EAAEC,IAAI,IAAId,KAAK,CAACe,WAAW,CAACD,IAAI,CAAC,EAAGA,IAAI,IAAKA,IAAI,CAACE,KAAK,EAAE,EAAEC,gBAAgB,EAAEC,cAAc,CAAC;IAEjK,MAAMC,aAAa,GAAGA,CAAA,KAAMhB,SAAS,CAACiB,aAAa,CAACZ,KAAK,CAACC,GAAG,CAACU,aAAa,EAAE,CAAC;IAC9E,MAAME,UAAU,GAAGvB,GAAG,CAACqB,aAAa,EAAE,CAAC;IACvC,MAAML,IAAI,GAAGhB,GAAG,CAACU,KAAK,CAACC,GAAG,CAACI,WAAW,EAAE,CAAC;IACzC,MAAMS,MAAM,GAAGxB,GAAG,CAACgB,IAAI,CAACS,KAAK,CAACP,KAAK,EAAE,CAAC;IACtCL,QAAQ,CAACa,UAAU,CAACC,iBAAiB,CAACjB,KAAK,CAACC,GAAG,CAACiB,kBAAkB,EAAE,EAAE,MAAK;MACzEL,UAAU,CAACE,KAAK,GAAGJ,aAAa,EAAE;MAClCL,IAAI,CAACS,KAAK,GAAGf,KAAK,CAACC,GAAG,CAACI,WAAW,EAAE;MACpCS,MAAM,CAACC,KAAK,GAAGT,IAAI,CAACS,KAAK,CAACP,KAAK,EAAE;MACjCpB,QAAQ,CAAC,MAAK;QACZgB,aAAa,CAACe,WAAW,EAAE;MAC7B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF9B,OAAO,CAAC,YAAY,EAAEe,aAAa,CAAC;IAEpC,SAASgB,YAAYA,CAACtB,IAAI;MACxB,MAAMuB,aAAa,GAAGxB,cAAc,CAACyB,mBAAmB,CAACxB,IAAI,CAAC;MAC9D,MAAMyB,SAAS,GAAGpB,QAAQ,CAACqB,iBAAiB,CAACC,UAAU,CAACJ,aAAa,CAAC;MACtErB,KAAK,CAACC,GAAG,CAACmB,YAAY,CAACG,SAAS,CAAC;IACnC;IAEA,OAAO;MACLnB,aAAa;MACbS,UAAU;MACVO,YAAY;MACZd,IAAI;MACJQ;KACD;EACH;CACD","ignoreList":[]}]}