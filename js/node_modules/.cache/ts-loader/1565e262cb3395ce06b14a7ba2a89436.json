{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js??ref--14-2!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/GoTest.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/GoTest.vue","mtime":1714946187070},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js","mtime":1714947267504},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEdvTW9kdWxlV2FzbSBmcm9tICIuLi8uLi9wdWJsaWMvbXltb2R1bGUud2FzbSI7CmltcG9ydCB7IGNvbXB1dGVkLCBvblVubW91bnRlZCwgcmVmLCB3YXRjaCwgcmVhZG9ubHksIG5leHRUaWNrIH0gZnJvbSAiQHZ1ZS9jb21wb3NpdGlvbi1hcGkiOwppbXBvcnQgR29FeHByZXNzb3IgZnJvbSAiQC9jb21wb25lbnRzL0dvRXhwcmVzc29yLnZ1ZSI7CmltcG9ydCBQaXhpUmVuZGVyZXIgZnJvbSAiQC9jb2RlL1BpeGlSZW5kZXJlciI7CmltcG9ydCBmcHMgZnJvbSAiZnBzIjsKaW1wb3J0IG51bWVyYWwgZnJvbSAibnVtZXJhbCI7CmltcG9ydCB7IEVsZW1lbnRMYXlvdXQgfSBmcm9tICdAL2NvZGUvRWxlbWVudExheW91dCc7CmltcG9ydCB7IFJlc2l6ZVNlbnNvciB9IGZyb20gImNzcy1lbGVtZW50LXF1ZXJpZXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdvVGVzdCIsCiAgY29tcG9uZW50czogewogICAgR29FeHByZXNzb3IKICB9LAogIHNldHVwKCkgewogICAgY29uc3QgZ28gPSBuZXcgR28oKTsKICAgIGNvbnN0IHNldHVwRXhwcmVzc29yID0gcmVmKG51bGwpOwogICAgY29uc3Qgdmlld3BvcnQgPSByZWYobnVsbCk7CiAgICBjb25zdCBjYW52YXMgPSByZWYobnVsbCk7CiAgICAvLyBHb01vZHVsZVdhc20gaXMgdGhlIHBhdGggdG8gdGhlIG15bW9kdWxlLndhc20gZmlsZQogICAgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoZmV0Y2goR29Nb2R1bGVXYXNtKSwgZ28uaW1wb3J0T2JqZWN0KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgIGdvLnJ1bihyZXN1bHQuaW5zdGFuY2UpOwogICAgICBzZXR1cEV4cHJlc3Nvci52YWx1ZSA9ICgpID0+IEdvTW9kdWxlLnNldHVwRXhwcmVzc29yKHJlZiwgd2F0Y2gsIGNvbXB1dGVkLCByZWFkb25seSwgb25Vbm1vdW50ZWQsIG5leHRUaWNrLCBFbGVtZW50TGF5b3V0LCBSZXNpemVTZW5zb3IpOwogICAgICBjb25zdCByZW5kZXJlciA9IG5ldyBQaXhpUmVuZGVyZXIodmlld3BvcnQudmFsdWUsIGNhbnZhcy52YWx1ZSk7CiAgICAgIGNvbnN0IG9uRnJhbWUgPSAoKSA9PiB7CiAgICAgICAgdGlja2VyLnRpY2soKTsKICAgICAgICBHb01vZHVsZS5ldmFsKHJlbmRlcmVyLmNpcmNsZVBvb2wsIHJlbmRlcmVyLmNpcmNsZXMpOwogICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25GcmFtZSk7CiAgICAgIH07CiAgICAgIG9uRnJhbWUoKTsKICAgIH0pOwogICAgY29uc3QgZnJhbWVzUGVyU2Vjb25kID0gcmVmKCIwMCIpOwogICAgY29uc3QgdGlja2VyID0gZnBzKHsKICAgICAgZXZlcnk6IDEwCiAgICB9KTsKICAgIHRpY2tlci5vbigiZGF0YSIsIGZyYW1lcmF0ZSA9PiBmcmFtZXNQZXJTZWNvbmQudmFsdWUgPSBudW1lcmFsKGZyYW1lcmF0ZSkuZm9ybWF0KCIwIikpOwogICAgcmV0dXJuIHsKICAgICAgc2V0dXBFeHByZXNzb3IsCiAgICAgIHZpZXdwb3J0LAogICAgICBjYW52YXMsCiAgICAgIGZyYW1lc1BlclNlY29uZAogICAgfTsKICB9Cn07"},{"version":3,"names":["GoModuleWasm","computed","onUnmounted","ref","watch","readonly","nextTick","GoExpressor","PixiRenderer","fps","numeral","ElementLayout","ResizeSensor","name","components","setup","go","Go","setupExpressor","viewport","canvas","WebAssembly","instantiateStreaming","fetch","importObject","then","result","run","instance","value","GoModule","renderer","onFrame","ticker","tick","eval","circlePool","circles","window","requestAnimationFrame","framesPerSecond","every","on","framerate","format"],"sources":["/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/GoTest.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport GoModuleWasm from \"../../public/mymodule.wasm\";\nimport {computed, onMounted, onUnmounted, ref, watch, readonly, nextTick} from \"@vue/composition-api\";\nimport GoExpressor from \"@/components/GoExpressor.vue\";\nimport PixiRenderer from \"@/code/PixiRenderer\";\nimport fps from \"fps\";\nimport numeral from \"numeral\";\nimport { ElementLayout } from '@/code/ElementLayout';\nimport {ResizeSensor} from \"css-element-queries\";\n\n// Defined in public/wasm_exec.js, which is loaded in index.html\ndeclare var Go: any;\n\n// Defined in go_module.go, available after go.run(result.instance)\ndeclare var GoModule: any;\n\nexport default {\n  name: \"GoTest\",\n  components: {GoExpressor},\n  setup() {\n    const go = new Go();\n    const setupExpressor = ref<any>(null);\n    const viewport = ref(null);\n    const canvas = ref(null);\n\n    // GoModuleWasm is the path to the mymodule.wasm file\n    WebAssembly.instantiateStreaming(fetch(GoModuleWasm), go.importObject).then((result) => {\n      go.run(result.instance);\n\n      setupExpressor.value = () => GoModule.setupExpressor(ref, watch, computed, readonly, onUnmounted, nextTick, ElementLayout, ResizeSensor);\n      const renderer = new PixiRenderer(viewport.value, canvas.value);\n      const onFrame = () => {\n        ticker.tick();\n        GoModule.eval(renderer.circlePool, renderer.circles);\n        window.requestAnimationFrame(onFrame);\n      };\n      onFrame();\n    });\n\n    const framesPerSecond = ref(\"00\");\n    const ticker = fps({ every: 10 });\n    ticker.on(\"data\", (framerate) => (framesPerSecond.value = numeral(framerate).format(\"0\")));\n\n    return {setupExpressor, viewport, canvas, framesPerSecond};\n  }\n}\n"],"mappings":"AACA,OAAOA,YAAY,MAAM,4BAA4B;AACrD,SAAQC,QAAQ,EAAaC,WAAW,EAAEC,GAAG,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,QAAO,sBAAsB;AACrG,OAAOC,WAAW,MAAM,8BAA8B;AACtD,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,OAAO,MAAM,SAAS;AAC7B,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAAQC,YAAY,QAAO,qBAAqB;AAQhD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IAACP;EAAW,CAAC;EACzBQ,KAAKA,CAAA;IACH,MAAMC,EAAE,GAAG,IAAIC,EAAE,EAAE;IACnB,MAAMC,cAAc,GAAGf,GAAG,CAAM,IAAI,CAAC;IACrC,MAAMgB,QAAQ,GAAGhB,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMiB,MAAM,GAAGjB,GAAG,CAAC,IAAI,CAAC;IAExB;IACAkB,WAAW,CAACC,oBAAoB,CAACC,KAAK,CAACvB,YAAY,CAAC,EAAEgB,EAAE,CAACQ,YAAY,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAI;MACrFV,EAAE,CAACW,GAAG,CAACD,MAAM,CAACE,QAAQ,CAAC;MAEvBV,cAAc,CAACW,KAAK,GAAG,MAAMC,QAAQ,CAACZ,cAAc,CAACf,GAAG,EAAEC,KAAK,EAAEH,QAAQ,EAAEI,QAAQ,EAAEH,WAAW,EAAEI,QAAQ,EAAEK,aAAa,EAAEC,YAAY,CAAC;MACxI,MAAMmB,QAAQ,GAAG,IAAIvB,YAAY,CAACW,QAAQ,CAACU,KAAK,EAAET,MAAM,CAACS,KAAK,CAAC;MAC/D,MAAMG,OAAO,GAAGA,CAAA,KAAK;QACnBC,MAAM,CAACC,IAAI,EAAE;QACbJ,QAAQ,CAACK,IAAI,CAACJ,QAAQ,CAACK,UAAU,EAAEL,QAAQ,CAACM,OAAO,CAAC;QACpDC,MAAM,CAACC,qBAAqB,CAACP,OAAO,CAAC;MACvC,CAAC;MACDA,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,MAAMQ,eAAe,GAAGrC,GAAG,CAAC,IAAI,CAAC;IACjC,MAAM8B,MAAM,GAAGxB,GAAG,CAAC;MAAEgC,KAAK,EAAE;IAAE,CAAE,CAAC;IACjCR,MAAM,CAACS,EAAE,CAAC,MAAM,EAAGC,SAAS,IAAMH,eAAe,CAACX,KAAK,GAAGnB,OAAO,CAACiC,SAAS,CAAC,CAACC,MAAM,CAAC,GAAG,CAAE,CAAC;IAE1F,OAAO;MAAC1B,cAAc;MAAEC,QAAQ;MAAEC,MAAM;MAAEoB;IAAe,CAAC;EAC5D;CACD","ignoreList":[]}]}