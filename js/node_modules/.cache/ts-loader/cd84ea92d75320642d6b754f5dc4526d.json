{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js??ref--14-2!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WasmTest.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WasmTest.vue","mtime":1714946187073},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/ts-loader/index.js","mtime":1714947267504},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFdhc21UZXN0XzE7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCBDb21wb25lbnQgZnJvbSAidnVlLWNsYXNzLWNvbXBvbmVudCI7CmltcG9ydCB7IFByb3ZpZGUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgV2FzbU1vZHVsZSBmcm9tICdALy4uL3B1YmxpYy9XYXNtTW9kdWxlLmpzJzsKaW1wb3J0IFdhc20gZnJvbSAiQC8uLi9wdWJsaWMvV2FzbU1vZHVsZS53YXNtIjsKaW1wb3J0IFBpeGlSZW5kZXJlciBmcm9tICJAL2NvZGUvUGl4aVJlbmRlcmVyIjsKaW1wb3J0IFdhc21FeHByZXNzb3IgZnJvbSAiQC9jb21wb25lbnRzL1dhc21FeHByZXNzb3IudnVlIjsKaW1wb3J0IEZ1bmN0aW9ucyBmcm9tICJAL2NvZGUvRnVuY3Rpb25zIjsKaW1wb3J0IFN0b3JlIGZyb20gIkAvbW9kZWxzL1N0b3JlIjsKaW1wb3J0IFByb2plY3RGdW5jdGlvbkNvbGxlY3Rpb24gZnJvbSAiQC9jb21wb25lbnRzL1Byb2plY3RGdW5jdGlvbkNvbGxlY3Rpb24udnVlIjsKaW1wb3J0IFdhc21QZW4gZnJvbSAiQC9jb2RlL1dhc21QZW4iOwppbXBvcnQgZnBzIGZyb20gImZwcyI7CmltcG9ydCBudW1lcmFsIGZyb20gIm51bWVyYWwiOwppbXBvcnQgaG90a2V5cyBmcm9tICJob3RrZXlzLWpzIjsKbGV0IFdhc21UZXN0ID0gV2FzbVRlc3RfMSA9IGNsYXNzIFdhc21UZXN0IGV4dGVuZHMgVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLmZha2UgPSBudWxsOwogICAgdGhpcy5wcm9qZWN0ID0gbnVsbDsKICAgIHRoaXMuc3RvcmUgPSBudWxsOwogICAgdGhpcy5lbU1vZHVsZSA9IG51bGw7CiAgICB0aGlzLmZyYW1lcmF0ZSA9ICcnOwogICAgdGhpcy5zYXZlU3RvcmVGdW5jdG9yID0gKCkgPT4gdGhpcy5zYXZlU3RvcmUoKTsKICAgIHRoaXMuZ2V0RW1Nb2R1bGUgPSAoKSA9PiB0aGlzLnByaXZhdGVHZXRFbU1vZHVsZSgpOwogICAgdGhpcy5wZW4gPSBuZXcgV2FzbVBlbigpOwogICAgdGhpcy5wcm9qZWN0RnVuY3Rpb25zQWN0aXZlID0gZmFsc2U7CiAgICB0aGlzLnRpY2tlciA9IGZwcyh7CiAgICAgIGV2ZXJ5OiAxMAogICAgfSk7CiAgfQogIHByaXZhdGVHZXRFbU1vZHVsZSgpIHsKICAgIHJldHVybiB0aGlzLmVtTW9kdWxlOwogIH0KICBjcmVhdGVkKCkgewogICAgdGhpcy50aWNrZXIub24oImRhdGEiLCBmcmFtZXJhdGUgPT4gdGhpcy5mcmFtZXJhdGUgPSBudW1lcmFsKGZyYW1lcmF0ZSkuZm9ybWF0KCIwIikpOwogICAgaG90a2V5cygnYWx0K2YnLCBldmVudCA9PiB7CiAgICAgIHRoaXMucHJvamVjdEZ1bmN0aW9uc0FjdGl2ZSA9ICF0aGlzLnByb2plY3RGdW5jdGlvbnNBY3RpdmU7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9KTsKICB9CiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IFdhc21Nb2R1bGUoewogICAgICBsb2NhdGVGaWxlOiBwYXRoID0+IHsKICAgICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLndhc20nKSkgewogICAgICAgICAgcmV0dXJuIFdhc207CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXRoOwogICAgICB9CiAgICB9KTsKICAgIHdpbmRvdy53YXNtTW9kdWxlID0gbW9kdWxlOwogICAgdGhpcy5lbU1vZHVsZSA9IG1vZHVsZTsKICAgIGNvbnN0IHJlbmRlciA9IChwcm9qZWN0LCByZW5kZXJlcikgPT4gewogICAgICB0aGlzLnRpY2tlci50aWNrKCk7CiAgICAgIGNvbnN0IGV2YWxDb250ZXh0ID0gdGhpcy5lbU1vZHVsZS5FdmFsQ29udGV4dC5tYWtlVW5pcXVlKCk7CiAgICAgIGNvbnN0IHRpbWVBdHRyaWJ1dGUgPSBGdW5jdGlvbnMuZ2V0QXR0cmlidXRlQnlOYW1lKEZ1bmN0aW9ucy52ZWN0b3JUb0l0ZXJhYmxlKHByb2plY3QuZ2V0Um9vdE9yZ2FuaXNtKCkuZ2V0QXR0cmlidXRlcygpKSwgInRpbWUiKTsKICAgICAgY29uc3QgdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC8gMTAwMDsKICAgICAgZXZhbENvbnRleHQuc2V0VmFsdWUodGltZUF0dHJpYnV0ZSwgdGltZSk7CiAgICAgIGNvbnN0IGV2YWxPdXRwdXQgPSBwcm9qZWN0LmV2YWxPcmdhbmlzbVRyZWUoZXZhbENvbnRleHQpOwogICAgICByZW5kZXJlci5yZW5kZXIoZXZhbE91dHB1dCk7CiAgICAgIGV2YWxPdXRwdXQuZGVsZXRlKCk7CiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVuZGVyKHByb2plY3QsIHJlbmRlcmVyKSk7CiAgICB9OwogICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgUGl4aVJlbmRlcmVyKHRoaXMuJHJlZnNbJ3ZpZXdwb3J0J10sIHRoaXMuJHJlZnNbJ2NhbnZhcyddKTsKICAgIC8vIGNvbnN0IHN0b3JlID0gbmV3IFN0b3JlKG1vZHVsZSk7CiAgICAvLyB0aGlzLnN0b3JlID0gc3RvcmU7CiAgICAvLyBjb25zdCBwcm9qZWN0ID0gc3RvcmUuYWRkUHJvamVjdCgpOwogICAgLy8gY29uc3QgYXR0cmlidXRlVmVjdG9yID0gcHJvamVjdC5nZXRSb290T3JnYW5pc20oKS5nZXRBdHRyaWJ1dGVzKCk7CiAgICAvLyBjb25zdCBhdHRyaWJ1dGVzID0gRnVuY3Rpb25zLnZlY3RvclRvQXJyYXkoYXR0cmlidXRlVmVjdG9yKTsKICAgIC8vIGNvbnN0IG51bWJlck5vZGUgPSBtb2R1bGUuTnVtYmVyTm9kZS5tYWtlVW5pcXVlKDIwKTsKICAgIC8vIGNvbnN0IHhBdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzWzJdOwogICAgLy8gY29uc3QgeFJvb3ROb2RlID0geEF0dHJpYnV0ZS5nZXRSb290Tm9kZSgpOwogICAgLy8gLy8geFJvb3ROb2RlLnJlcGxhY2UobnVtYmVyTm9kZSk7CiAgICAvLyBjb25zdCB5QXR0cmlidXRlID0gYXR0cmlidXRlc1szXTsKICAgIC8vIGNvbnN0IHlSb290Tm9kZSA9IHlBdHRyaWJ1dGUuZ2V0Um9vdE5vZGUoKTsKICAgIC8vIGNvbnN0IHJlZk5vZGUgPSBtb2R1bGUuQXR0cmlidXRlUmVmZXJlbmNlTm9kZS5tYWtlVW5pcXVlKHhBdHRyaWJ1dGUpOwogICAgLy8gLy8geVJvb3ROb2RlLnJlcGxhY2UocmVmTm9kZSk7CiAgICAvLyBjb25zdCBkZWFkU3RvcmUgPSBEZWFkU3RvcmUuZnJvbUxpdmVTdG9yZShzdG9yZSk7CiAgICAvLyAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZWFkU3RvcmUpKTsKICAgIC8vIGNvbnN0IGxpdmVTdG9yZSA9IERlYWRTdG9yZS50b0xpdmVTdG9yZShkZWFkU3RvcmUsIG1vZHVsZSk7CiAgICAvLyBjb25zdCBkZWFkMiA9IERlYWRTdG9yZS5mcm9tTGl2ZVN0b3JlKGxpdmVTdG9yZSk7CiAgICAvLyAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZWFkMikpOwogICAgLy8gY29uc3QgbGl2ZVByb2plY3QgPSBsaXZlU3RvcmUucHJvamVjdHNbMF07CiAgICAvLyB0aGlzLnByb2plY3QgPSBsaXZlUHJvamVjdDsKICAgIGNvbnN0IHN0b3JlID0gU3RvcmUubWFrZURlZmF1bHQobW9kdWxlKTsKICAgIC8vIGNvbnN0IHN0b3JlID0gU3RvcmUubG9hZE9yTWFrZShtb2R1bGUpOwogICAgdGhpcy5zdG9yZSA9IHN0b3JlOwogICAgdGhpcy5wcm9qZWN0ID0gc3RvcmUuZ2V0UHJvamVjdHMoKVswXTsKICAgIGNvbnN0IHByb2plY3QgPSB0aGlzLnByb2plY3Q7CiAgICBXYXNtVGVzdF8xLmFkZEF2ZXJhZ2VGdW5jdGlvbihtb2R1bGUsIHByb2plY3QpOwogICAgLy8gY29uc3QgZGVhZFN0b3JlID0gRGVhZFN0b3JlLmZyb21MaXZlU3RvcmUoc3RvcmUpOwogICAgLy8gY29uc3QgbGl2ZVN0b3JlID0gRGVhZFN0b3JlLnRvTGl2ZVN0b3JlKGRlYWRTdG9yZSwgdGhpcy5lbU1vZHVsZSk7CiAgICAvLyB0aGlzLnByb2plY3QgPSBsaXZlU3RvcmUuZ2V0UHJvamVjdHMoKVswXTsKICAgIHJlbmRlcih0aGlzLnByb2plY3QsIHJlbmRlcmVyKTsKICB9CiAgc3RhdGljIGFkZEF2ZXJhZ2VGdW5jdGlvbihtb2R1bGUsIHByb2plY3QpIHsKICAgIGNvbnN0IGFQYXJhbWV0ZXIgPSBtb2R1bGUuRnVuY3Rpb25QYXJhbWV0ZXIubWFrZVVuaXF1ZSgiYSIpOwogICAgY29uc3QgYlBhcmFtZXRlciA9IG1vZHVsZS5GdW5jdGlvblBhcmFtZXRlci5tYWtlVW5pcXVlKCJiIik7CiAgICBjb25zdCBhUGFyYW1ldGVyTm9kZSA9IG1vZHVsZS5QYXJhbWV0ZXJOb2RlLm1ha2VVbmlxdWUoYVBhcmFtZXRlcik7CiAgICBjb25zdCBiUGFyYW1ldGVyTm9kZSA9IG1vZHVsZS5QYXJhbWV0ZXJOb2RlLm1ha2VVbmlxdWUoYlBhcmFtZXRlcik7CiAgICBjb25zdCBwcmltaXRpdmVGdW5jdGlvbnMgPSBGdW5jdGlvbnMudmVjdG9yVG9BcnJheShtb2R1bGUuUHJpbWl0aXZlRnVuY3Rpb25Db2xsZWN0aW9uLmdldEluc3RhbmNlKCkuZ2V0RnVuY3Rpb25zKCkpOwogICAgY29uc3QgYWRkRnVuY3Rpb24gPSBwcmltaXRpdmVGdW5jdGlvbnMuZmluZCh0ID0+IHQuZ2V0TmFtZSgpID09PSAiKyIpOwogICAgY29uc29sZS5sb2cocHJpbWl0aXZlRnVuY3Rpb25zKTsKICAgIGNvbnNvbGUubG9nKGFkZEZ1bmN0aW9uKTsKICAgIGNvbnN0IGFkZE5vZGUgPSBtb2R1bGUuUHJpbWl0aXZlRnVuY3Rpb25DYWxsTm9kZS5tYWtlVW5pcXVlKGFkZEZ1bmN0aW9uKTsKICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBGdW5jdGlvbnMudmVjdG9yVG9BcnJheShhZGRGdW5jdGlvbi5nZXRQYXJhbWV0ZXJzKCkuZ2V0QWxsKCkpOwogICAgYWRkTm9kZS5nZXRBcmd1bWVudENvbGxlY3Rpb24oKS5zZXRBcmd1bWVudChwYXJhbWV0ZXJzWzBdLCBhUGFyYW1ldGVyTm9kZSk7CiAgICBhZGROb2RlLmdldEFyZ3VtZW50Q29sbGVjdGlvbigpLnNldEFyZ3VtZW50KHBhcmFtZXRlcnNbMV0sIGJQYXJhbWV0ZXJOb2RlKTsKICAgIGNvbnN0IHR3b05vZGUgPSBtb2R1bGUuTnVtYmVyTm9kZS5tYWtlVW5pcXVlKDIpOwogICAgY29uc3QgZGl2Tm9kZSA9IG1vZHVsZS5EaXZPcE5vZGUubWFrZVVuaXF1ZShhZGROb2RlLCB0d29Ob2RlKTsKICAgIGNvbnN0IGZ1biA9IG1vZHVsZS5GdW5jdGlvbi5tYWtlVW5pcXVlKCJBdmVyYWdlIik7CiAgICBmdW4uc2V0Um9vdE5vZGUoZGl2Tm9kZSk7CiAgICBmdW4uYWRkUGFyYW1ldGVyKGFQYXJhbWV0ZXIpOwogICAgZnVuLmFkZFBhcmFtZXRlcihiUGFyYW1ldGVyKTsKICAgIHByb2plY3QuYWRkRnVuY3Rpb24oZnVuKTsKICB9CiAgc2F2ZVN0b3JlKCkgewogICAgdGhpcy5zdG9yZS5zYXZlKCk7CiAgfQp9OwpfX2RlY29yYXRlKFtQcm92aWRlKCldLCBXYXNtVGVzdC5wcm90b3R5cGUsICJzYXZlU3RvcmVGdW5jdG9yIiwgdm9pZCAwKTsKX19kZWNvcmF0ZShbUHJvdmlkZSgpXSwgV2FzbVRlc3QucHJvdG90eXBlLCAiZ2V0RW1Nb2R1bGUiLCB2b2lkIDApOwpfX2RlY29yYXRlKFtQcm92aWRlKCldLCBXYXNtVGVzdC5wcm90b3R5cGUsICJwZW4iLCB2b2lkIDApOwpXYXNtVGVzdCA9IFdhc21UZXN0XzEgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFByb2plY3RGdW5jdGlvbkNvbGxlY3Rpb24sCiAgICBXYXNtRXhwcmVzc29yCiAgfQp9KV0sIFdhc21UZXN0KTsKZXhwb3J0IGRlZmF1bHQgV2FzbVRlc3Q7"},{"version":3,"names":["Component","Provide","Vue","WasmModule","Wasm","PixiRenderer","WasmExpressor","Functions","Store","ProjectFunctionCollection","WasmPen","fps","numeral","hotkeys","WasmTest","WasmTest_1","constructor","fake","project","store","emModule","framerate","saveStoreFunctor","saveStore","getEmModule","privateGetEmModule","pen","projectFunctionsActive","ticker","every","created","on","format","event","preventDefault","mounted","module","locateFile","path","endsWith","window","wasmModule","render","renderer","tick","evalContext","EvalContext","makeUnique","timeAttribute","getAttributeByName","vectorToIterable","getRootOrganism","getAttributes","time","performance","now","setValue","evalOutput","evalOrganismTree","delete","requestAnimationFrame","$refs","makeDefault","getProjects","addAverageFunction","aParameter","FunctionParameter","bParameter","aParameterNode","ParameterNode","bParameterNode","primitiveFunctions","vectorToArray","PrimitiveFunctionCollection","getInstance","getFunctions","addFunction","find","t","getName","console","log","addNode","PrimitiveFunctionCallNode","parameters","getParameters","getAll","getArgumentCollection","setArgument","twoNode","NumberNode","divNode","DivOpNode","fun","Function","setRootNode","addParameter","save","__decorate","components"],"sources":["/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WasmTest.vue?vue&type=script&lang=ts"],"sourcesContent":["\n\nimport Component from \"vue-class-component\";\nimport {Provide} from \"vue-property-decorator\";\nimport Vue from \"vue\";\n\nimport WasmModule from '@/../public/WasmModule.js';\nimport Wasm from \"@/../public/WasmModule.wasm\";\nimport PixiRenderer from \"@/code/PixiRenderer\";\nimport WasmExpressor from \"@/components/WasmExpressor.vue\";\nimport Functions from \"@/code/Functions\";\nimport Store from \"@/models/Store\";\nimport DeadStore from \"@/models/DeadStore\";\nimport ProjectFunctionCollection from \"@/components/ProjectFunctionCollection.vue\";\nimport WasmPen from \"@/code/WasmPen\";\nimport fps from \"fps\";\nimport numeral from \"numeral\";\nimport GlobalToggle from \"@/components/GlobalToggle.vue\";\nimport hotkeys from \"hotkeys-js\";\n\n@Component({\n  components: {ProjectFunctionCollection, WasmExpressor },\n})\nexport default class WasmTest extends Vue {\n  fake = null;\n  project = null;\n  store: any = null;\n  emModule: any = null;\n  framerate = '';\n\n  @Provide()\n  saveStoreFunctor = () => this.saveStore();\n\n  @Provide()\n  getEmModule = () => this.privateGetEmModule();\n\n  @Provide()\n  pen = new WasmPen();\n\n  private projectFunctionsActive = false;\n\n  privateGetEmModule() {\n    return this.emModule;\n  }\n\n  ticker = fps({ every: 10 });\n\n  created() {\n    this.ticker.on(\n        \"data\",\n        (framerate) => (this.framerate = numeral(framerate).format(\"0\"))\n    );\n    hotkeys('alt+f', (event) => {\n      this.projectFunctionsActive = !this.projectFunctionsActive;\n      event.preventDefault();\n    });\n  }\n\n  async mounted() {\n    const module = await WasmModule({\n      locateFile: (path) => {\n        if (path.endsWith('.wasm')) {\n          return Wasm;\n        }\n        return path;\n      },\n    });\n    (window as any).wasmModule = module;\n    this.emModule = module;\n\n    const render = (project, renderer) => {\n      this.ticker.tick();\n      const evalContext = this.emModule.EvalContext.makeUnique();\n      const timeAttribute = Functions.getAttributeByName(Functions.vectorToIterable(project.getRootOrganism().getAttributes()), \"time\");\n      const time = performance.now() / 1000;\n      evalContext.setValue(timeAttribute, time);\n\n      const evalOutput = project.evalOrganismTree(evalContext);\n      renderer.render(evalOutput);\n      evalOutput.delete();\n      window.requestAnimationFrame(() => render(project, renderer));\n    }\n\n    const renderer = new PixiRenderer(this.$refs['viewport'], this.$refs['canvas']);\n\n    // const store = new Store(module);\n    // this.store = store;\n    // const project = store.addProject();\n    // const attributeVector = project.getRootOrganism().getAttributes();\n    // const attributes = Functions.vectorToArray(attributeVector);\n    // const numberNode = module.NumberNode.makeUnique(20);\n    // const xAttribute = attributes[2];\n    // const xRootNode = xAttribute.getRootNode();\n    // // xRootNode.replace(numberNode);\n    // const yAttribute = attributes[3];\n    // const yRootNode = yAttribute.getRootNode();\n    // const refNode = module.AttributeReferenceNode.makeUnique(xAttribute);\n    // // yRootNode.replace(refNode);\n\n    // const deadStore = DeadStore.fromLiveStore(store);\n    // // console.log(JSON.stringify(deadStore));\n    // const liveStore = DeadStore.toLiveStore(deadStore, module);\n    // const dead2 = DeadStore.fromLiveStore(liveStore);\n    // // console.log(JSON.stringify(dead2));\n    // const liveProject = liveStore.projects[0];\n    // this.project = liveProject;\n\n    const store = Store.makeDefault(module);\n    // const store = Store.loadOrMake(module);\n    this.store = store;\n    this.project = store.getProjects()[0];\n    const project: any = this.project;\n\n    WasmTest.addAverageFunction(module, project);\n\n    // const deadStore = DeadStore.fromLiveStore(store);\n    // const liveStore = DeadStore.toLiveStore(deadStore, this.emModule);\n    // this.project = liveStore.getProjects()[0];\n\n    render(this.project, renderer);\n  }\n\n  private static addAverageFunction(module: any, project: any) {\n    const aParameter = module.FunctionParameter.makeUnique(\"a\");\n    const bParameter = module.FunctionParameter.makeUnique(\"b\");\n    const aParameterNode = module.ParameterNode.makeUnique(aParameter);\n    const bParameterNode = module.ParameterNode.makeUnique(bParameter);\n\n    const primitiveFunctions = Functions.vectorToArray(module.PrimitiveFunctionCollection.getInstance().getFunctions());\n    const addFunction = primitiveFunctions.find(t => t.getName() === \"+\");\n    console.log(primitiveFunctions);\n    console.log(addFunction);\n    const addNode = module.PrimitiveFunctionCallNode.makeUnique(addFunction);\n    const parameters = Functions.vectorToArray(addFunction.getParameters().getAll());\n    addNode.getArgumentCollection().setArgument(parameters[0], aParameterNode);\n    addNode.getArgumentCollection().setArgument(parameters[1], bParameterNode);\n\n    const twoNode = module.NumberNode.makeUnique(2);\n    const divNode = module.DivOpNode.makeUnique(addNode, twoNode);\n    const fun = module.Function.makeUnique(\"Average\");\n    fun.setRootNode(divNode);\n    fun.addParameter(aParameter);\n    fun.addParameter(bParameter);\n    project.addFunction(fun);\n  }\n\n  private saveStore() {\n    this.store.save();\n  }\n}\n\n"],"mappings":"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","ignoreList":[]}]}