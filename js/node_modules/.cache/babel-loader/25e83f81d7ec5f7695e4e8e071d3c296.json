{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/NodePicker.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/NodePicker.vue","mtime":1714946187071},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJvb3QgZnJvbSAnLi4vc3RvcmUvUm9vdCc7CmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9Sb290JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdOb2RlUGlja2VyJywKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hUZXh0OiAnJywKICAgICAgUm9vdDogUm9vdCwKICAgICAgbm9kZVN0b3JlOiBSb290Lm5vZGVTdG9yZSwKICAgICAgcGVuU3RvcmU6IFJvb3QucGVuU3RvcmUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBrZXlkb3duKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgJiYgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKFJvb3QucGVuU3RvcmUuZ2V0UXVlcnkoKSAhPT0gJycpIHsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc3VnZ2VzdGlvbnNbMF07CiAgICAgICAgICBSb290LnBlblN0b3JlLmNvbW1pdE5vZGVDaG9pY2UocmVzdWx0KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5ibHVyKCk7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB0aGlzLmJsdXIoKTsKICAgICAgfQogICAgfSwKICAgIGZvY3VzKCkgewogICAgICB0aGlzLiRyZWZzWydpbnB1dCddLmZvY3VzKCk7CiAgICB9LAogICAgYmx1cigpIHsKICAgICAgUm9vdC5wZW4uc2V0SXNRdWVyeWluZyhmYWxzZSk7CiAgICAgIHRoaXMuJGVtaXQoJ2JsdXInKTsKICAgIH0sCiAgICBvbkNsaWNrKHN1Z2dlc3Rpb24sIGV2ZW50KSB7CiAgICAgIFJvb3QucGVuLmNvbW1pdE5vZGVDaG9pY2Uoc3VnZ2VzdGlvbik7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuYmx1cigpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Z2dlc3Rpb25zKCkgewogICAgICByZXR1cm4gQXJyYXkuZnJvbShSb290LnBlblN0b3JlLmdldE5vZGVDaG9pY2VzKCkpOwogICAgfSwKICAgIHF1ZXJ5OiB7CiAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBSb290LnBlblN0b3JlLmdldFF1ZXJ5KCk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gKHF1ZXJ5KSB7CiAgICAgICAgUm9vdC5wZW5TdG9yZS5zZXRRdWVyeShxdWVyeSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["Root","Store","name","data","searchText","nodeStore","penStore","methods","keydown","event","key","suggestions","length","getQuery","result","commitNodeChoice","blur","preventDefault","focus","$refs","pen","setIsQuerying","$emit","onClick","suggestion","computed","Array","from","getNodeChoices","query","get","set","setQuery"],"sources":["src/components/NodePicker.vue"],"sourcesContent":["<template>\n<div class='node-picker'>\n  <input class='input' ref=\"input\" @blur='blur' @keydown='keydown' v-model='query' />\n  <div class='divider'></div>\n  <div>\n    <div v-for='(suggestion, index) in suggestions' :key='index' class='suggestion' @mousedown='onClick(suggestion, $event)'>\n      {{ suggestion.text }}\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Root from '../store/Root';\nimport Store from '../store/Root';\n\nexport default {\n  name: 'NodePicker',\n  data: function() {\n    return {\n      searchText: '',\n      Root: Root,\n      nodeStore: Root.nodeStore,\n      penStore: Root.penStore,\n    };\n  },\n  methods: {\n    keydown(event) {\n      if (event.key === 'Enter' && this.suggestions.length > 0) {\n        if (Root.penStore.getQuery() !== '') {\n          const result = this.suggestions[0];\n          Root.penStore.commitNodeChoice(result);\n        }\n\n        this.blur();\n        event.preventDefault();\n      } else if (event.key === 'Escape') {\n        event.preventDefault();\n        this.blur();\n      }\n    },\n    focus() {\n      this.$refs['input'].focus();\n    },\n    blur() {\n      Root.pen.setIsQuerying(false);\n      this.$emit('blur');\n    },\n    onClick(suggestion, event) {\n      Root.pen.commitNodeChoice(suggestion);\n      event.preventDefault();\n      this.blur();\n    }\n  },\n  computed: {\n    suggestions() {\n      return Array.from(Root.penStore.getNodeChoices());\n    },\n    query: {\n      get: function() {\n        return Root.penStore.getQuery();\n      },\n      set: function(query) {\n        Root.penStore.setQuery(query);\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.node-picker {\n  background-color: white;\n  border-color: black;\n  border-width: 1px;\n  border-style: solid;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);\n  padding: 10px;\n  height: 25vh;\n  overflow-y: auto;\n}\n.suggestion {\n  text-transform: lowercase;\n}\n.input {\n  width: 100%;\n  outline: none;\n  border: none;\n}\n.suggestion:hover {\n  background-color: #a8d1ff;\n}\n.divider {\n  border-bottom: 1px solid rgba(0, 0, 0, .2);\n  margin-bottom: 10px;\n  margin-top: 10px;\n}\n</style>\n"],"mappings":"AAaA,OAAAA,IAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,UAAA;MACAJ,IAAA,EAAAA,IAAA;MACAK,SAAA,EAAAL,IAAA,CAAAK,SAAA;MACAC,QAAA,EAAAN,IAAA,CAAAM;IACA;EACA;EACAC,OAAA;IACAC,QAAAC,KAAA;MACA,IAAAA,KAAA,CAAAC,GAAA,qBAAAC,WAAA,CAAAC,MAAA;QACA,IAAAZ,IAAA,CAAAM,QAAA,CAAAO,QAAA;UACA,MAAAC,MAAA,QAAAH,WAAA;UACAX,IAAA,CAAAM,QAAA,CAAAS,gBAAA,CAAAD,MAAA;QACA;QAEA,KAAAE,IAAA;QACAP,KAAA,CAAAQ,cAAA;MACA,WAAAR,KAAA,CAAAC,GAAA;QACAD,KAAA,CAAAQ,cAAA;QACA,KAAAD,IAAA;MACA;IACA;IACAE,MAAA;MACA,KAAAC,KAAA,UAAAD,KAAA;IACA;IACAF,KAAA;MACAhB,IAAA,CAAAoB,GAAA,CAAAC,aAAA;MACA,KAAAC,KAAA;IACA;IACAC,QAAAC,UAAA,EAAAf,KAAA;MACAT,IAAA,CAAAoB,GAAA,CAAAL,gBAAA,CAAAS,UAAA;MACAf,KAAA,CAAAQ,cAAA;MACA,KAAAD,IAAA;IACA;EACA;EACAS,QAAA;IACAd,YAAA;MACA,OAAAe,KAAA,CAAAC,IAAA,CAAA3B,IAAA,CAAAM,QAAA,CAAAsB,cAAA;IACA;IACAC,KAAA;MACAC,GAAA,WAAAA,CAAA;QACA,OAAA9B,IAAA,CAAAM,QAAA,CAAAO,QAAA;MACA;MACAkB,GAAA,WAAAA,CAAAF,KAAA;QACA7B,IAAA,CAAAM,QAAA,CAAA0B,QAAA,CAAAH,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}