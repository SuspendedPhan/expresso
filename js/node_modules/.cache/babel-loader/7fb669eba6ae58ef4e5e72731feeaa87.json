{"remainingRequest":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WatLine.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/src/components/WatLine.vue","mtime":1714946187073},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/babel.config.js","mtime":1714946187052},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/babel-loader/lib/index.js","mtime":1714947394795},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/cache-loader/dist/cjs.js","mtime":1714947270264},{"path":"/Users/dylan.phan/stuff/expr-explorations/expresso/js/node_modules/vue-loader/lib/index.js","mtime":1714947393584}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9keWxhbi5waGFuL3N0dWZmL2V4cHItZXhwbG9yYXRpb25zL2V4cHJlc3NvL2pzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbml0aWFsaXplckRlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvZHlsYW4ucGhhbi9zdHVmZi9leHByLWV4cGxvcmF0aW9ucy9leHByZXNzby9qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciBmcm9tICIvVXNlcnMvZHlsYW4ucGhhbi9zdHVmZi9leHByLWV4cGxvcmF0aW9ucy9leHByZXNzby9qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yLmpzIjsKaW1wb3J0IF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIgZnJvbSAiL1VzZXJzL2R5bGFuLnBoYW4vc3R1ZmYvZXhwci1leHBsb3JhdGlvbnMvZXhwcmVzc28vanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaXRpYWxpemVyV2FybmluZ0hlbHBlci5qcyI7CnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2NsYXNzMiwgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBWaWV3cG9ydCBmcm9tICIuL1ZpZXdwb3J0IjsKaW1wb3J0IEV4cHJlc3NvciBmcm9tICIuL0V4cHJlc3NvciI7CmltcG9ydCBUZXN0UnVubmVyIGZyb20gIi4vdGVzdHMvVGVzdFJ1bm5lci52dWUiOwppbXBvcnQgQ29tcG9uZW50IGZyb20gInZ1ZS1jbGFzcy1jb21wb25lbnQiOwppbXBvcnQgeyBQcm9wIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKbGV0IFdhdExpbmUgPSAoX2RlYyA9IENvbXBvbmVudCgpLCBfZGVjMiA9IFByb3AoKSwgX2RlYzMgPSBQcm9wKCksIF9kZWMoX2NsYXNzID0gKF9jbGFzczIgPSBjbGFzcyBXYXRMaW5lIGV4dGVuZHMgVnVlIHsKICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7CiAgICBzdXBlciguLi5hcmdzKTsKICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsICJjYXJkSWQiLCBfZGVzY3JpcHRvciwgdGhpcyk7CiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCAibm9kZSIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7CiAgfQogIG1vdW50ZWQoKSB7CiAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgIHNldFRpbWVvdXQoKCkgPT4gdGhhdC51cHBlcigpLCAyMDApOwogIH0KICB1cHBlcigpIHsKICAgIGlmICh0aGlzLmNoaWxkQ2FyZHMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICBjb25zdCBsZWZ0UmVjdCA9IHRoaXMuY2hpbGRDYXJkc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIGNvbnN0IHJpZ2h0UmVjdCA9IHRoaXMuY2hpbGRDYXJkc1t0aGlzLmNoaWxkQ2FyZHMubGVuZ3RoIC0gMV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICBjb25zdCBsZWZ0ID0gKGxlZnRSZWN0LmxlZnQgKyBsZWZ0UmVjdC5yaWdodCkgLyAyOwogICAgY29uc3QgcmlnaHQgPSAocmlnaHRSZWN0LmxlZnQgKyByaWdodFJlY3QucmlnaHQpIC8gMjsKICAgIGNvbnN0IGhvcml6b250YWwgPSB0aGlzLiRyZWZzWyJob3Jpem9udGFsIl07CiAgICBob3Jpem9udGFsLnN0eWxlLmxlZnQgPSBsZWZ0ICsgInB4IjsKICAgIGhvcml6b250YWwuc3R5bGUud2lkdGggPSByaWdodCAtIGxlZnQgKyAicHgiOwogICAgY29uc3QgdG9wUmVjdCA9IHRoaXMuY2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIGNvbnN0IHRvcENlbnRlciA9ICh0b3BSZWN0LmxlZnQgKyB0b3BSZWN0LnJpZ2h0KSAvIDI7CiAgICBjb25zdCB0b3AgPSB0b3BSZWN0LmJvdHRvbTsKICAgIGNvbnN0IGhlaWdodCA9IChsZWZ0UmVjdC50b3AgLSB0b3BSZWN0LmJvdHRvbSkgLyAyOwogICAgY29uc3QgdmVydGljYWwgPSB0aGlzLiRyZWZzWyJ2ZXJ0aWNhbCJdOwogICAgdmVydGljYWwuc3R5bGUudG9wID0gdG9wICsgInB4IjsKICAgIHZlcnRpY2FsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICJweCI7CiAgICBmb3IgKGNvbnN0IGNoaWxkQ2FyZCBvZiB0aGlzLmNoaWxkQ2FyZHMpIHsKICAgICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsaW5lIiArIGNoaWxkQ2FyZC5pZCk7CiAgICAgIGNvbnN0IGNoaWxkUmVjdCA9IGNoaWxkQ2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgY29uc3QgeCA9IChjaGlsZFJlY3QubGVmdCArIGNoaWxkUmVjdC5yaWdodCkgLyAyOwogICAgICBjb25zdCB0b3AgPSB0b3BSZWN0LmJvdHRvbSArIGhlaWdodDsKICAgICAgbGluZS5zdHlsZS5sZWZ0ID0geCArICJweCI7CiAgICAgIGxpbmUuc3R5bGUudG9wID0gdG9wICsgInB4IjsKICAgICAgbGluZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAicHgiOwogICAgfQogIH0KICBnZXQgY2FyZCgpIHsKICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhcmRJZCk7CiAgfQogIGdldCBjaGlsZENhcmRzKCkgewogICAgaWYgKCF0aGlzLm5vZGUpIHJldHVybiBbXTsKICAgIGNvbnN0IGNhcmRJZHMgPSB0aGlzLm5vZGUuY2FyZElkcygpOwogICAgY29uc3QgcmV0ID0gW107CiAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiBjYXJkSWRzKSB7CiAgICAgIHJldC5wdXNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhcmRJZCkpOwogICAgfQogICAgcmV0dXJuIHJldDsKICB9Cn0sIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICJjYXJkSWQiLCBbX2RlYzJdLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAogIGVudW1lcmFibGU6IHRydWUsCiAgd3JpdGFibGU6IHRydWUsCiAgaW5pdGlhbGl6ZXI6IG51bGwKfSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICJub2RlIiwgW19kZWMzXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBudWxsCn0pKSwgX2NsYXNzMikpIHx8IF9jbGFzcyk7CmV4cG9ydCB7IFdhdExpbmUgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["Viewport","Expressor","TestRunner","Component","Prop","Vue","WatLine","_dec","_dec2","_dec3","_class","_class2","constructor","args","_initializerDefineProperty","_descriptor","_descriptor2","mounted","that","setTimeout","upper","childCards","length","leftRect","getBoundingClientRect","rightRect","left","right","horizontal","$refs","style","width","topRect","card","topCenter","top","bottom","height","vertical","childCard","line","document","getElementById","id","childRect","x","cardId","node","cardIds","ret","push","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","default"],"sources":["src/components/WatLine.vue"],"sourcesContent":["<template>\n  <div class=\"WatLine\" v-if=\"childCards.length > 0\">\n    <div class=\"line\" ref=\"horizontal\" v-show=\"childCards.length > 1\"></div>\n    <div class=\"line\" ref=\"vertical\"></div>\n    <div\n      class=\"line\"\n      ref=\"verticalChild\"\n      v-for=\"child in childCards\"\n      :key=\"child.id\"\n      :id=\"'line' + child.id\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport Viewport from \"./Viewport\";\nimport Expressor from \"./Expressor\";\nimport TestRunner from \"./tests/TestRunner.vue\";\nimport Component from \"vue-class-component\";\nimport { Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\n\n@Component()\nexport default class WatLine extends Vue {\n  @Prop() cardId;\n  @Prop() node;\n\n  mounted() {\n    const that = this;\n    setTimeout(() => that.upper(), 200);\n  }\n\n  upper() {\n    if (this.childCards.length === 0) return;\n\n    const leftRect = this.childCards[0].getBoundingClientRect();\n    const rightRect = this.childCards[\n      this.childCards.length - 1\n    ].getBoundingClientRect();\n\n    const left = (leftRect.left + leftRect.right) / 2;\n    const right = (rightRect.left + rightRect.right) / 2;\n    const horizontal = this.$refs[\"horizontal\"];\n    horizontal.style.left = left + \"px\";\n    horizontal.style.width = right - left + \"px\";\n\n    const topRect = this.card.getBoundingClientRect();\n    const topCenter = (topRect.left + topRect.right) / 2;\n    const top = topRect.bottom;\n    const height = (leftRect.top - topRect.bottom) / 2;\n    const vertical = this.$refs[\"vertical\"];\n    vertical.style.top = top + \"px\";\n    vertical.style.height = height + \"px\";\n\n    for (const childCard of this.childCards) {\n      const line = document.getElementById(\"line\" + childCard.id);\n      const childRect = childCard.getBoundingClientRect();\n      const x = (childRect.left + childRect.right) / 2;\n      const top = topRect.bottom + height;\n      line.style.left = x + \"px\";\n      line.style.top = top + \"px\";\n      line.style.height = height + \"px\";\n    }\n  }\n\n  get card() {\n    return document.getElementById(this.cardId);\n  }\n\n  get childCards() {\n    if (!this.node) return [];\n\n    const cardIds = this.node.cardIds();\n    const ret = [];\n    for (const cardId of cardIds) {\n      ret.push(document.getElementById(cardId));\n    }\n\n    return ret;\n  }\n}\n</script>\n<style scoped>\n.line {\n  border: 1px solid rgba(180, 170, 135, 0.6);\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);\n  position: absolute;\n}\n</style>"],"mappings":";;;;;;AAeA,OAAAA,QAAA;AACA,OAAAC,SAAA;AACA,OAAAC,UAAA;AACA,OAAAC,SAAA;AACA,SAAAC,IAAA;AACA,OAAAC,GAAA;AAAA,IAGAC,OAAA,IAAAC,IAAA,GADAJ,SAAA,IAAAK,KAAA,GAEAJ,IAAA,IAAAK,KAAA,GACAL,IAAA,IAAAG,IAAA,CAAAG,MAAA,IAAAC,OAAA,GAHA,MACAL,OAAA,SAAAD,GAAA;EAAAO,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAAC,0BAAA,iBAAAC,WAAA;IAAAD,0BAAA,eAAAE,YAAA;EAAA;EAIAC,QAAA;IACA,MAAAC,IAAA;IACAC,UAAA,OAAAD,IAAA,CAAAE,KAAA;EACA;EAEAA,MAAA;IACA,SAAAC,UAAA,CAAAC,MAAA;IAEA,MAAAC,QAAA,QAAAF,UAAA,IAAAG,qBAAA;IACA,MAAAC,SAAA,QAAAJ,UAAA,CACA,KAAAA,UAAA,CAAAC,MAAA,KACA,CAAAE,qBAAA;IAEA,MAAAE,IAAA,IAAAH,QAAA,CAAAG,IAAA,GAAAH,QAAA,CAAAI,KAAA;IACA,MAAAA,KAAA,IAAAF,SAAA,CAAAC,IAAA,GAAAD,SAAA,CAAAE,KAAA;IACA,MAAAC,UAAA,QAAAC,KAAA;IACAD,UAAA,CAAAE,KAAA,CAAAJ,IAAA,GAAAA,IAAA;IACAE,UAAA,CAAAE,KAAA,CAAAC,KAAA,GAAAJ,KAAA,GAAAD,IAAA;IAEA,MAAAM,OAAA,QAAAC,IAAA,CAAAT,qBAAA;IACA,MAAAU,SAAA,IAAAF,OAAA,CAAAN,IAAA,GAAAM,OAAA,CAAAL,KAAA;IACA,MAAAQ,GAAA,GAAAH,OAAA,CAAAI,MAAA;IACA,MAAAC,MAAA,IAAAd,QAAA,CAAAY,GAAA,GAAAH,OAAA,CAAAI,MAAA;IACA,MAAAE,QAAA,QAAAT,KAAA;IACAS,QAAA,CAAAR,KAAA,CAAAK,GAAA,GAAAA,GAAA;IACAG,QAAA,CAAAR,KAAA,CAAAO,MAAA,GAAAA,MAAA;IAEA,WAAAE,SAAA,SAAAlB,UAAA;MACA,MAAAmB,IAAA,GAAAC,QAAA,CAAAC,cAAA,UAAAH,SAAA,CAAAI,EAAA;MACA,MAAAC,SAAA,GAAAL,SAAA,CAAAf,qBAAA;MACA,MAAAqB,CAAA,IAAAD,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,KAAA;MACA,MAAAQ,GAAA,GAAAH,OAAA,CAAAI,MAAA,GAAAC,MAAA;MACAG,IAAA,CAAAV,KAAA,CAAAJ,IAAA,GAAAmB,CAAA;MACAL,IAAA,CAAAV,KAAA,CAAAK,GAAA,GAAAA,GAAA;MACAK,IAAA,CAAAV,KAAA,CAAAO,MAAA,GAAAA,MAAA;IACA;EACA;EAEA,IAAAJ,KAAA;IACA,OAAAQ,QAAA,CAAAC,cAAA,MAAAI,MAAA;EACA;EAEA,IAAAzB,WAAA;IACA,UAAA0B,IAAA;IAEA,MAAAC,OAAA,QAAAD,IAAA,CAAAC,OAAA;IACA,MAAAC,GAAA;IACA,WAAAH,MAAA,IAAAE,OAAA;MACAC,GAAA,CAAAC,IAAA,CAAAT,QAAA,CAAAC,cAAA,CAAAI,MAAA;IACA;IAEA,OAAAG,GAAA;EACA;AACA,IAAAlC,WAAA,GAAAoC,yBAAA,CAAAxC,OAAA,CAAAyC,SAAA,aAAA5C,KAAA;EAAA6C,YAAA;EAAAC,UAAA;EAAAC,QAAA;EAAAC,WAAA;AAAA,IAAAxC,YAAA,GAAAmC,yBAAA,CAAAxC,OAAA,CAAAyC,SAAA,WAAA3C,KAAA;EAAA4C,YAAA;EAAAC,UAAA;EAAAC,QAAA;EAAAC,WAAA;AAAA,KAAA7C,OAAA,MAAAD,MAAA;AAAA,SAzDAJ,OAAA,IAAAmD,OAAA","ignoreList":[]}]}